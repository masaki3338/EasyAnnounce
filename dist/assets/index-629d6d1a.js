var op=Object.defineProperty;var sp=($,_e,et)=>_e in $?op($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et;var Eo=($,_e,et)=>(sp($,typeof _e!="symbol"?_e+"":_e,et),et),xa=($,_e,et)=>{if(!_e.has($))throw TypeError("Cannot "+et)};var _t=($,_e,et)=>(xa($,_e,"read from private field"),et?et.call($):_e.get($)),en=($,_e,et)=>{if(_e.has($))throw TypeError("Cannot add the same private member more than once");_e instanceof WeakSet?_e.add($):_e.set($,et)},Pn=($,_e,et,tt)=>(xa($,_e,"write to private field"),tt?tt.call($,et):_e.set($,et),et);var bs=($,_e,et,tt)=>({set _(nt){Pn($,_e,nt,et)},get _(){return _t($,_e,tt)}}),gn=($,_e,et)=>(xa($,_e,"access private method"),et);import"@react-pdf-viewer/core/lib/styles/index.css";import"@react-pdf-viewer/default-layout/lib/styles/index.css";(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var _e=$.default;if(typeof _e=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};et.prototype=_e.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys($).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor($,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return $[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$f=Symbol.for("react.element"),n$g=Symbol.for("react.portal"),p$a=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$f=Symbol.for("react.profiler"),t$f=Symbol.for("react.provider"),u$e=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1($){return $===null||typeof $!="object"?null:($=z$2&&$[z$2]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$2={};function E$7($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$1}E$7.prototype.isReactComponent={};E$7.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$7.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$1(){}F$1.prototype=E$7.prototype;function G$1($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$1}var H$1=G$1.prototype=new F$1;H$1.constructor=G$1;C$5(H$1,E$7.prototype);H$1.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4($,_e,et){var tt,nt={},rt=null,it=null;if(_e!=null)for(tt in _e.ref!==void 0&&(it=_e.ref),_e.key!==void 0&&(rt=""+_e.key),_e)J.call(_e,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);var ot=arguments.length-2;if(ot===1)nt.children=et;else if(1<ot){for(var st=Array(ot),lt=0;lt<ot;lt++)st[lt]=arguments[lt+2];nt.children=st}if($&&$.defaultProps)for(tt in ot=$.defaultProps,ot)nt[tt]===void 0&&(nt[tt]=ot[tt]);return{$$typeof:l$f,type:$,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$2($,_e){return{$$typeof:l$f,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$1($){return typeof $=="object"&&$!==null&&$.$$typeof===l$f}function escape$1($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$4=/\/+/g;function Q$1($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):_e.toString(36)}function R$1($,_e,et,tt,nt){var rt=typeof $;(rt==="undefined"||rt==="boolean")&&($=null);var it=!1;if($===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch($.$$typeof){case l$f:case n$g:it=!0}}if(it)return it=$,nt=nt(it),$=tt===""?"."+Q$1(it,0):tt,I$4(nt)?(et="",$!=null&&(et=$.replace(P$4,"$&/")+"/"),R$1(nt,_e,et,"",function(lt){return lt})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+$)),_e.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$4($))for(var ot=0;ot<$.length;ot++){rt=$[ot];var st=tt+Q$1(rt,ot);it+=R$1(rt,_e,et,st,nt)}else if(st=A$1($),typeof st=="function")for($=st.call($),ot=0;!(rt=$.next()).done;)rt=rt.value,st=tt+Q$1(rt,ot++),it+=R$1(rt,_e,et,st,nt);else if(rt==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return it}function S$6($,_e,et){if($==null)return $;var tt=[],nt=0;return R$1($,tt,"","",function(rt){return _e.call(et,rt,nt++)}),tt}function T$2($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$6,forEach:function($,_e,et){S$6($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$6($,function(){_e++}),_e},toArray:function($){return S$6($,function(_e){return _e})||[]},only:function($){if(!O$1($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$7;react_production_min.Fragment=p$a;react_production_min.Profiler=r$f;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$5({},$.props),nt=$.key,rt=$.ref,it=$._owner;if(_e!=null){if(_e.ref!==void 0&&(rt=_e.ref,it=K$1.current),_e.key!==void 0&&(nt=""+_e.key),$.type&&$.type.defaultProps)var ot=$.type.defaultProps;for(st in _e)J.call(_e,st)&&!L$2.hasOwnProperty(st)&&(tt[st]=_e[st]===void 0&&ot!==void 0?ot[st]:_e[st])}var st=arguments.length-2;if(st===1)tt.children=et;else if(1<st){ot=Array(st);for(var lt=0;lt<st;lt++)ot[lt]=arguments[lt+2];tt.children=ot}return{$$typeof:l$f,type:$.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function($){return $={$$typeof:u$e,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$f,_context:$},$.Consumer=$};react_production_min.createElement=M$4;react_production_min.createFactory=function($){var _e=M$4.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$7,render:$}};react_production_min.isValidElement=O$1;react_production_min.lazy=function($){return{$$typeof:y$2,_payload:{_status:-1,_result:$},_init:T$2}};react_production_min.memo=function($,_e){return{$$typeof:x$2,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function($,_e){return U$1.current.useCallback($,_e)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$1.current.useEffect($,_e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$1.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$1.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$1.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$1.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$1.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$1.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$4=Symbol.for("react.element"),l$e=Symbol.for("react.fragment"),m$b=Object.prototype.hasOwnProperty,n$f=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$9={key:!0,ref:!0,__self:!0,__source:!0};function q($,_e,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),_e.key!==void 0&&(rt=""+_e.key),_e.ref!==void 0&&(it=_e.ref);for(tt in _e)m$b.call(_e,tt)&&!p$9.hasOwnProperty(tt)&&(nt[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)nt[tt]===void 0&&(nt[tt]=_e[tt]);return{$$typeof:k$4,type:$,key:rt,ref:it,props:nt,_owner:n$f.current}}reactJsxRuntime_production_min.Fragment=l$e;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function _e(Bt,nn){var tn=Bt.length;Bt.push(nn);e:for(;0<tn;){var _n=tn-1>>>1,Nn=Bt[_n];if(0<nt(Nn,nn))Bt[_n]=nn,Bt[tn]=Nn,tn=_n;else break e}}function et(Bt){return Bt.length===0?null:Bt[0]}function tt(Bt){if(Bt.length===0)return null;var nn=Bt[0],tn=Bt.pop();if(tn!==nn){Bt[0]=tn;e:for(var _n=0,Nn=Bt.length,Lt=Nn>>>1;_n<Lt;){var Et=2*(_n+1)-1,Ct=Bt[Et],St=Et+1,Rt=Bt[St];if(0>nt(Ct,tn))St<Nn&&0>nt(Rt,Ct)?(Bt[_n]=Rt,Bt[St]=tn,_n=St):(Bt[_n]=Ct,Bt[Et]=tn,_n=Et);else if(St<Nn&&0>nt(Rt,tn))Bt[_n]=Rt,Bt[St]=tn,_n=St;else break e}}return nn}function nt(Bt,nn){var tn=Bt.sortIndex-nn.sortIndex;return tn!==0?tn:Bt.id-nn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;$.unstable_now=function(){return rt.now()}}else{var it=Date,ot=it.now();$.unstable_now=function(){return it.now()-ot}}var st=[],lt=[],at=1,mt=null,ft=3,gt=!1,vt=!1,dt=!1,pt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Bt){for(var nn=et(lt);nn!==null;){if(nn.callback===null)tt(lt);else if(nn.startTime<=Bt)tt(lt),nn.sortIndex=nn.expirationTime,_e(st,nn);else break;nn=et(lt)}}function yt(Bt){if(dt=!1,xt(Bt),!vt)if(et(st)!==null)vt=!0,qt(ht);else{var nn=et(lt);nn!==null&&un(yt,nn.startTime-Bt)}}function ht(Bt,nn){vt=!1,dt&&(dt=!1,ut(Pt),Pt=-1),gt=!0;var tn=ft;try{for(xt(nn),mt=et(st);mt!==null&&(!(mt.expirationTime>nn)||Bt&&!Mt());){var _n=mt.callback;if(typeof _n=="function"){mt.callback=null,ft=mt.priorityLevel;var Nn=_n(mt.expirationTime<=nn);nn=$.unstable_now(),typeof Nn=="function"?mt.callback=Nn:mt===et(st)&&tt(st),xt(nn)}else tt(st);mt=et(st)}if(mt!==null)var Lt=!0;else{var Et=et(lt);Et!==null&&un(yt,Et.startTime-nn),Lt=!1}return Lt}finally{mt=null,ft=tn,gt=!1}}var bt=!1,Tt=null,Pt=-1,wt=5,kt=-1;function Mt(){return!($.unstable_now()-kt<wt)}function Dt(){if(Tt!==null){var Bt=$.unstable_now();kt=Bt;var nn=!0;try{nn=Tt(!0,Bt)}finally{nn?Ht():(bt=!1,Tt=null)}}else bt=!1}var Ht;if(typeof ct=="function")Ht=function(){ct(Dt)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Vt=Nt.port2;Nt.port1.onmessage=Dt,Ht=function(){Vt.postMessage(null)}}else Ht=function(){pt(Dt,0)};function qt(Bt){Tt=Bt,bt||(bt=!0,Ht())}function un(Bt,nn){Pt=pt(function(){Bt($.unstable_now())},nn)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Bt){Bt.callback=null},$.unstable_continueExecution=function(){vt||gt||(vt=!0,qt(ht))},$.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<Bt?Math.floor(1e3/Bt):5},$.unstable_getCurrentPriorityLevel=function(){return ft},$.unstable_getFirstCallbackNode=function(){return et(st)},$.unstable_next=function(Bt){switch(ft){case 1:case 2:case 3:var nn=3;break;default:nn=ft}var tn=ft;ft=nn;try{return Bt()}finally{ft=tn}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Bt,nn){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var tn=ft;ft=Bt;try{return nn()}finally{ft=tn}},$.unstable_scheduleCallback=function(Bt,nn,tn){var _n=$.unstable_now();switch(typeof tn=="object"&&tn!==null?(tn=tn.delay,tn=typeof tn=="number"&&0<tn?_n+tn:_n):tn=_n,Bt){case 1:var Nn=-1;break;case 2:Nn=250;break;case 5:Nn=1073741823;break;case 4:Nn=1e4;break;default:Nn=5e3}return Nn=tn+Nn,Bt={id:at++,callback:nn,priorityLevel:Bt,startTime:tn,expirationTime:Nn,sortIndex:-1},tn>_n?(Bt.sortIndex=tn,_e(lt,Bt),et(st)===null&&Bt===et(lt)&&(dt?(ut(Pt),Pt=-1):dt=!0,un(yt,tn-_n))):(Bt.sortIndex=Nn,_e(st,Bt),vt||gt||(vt=!0,qt(ht))),Bt},$.unstable_shouldYield=Mt,$.unstable_wrapCallback=function(Bt){var nn=ft;return function(){var tn=ft;ft=nn;try{return Bt.apply(this,arguments)}finally{ft=tn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$8($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e>"u"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$6($,_e,et,tt,nt,rt,it){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=rt,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$1[$]=new v$6($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z$1[_e]=new v$6(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$1[$]=new v$6($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$1[$]=new v$6($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$1[$]=new v$6($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$1[$]=new v$6($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$1[$]=new v$6($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$1[$]=new v$6($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$1[$]=new v$6($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z$1[_e]=new v$6(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$1[$]=new v$6($,1,!1,$.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$1[$]=new v$6($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var nt=z$1.hasOwnProperty(_e)?z$1[_e]:null;(nt!==null?nt.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,nt,tt)&&(et=null),tt||nt===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):nt.mustUseProperty?$[nt.propertyName]=et===null?nt.type===3?!1:"":et:(_e=nt.attributeName,tt=nt.attributeNamespace,et===null?$.removeAttribute(_e):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(lt){var tt=lt}Reflect.construct($,[],_e)}else{try{_e.call()}catch(lt){tt=lt}$.call(_e.prototype)}else{try{throw Error()}catch(lt){tt=lt}$()}}catch(lt){if(lt&&tt&&typeof lt.stack=="string"){for(var nt=lt.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,ot=rt.length-1;1<=it&&0<=ot&&nt[it]!==rt[ot];)ot--;for(;1<=it&&0<=ot;it--,ot--)if(nt[it]!==rt[ot]){if(it!==1||ot!==1)do if(it--,ot--,0>ot||nt[it]!==rt[ot]){var st=`
`+nt[it].replace(" at new "," at ");return $.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",$.displayName)),st}while(1<=it&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var nt=0;nt<et.length;nt++)_e["$"+et[nt]]=!0;for(et=0;et<$.length;et++)nt=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==nt&&($[et].selected=nt),nt&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,nt=0;nt<$.length;nt++){if($[nt].value===et){$[nt].selected=!0,tt&&($[nt].defaultSelected=!0);return}_e!==null||$[nt].disabled||(_e=$[nt])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$8(91));return A({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$8(92));if(eb(et)){if(1<et.length)throw Error(p$8(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,nt)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,nt):$[et]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$8(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$8(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$8(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$8(62))}}function vb($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$8(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$8(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,nt,rt,it,ot,st){var lt=Array.prototype.slice.call(arguments,3);try{_e.apply(et,lt)}catch(at){this.onError(at)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,nt,rt,it,ot,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,nt,rt,it,ot,st){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$8(198));Qb||(Qb=!0,Rb=lt)}}function Vb($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,_e.flags&4098&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$8(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb($),_e===null)throw Error(p$8(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),$;if(rt===tt)return Xb(nt),_e;rt=rt.sibling}throw Error(p$8(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it){for(ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it)throw Error(p$8(189))}}if(et.alternate!==tt)throw Error(p$8(190))}if(et.tag!==3)throw Error(p$8(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,nt=$.suspendedLanes,rt=$.pingedLanes,it=et&268435455;if(it!==0){var ot=it&~nt;ot!==0?tt=tc(ot):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if(_e!==0&&_e!==tt&&!(_e&nt)&&(nt=tt&-tt,rt=_e&-_e,nt>=rt||nt===16&&(rt&4194240)!==0))return _e;if(tt&4&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),nt=1<<et,tt|=$[et],_e&=~nt;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,nt=$.expirationTimes,rt=$.pendingLanes;0<rt;){var it=31-oc(rt),ot=1<<it,st=nt[it];st===-1?(!(ot&et)||ot&tt)&&(nt[it]=vc(ot,_e)):st<=_e&&($.expiredLanes|=ot),rt&=~ot}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;_e[nt]=0,tt[nt]=-1,$[nt]=-1,et&=~rt}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&_e|$[tt]&_e&&($[tt]|=_e),et&=~nt}}var C$4=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,nt,rt){return $===null||$.nativeEvent!==rt?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),$)}function Uc($,_e,et,tt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,$,_e,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,$,_e,et,tt,nt)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(nt){return ad(nt,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var nt=C$4,rt=cd.transition;cd.transition=null;try{C$4=1,fd($,_e,et,tt)}finally{C$4=nt,cd.transition=rt}}function gd($,_e,et,tt){var nt=C$4,rt=cd.transition;cd.transition=null;try{C$4=4,fd($,_e,et,tt)}finally{C$4=nt,cd.transition=rt}}function fd($,_e,et,tt){if(dd){var nt=Yc($,_e,et,tt);if(nt===null)hd($,_e,tt,id,et),Sc($,tt);else if(Uc(nt,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc($,_e,et,tt),rt===null&&hd($,_e,tt,id,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id=null;function Yc($,_e,et,tt){if(id=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for($=0;$<et&&_e[$]===nt[$];$++);var it=et-$;for(tt=1;tt<=it&&_e[et-tt]===nt[rt-tt];tt++);return md=nt.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var ot in $)$.hasOwnProperty(ot)&&(et=$[ot],this[ot]=et?et(rt):rt[ot]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call(_e,nt)||!He($[nt],_e[nt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!$.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&($.rangeCount!==1||$.anchorNode!==nt.node||$.anchorOffset!==nt.offset||$.focusNode!==it.node||$.focusOffset!==it.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),$.removeAllRanges(),rt>tt?($.addRange(_e),$.extend(it.node,it.offset)):(_e.setEnd(it.node,it.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if(_e)for(var it=tt.length-1;0<=it;it--){var ot=tt[it],st=ot.instance,lt=ot.currentTarget;if(ot=ot.listener,st!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,lt),rt=st}else for(it=0;it<tt.length;it++){if(ot=tt[it],st=ot.instance,lt=ot.currentTarget,ot=ot.listener,st!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,lt),rt=st}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D$1($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,_e,et,$),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),tt?nt!==void 0?$.addEventListener(_e,et,{capture:!0,passive:nt}):$.addEventListener(_e,et,!0):nt!==void 0?$.addEventListener(_e,et,{passive:nt}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,nt){var rt=tt;if(!(_e&1)&&!(_e&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var ot=tt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var st=it.tag;if((st===3||st===4)&&(st=it.stateNode.containerInfo,st===nt||st.nodeType===8&&st.parentNode===nt))return;it=it.return}for(;ot!==null;){if(it=Wc(ot),it===null)return;if(st=it.tag,st===5||st===6){tt=rt=it;continue e}ot=ot.parentNode}}tt=tt.return}Jb(function(){var lt=rt,at=xb(et),mt=[];e:{var ft=df.get($);if(ft!==void 0){var gt=td,vt=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":gt=Rd;break;case"focusin":vt="focus",gt=Fd;break;case"focusout":vt="blur",gt=Fd;break;case"beforeblur":case"afterblur":gt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Vd;break;case $e:case af:case bf:gt=Hd;break;case cf:gt=Xd;break;case"scroll":gt=vd;break;case"wheel":gt=Zd;break;case"copy":case"cut":case"paste":gt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Td}var dt=(_e&4)!==0,pt=!dt&&$==="scroll",ut=dt?ft!==null?ft+"Capture":null:ft;dt=[];for(var ct=lt,xt;ct!==null;){xt=ct;var yt=xt.stateNode;if(xt.tag===5&&yt!==null&&(xt=yt,ut!==null&&(yt=Kb(ct,ut),yt!=null&&dt.push(tf(ct,yt,xt)))),pt)break;ct=ct.return}0<dt.length&&(ft=new gt(ft,vt,null,et,at),mt.push({event:ft,listeners:dt}))}}if(!(_e&7)){e:{if(ft=$==="mouseover"||$==="pointerover",gt=$==="mouseout"||$==="pointerout",ft&&et!==wb&&(vt=et.relatedTarget||et.fromElement)&&(Wc(vt)||vt[uf]))break e;if((gt||ft)&&(ft=at.window===at?at:(ft=at.ownerDocument)?ft.defaultView||ft.parentWindow:window,gt?(vt=et.relatedTarget||et.toElement,gt=lt,vt=vt?Wc(vt):null,vt!==null&&(pt=Vb(vt),vt!==pt||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(gt=null,vt=lt),gt!==vt)){if(dt=Bd,yt="onMouseLeave",ut="onMouseEnter",ct="mouse",($==="pointerout"||$==="pointerover")&&(dt=Td,yt="onPointerLeave",ut="onPointerEnter",ct="pointer"),pt=gt==null?ft:ue(gt),xt=vt==null?ft:ue(vt),ft=new dt(yt,ct+"leave",gt,et,at),ft.target=pt,ft.relatedTarget=xt,yt=null,Wc(at)===lt&&(dt=new dt(ut,ct+"enter",vt,et,at),dt.target=xt,dt.relatedTarget=pt,yt=dt),pt=yt,gt&&vt)t:{for(dt=gt,ut=vt,ct=0,xt=dt;xt;xt=vf(xt))ct++;for(xt=0,yt=ut;yt;yt=vf(yt))xt++;for(;0<ct-xt;)dt=vf(dt),ct--;for(;0<xt-ct;)ut=vf(ut),xt--;for(;ct--;){if(dt===ut||ut!==null&&dt===ut.alternate)break t;dt=vf(dt),ut=vf(ut)}dt=null}else dt=null;gt!==null&&wf(mt,ft,gt,dt,!1),vt!==null&&pt!==null&&wf(mt,pt,vt,dt,!0)}}e:{if(ft=lt?ue(lt):window,gt=ft.nodeName&&ft.nodeName.toLowerCase(),gt==="select"||gt==="input"&&ft.type==="file")var ht=ve;else if(me(ft))if(we)ht=Fe;else{ht=De;var bt=Ce}else(gt=ft.nodeName)&&gt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(ht=Ee);if(ht&&(ht=ht($,lt))){ne(mt,ht,et,at);break e}bt&&bt($,ft,lt),$==="focusout"&&(bt=ft._wrapperState)&&bt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(bt=lt?ue(lt):window,$){case"focusin":(me(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(mt,et,at);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(mt,et,at)}var Tt;if(ae)e:{switch($){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie?ge($,et)&&(Pt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(Pt="onCompositionStart");Pt&&(de&&et.locale!=="ko"&&(ie||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie&&(Tt=nd()):(kd=at,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(lt,Pt),0<bt.length&&(Pt=new Ld(Pt,$,null,et,at),mt.push({event:Pt,listeners:bt}),Tt?Pt.data=Tt:(Tt=he(et),Tt!==null&&(Pt.data=Tt)))),(Tt=ce?je($,et):ke($,et))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(at=new Ld("onBeforeInput","beforeinput",null,et,at),mt.push({event:at,listeners:lt}),at.data=Tt))}se(mt,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var nt=$,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb($,et),rt!=null&&tt.unshift(tf($,rt,nt)),rt=Kb($,_e),rt!=null&&tt.push(tf($,rt,nt))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,nt){for(var rt=_e._reactName,it=[];et!==null&&et!==tt;){var ot=et,st=ot.alternate,lt=ot.stateNode;if(st!==null&&st===tt)break;ot.tag===5&&lt!==null&&(ot=lt,nt?(st=Kb(et,rt),st!=null&&it.unshift(tf(et,st,ot))):nt||(st=Kb(et,rt),st!=null&&it.push(tf(et,st,ot)))),et=et.return}it.length!==0&&$.push({event:_e,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$8(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var nt=et.nextSibling;if($.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){$.removeChild(nt),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$8(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$6($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=_e[rt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$6(Wf),E$6(H)}function ag($,_e,et){if(H.current!==Vf)throw Error(p$8(168));G(H,_e),G(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in _e))throw Error(p$8(108,Ra($)||"Unknown",nt));return A({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$8(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$6(Wf),E$6(H),G(H,$)):E$6(Wf),G(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C$4;try{var et=eg;for(C$4=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),nt}finally{C$4=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc(_e)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc(_e)+nt|et<<nt|tt,sg=rt+$}else rg=1<<rt|et<<nt|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$3){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$8(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I$3=!1,xg=$)}}else{if(Dg($))throw Error(p$8(418));$.flags=$.flags&-4097|2,I$3=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$3)return Fg($),I$3=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$8(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$8(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$8(309));var tt=et.stateNode}if(!tt)throw Error(p$8(147,$));var nt=tt,rt=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===rt?_e.ref:(_e=function(it){var ot=nt.refs;it===null?delete ot[rt]:ot[rt]=it},_e._stringRef=rt,_e)}if(typeof $!="string")throw Error(p$8(284));if(!et._owner)throw Error(p$8(290,$))}return $}function Mg($,_e){throw $=Object.prototype.toString.call(_e),Error(p$8(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function Ng($){var _e=$._init;return _e($._payload)}function Og($){function _e(ut,ct){if($){var xt=ut.deletions;xt===null?(ut.deletions=[ct],ut.flags|=16):xt.push(ct)}}function et(ut,ct){if(!$)return null;for(;ct!==null;)_e(ut,ct),ct=ct.sibling;return null}function tt(ut,ct){for(ut=new Map;ct!==null;)ct.key!==null?ut.set(ct.key,ct):ut.set(ct.index,ct),ct=ct.sibling;return ut}function nt(ut,ct){return ut=Pg(ut,ct),ut.index=0,ut.sibling=null,ut}function rt(ut,ct,xt){return ut.index=xt,$?(xt=ut.alternate,xt!==null?(xt=xt.index,xt<ct?(ut.flags|=2,ct):xt):(ut.flags|=2,ct)):(ut.flags|=1048576,ct)}function it(ut){return $&&ut.alternate===null&&(ut.flags|=2),ut}function ot(ut,ct,xt,yt){return ct===null||ct.tag!==6?(ct=Qg(xt,ut.mode,yt),ct.return=ut,ct):(ct=nt(ct,xt),ct.return=ut,ct)}function st(ut,ct,xt,yt){var ht=xt.type;return ht===ya?at(ut,ct,xt.props.children,yt,xt.key):ct!==null&&(ct.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===ct.type)?(yt=nt(ct,xt.props),yt.ref=Lg(ut,ct,xt),yt.return=ut,yt):(yt=Rg(xt.type,xt.key,xt.props,null,ut.mode,yt),yt.ref=Lg(ut,ct,xt),yt.return=ut,yt)}function lt(ut,ct,xt,yt){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==xt.containerInfo||ct.stateNode.implementation!==xt.implementation?(ct=Sg(xt,ut.mode,yt),ct.return=ut,ct):(ct=nt(ct,xt.children||[]),ct.return=ut,ct)}function at(ut,ct,xt,yt,ht){return ct===null||ct.tag!==7?(ct=Tg(xt,ut.mode,yt,ht),ct.return=ut,ct):(ct=nt(ct,xt),ct.return=ut,ct)}function mt(ut,ct,xt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ct=Qg(""+ct,ut.mode,xt),ct.return=ut,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return xt=Rg(ct.type,ct.key,ct.props,null,ut.mode,xt),xt.ref=Lg(ut,null,ct),xt.return=ut,xt;case wa:return ct=Sg(ct,ut.mode,xt),ct.return=ut,ct;case Ha:var yt=ct._init;return mt(ut,yt(ct._payload),xt)}if(eb(ct)||Ka(ct))return ct=Tg(ct,ut.mode,xt,null),ct.return=ut,ct;Mg(ut,ct)}return null}function ft(ut,ct,xt,yt){var ht=ct!==null?ct.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ht!==null?null:ot(ut,ct,""+xt,yt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===ht?st(ut,ct,xt,yt):null;case wa:return xt.key===ht?lt(ut,ct,xt,yt):null;case Ha:return ht=xt._init,ft(ut,ct,ht(xt._payload),yt)}if(eb(xt)||Ka(xt))return ht!==null?null:at(ut,ct,xt,yt,null);Mg(ut,xt)}return null}function gt(ut,ct,xt,yt,ht){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return ut=ut.get(xt)||null,ot(ct,ut,""+yt,ht);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return ut=ut.get(yt.key===null?xt:yt.key)||null,st(ct,ut,yt,ht);case wa:return ut=ut.get(yt.key===null?xt:yt.key)||null,lt(ct,ut,yt,ht);case Ha:var bt=yt._init;return gt(ut,ct,xt,bt(yt._payload),ht)}if(eb(yt)||Ka(yt))return ut=ut.get(xt)||null,at(ct,ut,yt,ht,null);Mg(ct,yt)}return null}function vt(ut,ct,xt,yt){for(var ht=null,bt=null,Tt=ct,Pt=ct=0,wt=null;Tt!==null&&Pt<xt.length;Pt++){Tt.index>Pt?(wt=Tt,Tt=null):wt=Tt.sibling;var kt=ft(ut,Tt,xt[Pt],yt);if(kt===null){Tt===null&&(Tt=wt);break}$&&Tt&&kt.alternate===null&&_e(ut,Tt),ct=rt(kt,ct,Pt),bt===null?ht=kt:bt.sibling=kt,bt=kt,Tt=wt}if(Pt===xt.length)return et(ut,Tt),I$3&&tg(ut,Pt),ht;if(Tt===null){for(;Pt<xt.length;Pt++)Tt=mt(ut,xt[Pt],yt),Tt!==null&&(ct=rt(Tt,ct,Pt),bt===null?ht=Tt:bt.sibling=Tt,bt=Tt);return I$3&&tg(ut,Pt),ht}for(Tt=tt(ut,Tt);Pt<xt.length;Pt++)wt=gt(Tt,ut,Pt,xt[Pt],yt),wt!==null&&($&&wt.alternate!==null&&Tt.delete(wt.key===null?Pt:wt.key),ct=rt(wt,ct,Pt),bt===null?ht=wt:bt.sibling=wt,bt=wt);return $&&Tt.forEach(function(Mt){return _e(ut,Mt)}),I$3&&tg(ut,Pt),ht}function dt(ut,ct,xt,yt){var ht=Ka(xt);if(typeof ht!="function")throw Error(p$8(150));if(xt=ht.call(xt),xt==null)throw Error(p$8(151));for(var bt=ht=null,Tt=ct,Pt=ct=0,wt=null,kt=xt.next();Tt!==null&&!kt.done;Pt++,kt=xt.next()){Tt.index>Pt?(wt=Tt,Tt=null):wt=Tt.sibling;var Mt=ft(ut,Tt,kt.value,yt);if(Mt===null){Tt===null&&(Tt=wt);break}$&&Tt&&Mt.alternate===null&&_e(ut,Tt),ct=rt(Mt,ct,Pt),bt===null?ht=Mt:bt.sibling=Mt,bt=Mt,Tt=wt}if(kt.done)return et(ut,Tt),I$3&&tg(ut,Pt),ht;if(Tt===null){for(;!kt.done;Pt++,kt=xt.next())kt=mt(ut,kt.value,yt),kt!==null&&(ct=rt(kt,ct,Pt),bt===null?ht=kt:bt.sibling=kt,bt=kt);return I$3&&tg(ut,Pt),ht}for(Tt=tt(ut,Tt);!kt.done;Pt++,kt=xt.next())kt=gt(Tt,ut,Pt,kt.value,yt),kt!==null&&($&&kt.alternate!==null&&Tt.delete(kt.key===null?Pt:kt.key),ct=rt(kt,ct,Pt),bt===null?ht=kt:bt.sibling=kt,bt=kt);return $&&Tt.forEach(function(Dt){return _e(ut,Dt)}),I$3&&tg(ut,Pt),ht}function pt(ut,ct,xt,yt){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var ht=xt.key,bt=ct;bt!==null;){if(bt.key===ht){if(ht=xt.type,ht===ya){if(bt.tag===7){et(ut,bt.sibling),ct=nt(bt,xt.props.children),ct.return=ut,ut=ct;break e}}else if(bt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===bt.type){et(ut,bt.sibling),ct=nt(bt,xt.props),ct.ref=Lg(ut,bt,xt),ct.return=ut,ut=ct;break e}et(ut,bt);break}else _e(ut,bt);bt=bt.sibling}xt.type===ya?(ct=Tg(xt.props.children,ut.mode,yt,xt.key),ct.return=ut,ut=ct):(yt=Rg(xt.type,xt.key,xt.props,null,ut.mode,yt),yt.ref=Lg(ut,ct,xt),yt.return=ut,ut=yt)}return it(ut);case wa:e:{for(bt=xt.key;ct!==null;){if(ct.key===bt)if(ct.tag===4&&ct.stateNode.containerInfo===xt.containerInfo&&ct.stateNode.implementation===xt.implementation){et(ut,ct.sibling),ct=nt(ct,xt.children||[]),ct.return=ut,ut=ct;break e}else{et(ut,ct);break}else _e(ut,ct);ct=ct.sibling}ct=Sg(xt,ut.mode,yt),ct.return=ut,ut=ct}return it(ut);case Ha:return bt=xt._init,pt(ut,ct,bt(xt._payload),yt)}if(eb(xt))return vt(ut,ct,xt,yt);if(Ka(xt))return dt(ut,ct,xt,yt);Mg(ut,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,ct!==null&&ct.tag===6?(et(ut,ct.sibling),ct=nt(ct,xt),ct.return=ut,ut=ct):(et(ut,ct),ct=Qg(xt,ut.mode,yt),ct.return=ut,ut=ct),it(ut)):et(ut,ct)}return pt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah($){var _e=Wg.current;E$6(Wg),$._currentValue=_e}function bh($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function ch($,_e){Xg=$,Zg=Yg=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&_e&&(dh=!0),$.firstContext=null)}function eh($){var _e=$._currentValue;if(Zg!==$)if($={context:$,memoizedValue:_e,next:null},Yg===null){if(Xg===null)throw Error(p$8(308));Yg=$,Xg.dependencies={lanes:0,firstContext:$}}else Yg=Yg.next=$;return _e}var fh=null;function gh($){fh===null?fh=[$]:fh.push($)}function hh($,_e,et,tt){var nt=_e.interleaved;return nt===null?(et.next=et,gh(_e)):(et.next=nt.next,nt.next=et),_e.interleaved=et,ih($,tt)}function ih($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function mh($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function nh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e,ih($,et)}return nt=tt.interleaved,nt===null?(_e.next=_e,gh(tt)):(_e.next=nt.next,nt.next=_e),tt.interleaved=_e,ih($,et)}function oh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function ph($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=_e:rt=rt.next=_e}else nt=rt=_e;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function qh($,_e,et,tt){var nt=$.updateQueue;jh=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var st=ot,lt=st.next;st.next=null,it===null?rt=lt:it.next=lt,it=st;var at=$.alternate;at!==null&&(at=at.updateQueue,ot=at.lastBaseUpdate,ot!==it&&(ot===null?at.firstBaseUpdate=lt:ot.next=lt,at.lastBaseUpdate=st))}if(rt!==null){var mt=nt.baseState;it=0,at=lt=st=null,ot=rt;do{var ft=ot.lane,gt=ot.eventTime;if((tt&ft)===ft){at!==null&&(at=at.next={eventTime:gt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var vt=$,dt=ot;switch(ft=_e,gt=et,dt.tag){case 1:if(vt=dt.payload,typeof vt=="function"){mt=vt.call(gt,mt,ft);break e}mt=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=dt.payload,ft=typeof vt=="function"?vt.call(gt,mt,ft):vt,ft==null)break e;mt=A({},mt,ft);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&($.flags|=64,ft=nt.effects,ft===null?nt.effects=[ot]:ft.push(ot))}else gt={eventTime:gt,lane:ft,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},at===null?(lt=at=gt,st=mt):at=at.next=gt,it|=ft;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;ft=ot,ot=ft.next,ft.next=null,nt.lastBaseUpdate=ft,nt.shared.pending=null}}while(1);if(at===null&&(st=mt),nt.baseState=st,nt.firstBaseUpdate=lt,nt.lastBaseUpdate=at,_e=nt.shared.interleaved,_e!==null){nt=_e;do it|=nt.lane,nt=nt.next;while(nt!==_e)}else rt===null&&(nt.shared.lanes=0);rh|=it,$.lanes=it,$.memoizedState=mt}}function sh($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$8(191,nt));nt.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh($){if($===th)throw Error(p$8(174));return $}function yh($,_e){switch(G(wh,_e),G(vh,$),G(uh,th),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb(_e,$)}E$6(uh),G(uh,_e)}function zh(){E$6(uh),E$6(vh),E$6(wh)}function Ah($){xh(wh.current);var _e=xh(uh.current),et=lb(_e,$.type);_e!==et&&(G(vh,$),G(uh,et))}function Bh($){vh.current===$&&(E$6(uh),E$6(vh))}var L$1=Uf(0);function Ch($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Dh=[];function Eh(){for(var $=0;$<Dh.length;$++)Dh[$]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$8(321))}function Mh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Nh($,_e,et,tt,nt,rt){if(Hh=rt,M$3=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Fh.current=$===null||$.memoizedState===null?Oh:Ph,$=et(tt,nt),Jh){rt=0;do{if(Jh=!1,Kh=0,25<=rt)throw Error(p$8(301));rt+=1,O=N$1=null,_e.updateQueue=null,Fh.current=Qh,$=et(tt,nt)}while(Jh)}if(Fh.current=Rh,_e=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$3=null,Ih=!1,_e)throw Error(p$8(300));return $}function Sh(){var $=Kh!==0;return Kh=0,$}function Th(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$3.memoizedState=O=$:O=O.next=$,O}function Uh(){if(N$1===null){var $=M$3.alternate;$=$!==null?$.memoizedState:null}else $=N$1.next;var _e=O===null?M$3.memoizedState:O.next;if(_e!==null)O=_e,N$1=$;else{if($===null)throw Error(p$8(310));N$1=$,$={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$3.memoizedState=O=$:O=O.next=$}return O}function Vh($,_e){return typeof _e=="function"?_e($):_e}function Wh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$8(311));et.lastRenderedReducer=$;var tt=N$1,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var ot=it=null,st=null,lt=rt;do{var at=lt.lane;if((Hh&at)===at)st!==null&&(st=st.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),tt=lt.hasEagerState?lt.eagerState:$(tt,lt.action);else{var mt={lane:at,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};st===null?(ot=st=mt,it=tt):st=st.next=mt,M$3.lanes|=at,rh|=at}lt=lt.next}while(lt!==null&&lt!==rt);st===null?it=tt:st.next=ot,He(tt,_e.memoizedState)||(dh=!0),_e.memoizedState=tt,_e.baseState=it,_e.baseQueue=st,et.lastRenderedState=tt}if($=et.interleaved,$!==null){nt=$;do rt=nt.lane,M$3.lanes|=rt,rh|=rt,nt=nt.next;while(nt!==$)}else nt===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function Xh($){var _e=Uh(),et=_e.queue;if(et===null)throw Error(p$8(311));et.lastRenderedReducer=$;var tt=et.dispatch,nt=et.pending,rt=_e.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=$(rt,it.action),it=it.next;while(it!==nt);He(rt,_e.memoizedState)||(dh=!0),_e.memoizedState=rt,_e.baseQueue===null&&(_e.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function Yh(){}function Zh($,_e){var et=M$3,tt=Uh(),nt=_e(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,dh=!0),tt=tt.queue,$h(ai.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||rt||O!==null&&O.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,nt,_e),void 0,null),Q===null)throw Error(p$8(349));Hh&30||di(et,_e,nt)}return nt}function di($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=M$3.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$3.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function ci($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,ei(_e)&&fi($)}function ai($,_e,et){return et(function(){ei(_e)&&fi($)})}function ei($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function fi($){var _e=ih($,1);_e!==null&&gi(_e,$,1,-1)}function hi($){var _e=Th();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:$},_e.queue=$,$=$.dispatch=ii.bind(null,M$3,$),[_e.memoizedState,$]}function bi($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=M$3.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$3.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function ji(){return Uh().memoizedState}function ki($,_e,et,tt){var nt=Th();M$3.flags|=$,nt.memoizedState=bi(1|_e,et,void 0,tt===void 0?null:tt)}function li($,_e,et,tt){var nt=Uh();tt=tt===void 0?null:tt;var rt=void 0;if(N$1!==null){var it=N$1.memoizedState;if(rt=it.destroy,tt!==null&&Mh(tt,it.deps)){nt.memoizedState=bi(_e,et,rt,tt);return}}M$3.flags|=$,nt.memoizedState=bi(1|_e,et,rt,tt)}function mi($,_e){return ki(8390656,8,$,_e)}function $h($,_e){return li(2048,8,$,_e)}function ni($,_e){return li(4,2,$,_e)}function oi($,_e){return li(4,4,$,_e)}function pi($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function qi($,_e,et){return et=et!=null?et.concat([$]):null,li(4,4,pi.bind(null,_e,$),et)}function ri(){}function si($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function ti($,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Mh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function ui($,_e,et){return Hh&21?(He(et,_e)||(et=yc(),M$3.lanes|=et,rh|=et,$.baseState=!0),_e):($.baseState&&($.baseState=!1,dh=!0),$.memoizedState=et)}function vi($,_e){var et=C$4;C$4=et!==0&&4>et?et:4,$(!0);var tt=Gh.transition;Gh.transition={};try{$(!1),_e()}finally{C$4=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi($,_e,et){var tt=yi($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi($))Ai(_e,et);else if(et=hh($,_e,et,tt),et!==null){var nt=R();gi(et,$,tt,nt),Bi(et,_e,tt)}}function ii($,_e,et){var tt=yi($),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi($))Ai(_e,nt);else{var rt=$.alternate;if($.lanes===0&&(rt===null||rt.lanes===0)&&(rt=_e.lastRenderedReducer,rt!==null))try{var it=_e.lastRenderedState,ot=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=ot,He(ot,it)){var st=_e.interleaved;st===null?(nt.next=nt,gh(_e)):(nt.next=st.next,st.next=nt),_e.interleaved=nt;return}}catch{}finally{}et=hh($,_e,nt,tt),et!==null&&(nt=R(),gi(et,$,tt,nt),Bi(et,_e,tt))}}function zi($){var _e=$.alternate;return $===M$3||_e!==null&&_e===M$3}function Ai($,_e){Jh=Ih=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Bi($,_e,et){if(et&4194240){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function($,_e){return Th().memoizedState=[$,_e===void 0?null:_e],$},useContext:eh,useEffect:mi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ki(4194308,4,pi.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ki(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ki(4,2,$,_e)},useMemo:function($,_e){var et=Th();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=Th();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=xi.bind(null,M$3,$),[tt.memoizedState,$]},useRef:function($){var _e=Th();return $={current:$},_e.memoizedState=$},useState:hi,useDebugValue:ri,useDeferredValue:function($){return Th().memoizedState=$},useTransition:function(){var $=hi(!1),_e=$[0];return $=vi.bind(null,$[1]),Th().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=M$3,nt=Th();if(I$3){if(et===void 0)throw Error(p$8(407));et=et()}else{if(et=_e(),Q===null)throw Error(p$8(349));Hh&30||di(tt,_e,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:_e};return nt.queue=rt,mi(ai.bind(null,tt,rt,$),[$]),tt.flags|=2048,bi(9,ci.bind(null,tt,rt,et,_e),void 0,null),et},useId:function(){var $=Th(),_e=Q.identifierPrefix;if(I$3){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Kh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Lh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return ui(_e,N$1.memoizedState,$)},useTransition:function(){var $=Wh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function($){var _e=Uh();return N$1===null?_e.memoizedState=$:ui(_e,N$1.memoizedState,$)},useTransition:function(){var $=Xh(Vh)[0],_e=Uh().memoizedState;return[$,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci($,_e){if($&&$.defaultProps){_e=A({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}function Di($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var Ei={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=R(),nt=yi($),rt=mh(tt,nt);rt.tag=1,rt.payload=_e,et!=null&&(rt.callback=et),_e=nh($,rt,nt),_e!==null&&(gi(_e,$,nt,tt),oh(_e,$,nt))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=R(),tt=yi($),nt=mh(et,tt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=nh($,nt,tt),_e!==null&&(gi(_e,$,tt,et),oh(_e,$,tt))}};function Fi($,_e,et,tt,nt,rt,it){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,rt,it):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function Gi($,_e,et){var tt=!1,nt=Vf,rt=_e.contextType;return typeof rt=="object"&&rt!==null?rt=eh(rt):(nt=Zf(_e)?Xf:H.current,tt=_e.contextTypes,rt=(tt=tt!=null)?Yf($,nt):Vf),_e=new _e(et,rt),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=Ei,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=nt,$.__reactInternalMemoizedMaskedChildContext=rt),_e}function Hi($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&Ei.enqueueReplaceState(_e,_e.state,null)}function Ii($,_e,et,tt){var nt=$.stateNode;nt.props=et,nt.state=$.memoizedState,nt.refs={},kh($);var rt=_e.contextType;typeof rt=="object"&&rt!==null?nt.context=eh(rt):(rt=Zf(_e)?Xf:H.current,nt.context=Yf($,rt)),nt.state=$.memoizedState,rt=_e.getDerivedStateFromProps,typeof rt=="function"&&(Di($,_e,rt,et),nt.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh($,et,nt,tt),nt.state=$.memoizedState),typeof nt.componentDidMount=="function"&&($.flags|=4194308)}function Ji($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:$,source:_e,stack:nt,digest:null}}function Ki($,_e,et){return{value:$,source:null,stack:et??null,digest:_e??null}}function Li($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni($,_e,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li($,_e)},et}function Qi($,_e,et){et=mh(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=_e.value;et.payload=function(){return tt(nt)},et.callback=function(){Li($,_e)}}var rt=$.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Li($,_e),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var it=_e.stack;this.componentDidCatch(_e.value,{componentStack:it!==null?it:""})}),et}function Si($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Mi;var nt=new Set;tt.set(_e,nt)}else nt=tt.get(_e),nt===void 0&&(nt=new Set,tt.set(_e,nt));nt.has(et)||(nt.add(et),$=Ti.bind(null,$,_e,et),_e.then($,$))}function Ui($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Vi($,_e,et,tt,nt){return $.mode&1?($.flags|=65536,$.lanes=nt,$):($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=mh(-1,1),_e.tag=2,nh(et,_e,1))),et.lanes|=1),$)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi($,_e,et,tt){_e.child=$===null?Vg(_e,null,et,tt):Ug(_e,$.child,et,tt)}function Yi($,_e,et,tt,nt){et=et.render;var rt=_e.ref;return ch(_e,nt),tt=Nh($,_e,et,tt,rt,nt),et=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I$3&&et&&vg(_e),_e.flags|=1,Xi($,_e,tt,nt),_e.child)}function $i($,_e,et,tt,nt){if($===null){var rt=et.type;return typeof rt=="function"&&!aj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=rt,bj($,_e,rt,tt,nt)):($=Rg(et.type,null,tt,_e,_e.mode,nt),$.ref=_e.ref,$.return=_e,_e.child=$)}if(rt=$.child,!($.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&$.ref===_e.ref)return Zi($,_e,nt)}return _e.flags|=1,$=Pg(rt,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function bj($,_e,et,tt,nt){if($!==null){var rt=$.memoizedProps;if(Ie(rt,tt)&&$.ref===_e.ref)if(dh=!1,_e.pendingProps=tt=rt,($.lanes&nt)!==0)$.flags&131072&&(dh=!0);else return _e.lanes=$.lanes,Zi($,_e,nt)}return cj($,_e,et,tt,nt)}function dj($,_e,et){var tt=_e.pendingProps,nt=tt.children,rt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=et;else{if(!(et&1073741824))return $=rt!==null?rt.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G(ej,fj),fj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G(ej,fj),fj|=tt}else rt!==null?(tt=rt.baseLanes|et,_e.memoizedState=null):tt=et,G(ej,fj),fj|=tt;return Xi($,_e,nt,et),_e.child}function gj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function cj($,_e,et,tt,nt){var rt=Zf(et)?Xf:H.current;return rt=Yf(_e,rt),ch(_e,nt),et=Nh($,_e,et,tt,rt,nt),tt=Sh(),$!==null&&!dh?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~nt,Zi($,_e,nt)):(I$3&&tt&&vg(_e),_e.flags|=1,Xi($,_e,et,nt),_e.child)}function hj($,_e,et,tt,nt){if(Zf(et)){var rt=!0;cg(_e)}else rt=!1;if(ch(_e,nt),_e.stateNode===null)ij($,_e),Gi(_e,et,tt),Ii(_e,et,tt,nt),tt=!0;else if($===null){var it=_e.stateNode,ot=_e.memoizedProps;it.props=ot;var st=it.context,lt=et.contextType;typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(et)?Xf:H.current,lt=Yf(_e,lt));var at=et.getDerivedStateFromProps,mt=typeof at=="function"||typeof it.getSnapshotBeforeUpdate=="function";mt||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==tt||st!==lt)&&Hi(_e,it,tt,lt),jh=!1;var ft=_e.memoizedState;it.state=ft,qh(_e,tt,it,nt),st=_e.memoizedState,ot!==tt||ft!==st||Wf.current||jh?(typeof at=="function"&&(Di(_e,et,at,tt),st=_e.memoizedState),(ot=jh||Fi(_e,et,ot,tt,ft,st,lt))?(mt||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=st),it.props=tt,it.state=st,it.context=lt,tt=ot):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{it=_e.stateNode,lh($,_e),ot=_e.memoizedProps,lt=_e.type===_e.elementType?ot:Ci(_e.type,ot),it.props=lt,mt=_e.pendingProps,ft=it.context,st=et.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf(et)?Xf:H.current,st=Yf(_e,st));var gt=et.getDerivedStateFromProps;(at=typeof gt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==mt||ft!==st)&&Hi(_e,it,tt,st),jh=!1,ft=_e.memoizedState,it.state=ft,qh(_e,tt,it,nt);var vt=_e.memoizedState;ot!==mt||ft!==vt||Wf.current||jh?(typeof gt=="function"&&(Di(_e,et,gt,tt),vt=_e.memoizedState),(lt=jh||Fi(_e,et,lt,tt,ft,vt,st)||!1)?(at||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,vt,st),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,vt,st)),typeof it.componentDidUpdate=="function"&&(_e.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof it.componentDidUpdate!="function"||ot===$.memoizedProps&&ft===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===$.memoizedProps&&ft===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=vt),it.props=tt,it.state=vt,it.context=st,tt=lt):(typeof it.componentDidUpdate!="function"||ot===$.memoizedProps&&ft===$.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===$.memoizedProps&&ft===$.memoizedState||(_e.flags|=1024),tt=!1)}return jj($,_e,et,tt,rt,nt)}function jj($,_e,et,tt,nt,rt){gj($,_e);var it=(_e.flags&128)!==0;if(!tt&&!it)return nt&&dg(_e,et,!1),Zi($,_e,rt);tt=_e.stateNode,Wi.current=_e;var ot=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&it?(_e.child=Ug(_e,$.child,null,rt),_e.child=Ug(_e,null,ot,rt)):Xi($,_e,ot,rt),_e.memoizedState=tt.state,nt&&dg(_e,et,!0),_e.child}function kj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),yh($,_e.containerInfo)}function lj($,_e,et,tt,nt){return Ig(),Jg(nt),_e.flags|=256,Xi($,_e,et,tt),_e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj($){return{baseLanes:$,cachePool:null,transitions:null}}function oj($,_e,et){var tt=_e.pendingProps,nt=L$1.current,rt=!1,it=(_e.flags&128)!==0,ot;if((ot=it)||(ot=$!==null&&$.memoizedState===null?!1:(nt&2)!==0),ot?(rt=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(nt|=1),G(L$1,nt&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(_e.mode&1?$.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(it=tt.children,$=tt.fallback,rt?(tt=_e.mode,rt=_e.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=pj(it,tt,0,null),$=Tg($,tt,et,null),rt.return=_e,$.return=_e,rt.sibling=$,_e.child=rt,_e.child.memoizedState=nj(et),_e.memoizedState=mj,$):qj(_e,it));if(nt=$.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return rj($,_e,it,tt,ot,nt,et);if(rt){rt=tt.fallback,it=_e.mode,nt=$.child,ot=nt.sibling;var st={mode:"hidden",children:tt.children};return!(it&1)&&_e.child!==nt?(tt=_e.child,tt.childLanes=0,tt.pendingProps=st,_e.deletions=null):(tt=Pg(nt,st),tt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?rt=Pg(ot,rt):(rt=Tg(rt,it,et,null),rt.flags|=2),rt.return=_e,tt.return=_e,tt.sibling=rt,_e.child=tt,tt=rt,rt=_e.child,it=$.child.memoizedState,it=it===null?nj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=$.childLanes&~et,_e.memoizedState=mj,tt}return rt=$.child,$=rt.sibling,tt=Pg(rt,{mode:"visible",children:tt.children}),!(_e.mode&1)&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function qj($,_e){return _e=pj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function sj($,_e,et,tt){return tt!==null&&Jg(tt),Ug(_e,$.child,null,et),$=qj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function rj($,_e,et,tt,nt,rt,it){if(et)return _e.flags&256?(_e.flags&=-257,tt=Ki(Error(p$8(422))),sj($,_e,it,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(rt=tt.fallback,nt=_e.mode,tt=pj({mode:"visible",children:tt.children},nt,0,null),rt=Tg(rt,nt,it,null),rt.flags|=2,tt.return=_e,rt.return=_e,tt.sibling=rt,_e.child=tt,_e.mode&1&&Ug(_e,$.child,null,it),_e.child.memoizedState=nj(it),_e.memoizedState=mj,rt);if(!(_e.mode&1))return sj($,_e,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var ot=tt.dgst;return tt=ot,rt=Error(p$8(419)),tt=Ki(rt,tt,void 0),sj($,_e,it,tt)}if(ot=(it&$.childLanes)!==0,dh||ot){if(tt=Q,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,ih($,nt),gi(tt,$,nt,-1))}return tj(),tt=Ki(Error(p$8(421))),sj($,_e,it,tt)}return nt.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=uj.bind(null,$),nt._reactRetry=_e,null):($=rt.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$3=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=qj(_e,tt.children),_e.flags|=4096,_e)}function vj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),bh($.return,_e,et)}function wj($,_e,et,tt,nt){var rt=$.memoizedState;rt===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=_e,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function xj($,_e,et){var tt=_e.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Xi($,_e,tt.children,et),tt=L$1.current,tt&2)tt=tt&1|2,_e.flags|=128;else{if($!==null&&$.flags&128)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&vj($,et,_e);else if($.tag===19)vj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G(L$1,tt),!(_e.mode&1))_e.memoizedState=null;else switch(nt){case"forwards":for(et=_e.child,nt=null;et!==null;)$=et.alternate,$!==null&&Ch($)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=_e.child,_e.child=null):(nt=et.sibling,et.sibling=null),wj(_e,!1,nt,et,rt);break;case"backwards":for(et=null,nt=_e.child,_e.child=null;nt!==null;){if($=nt.alternate,$!==null&&Ch($)===null){_e.child=nt;break}$=nt.sibling,nt.sibling=et,et=nt,nt=$}wj(_e,!0,et,null,rt);break;case"together":wj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function ij($,_e){!(_e.mode&1)&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function Zi($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),rh|=_e.lanes,!(et&_e.childLanes))return null;if($!==null&&_e.child!==$.child)throw Error(p$8(153));if(_e.child!==null){for($=_e.child,et=Pg($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=Pg($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function yj($,_e,et){switch(_e.tag){case 3:kj(_e),Ig();break;case 5:Ah(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:yh(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,nt=_e.memoizedProps.value;G(Wg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G(L$1,L$1.current&1),_e.flags|=128,null):et&_e.child.childLanes?oj($,_e,et):(G(L$1,L$1.current&1),$=Zi($,_e,et),$!==null?$.sibling:null);G(L$1,L$1.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,$.flags&128){if(tt)return xj($,_e,et);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(L$1,L$1.current),tt)break;return null;case 22:case 23:return _e.lanes=0,dj($,_e,et)}return Zi($,_e,et)}var zj,Aj,Bj,Cj;zj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function($,_e,et,tt){var nt=$.memoizedProps;if(nt!==tt){$=_e.stateNode,xh(uh.current);var rt=null;switch(et){case"input":nt=Ya($,nt),tt=Ya($,tt),rt=[];break;case"select":nt=A({},nt,{value:void 0}),tt=A({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb($,nt),tt=gb($,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var it;et=null;for(lt in nt)if(!tt.hasOwnProperty(lt)&&nt.hasOwnProperty(lt)&&nt[lt]!=null)if(lt==="style"){var ot=nt[lt];for(it in ot)ot.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?rt||(rt=[]):(rt=rt||[]).push(lt,null));for(lt in tt){var st=tt[lt];if(ot=nt!=null?nt[lt]:void 0,tt.hasOwnProperty(lt)&&st!==ot&&(st!=null||ot!=null))if(lt==="style")if(ot){for(it in ot)!ot.hasOwnProperty(it)||st&&st.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in st)st.hasOwnProperty(it)&&ot[it]!==st[it]&&(et||(et={}),et[it]=st[it])}else et||(rt||(rt=[]),rt.push(lt,et)),et=st;else lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,ot=ot?ot.__html:void 0,st!=null&&ot!==st&&(rt=rt||[]).push(lt,st)):lt==="children"?typeof st!="string"&&typeof st!="number"||(rt=rt||[]).push(lt,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(st!=null&&lt==="onScroll"&&D$1("scroll",$),rt||ot===st||(rt=[])):(rt=rt||[]).push(lt,st))}et&&(rt=rt||[]).push("style",et);var lt=rt;(_e.updateQueue=lt)&&(_e.flags|=4)}};Cj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Dj($,_e){if(!I$3)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$5($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=$,nt=nt.sibling;else for(nt=$.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=$,nt=nt.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Ej($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5(_e),null;case 1:return Zf(_e.type)&&$f(),S$5(_e),null;case 3:return tt=_e.stateNode,zh(),E$6(Wf),E$6(H),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj($,_e),S$5(_e),null;case 5:Bh(_e);var nt=xh(wh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Bj($,_e,et,tt,nt),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$8(166));return S$5(_e),null}if($=xh(uh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var rt=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=rt,$=(_e.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var ot=rt[it];it==="children"?typeof ot=="string"?tt.textContent!==ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,$),nt=["children",ot]):typeof ot=="number"&&tt.textContent!==""+ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,$),nt=["children",""+ot]):ea.hasOwnProperty(it)&&ot!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=it.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=it.createElement(et,{is:tt.is}):($=it.createElement(et),et==="select"&&(it=$,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):$=it.createElementNS($,et),$[Of]=_e,$[Pf]=tt,zj($,_e,!1,!1),_e.stateNode=$;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",$),D$1("close",$),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",$),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],$);nt=tt;break;case"source":D$1("error",$),nt=tt;break;case"img":case"image":case"link":D$1("error",$),D$1("load",$),nt=tt;break;case"details":D$1("toggle",$),nt=tt;break;case"input":Za($,tt),nt=Ya($,tt),D$1("invalid",$);break;case"option":nt=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},nt=A({},tt,{value:void 0}),D$1("invalid",$);break;case"textarea":hb($,tt),nt=gb($,tt),D$1("invalid",$);break;default:nt=tt}ub(et,nt),ot=nt;for(rt in ot)if(ot.hasOwnProperty(rt)){var st=ot[rt];rt==="style"?sb($,st):rt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb($,st)):rt==="children"?typeof st=="string"?(et!=="textarea"||st!=="")&&ob($,st):typeof st=="number"&&ob($,""+st):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?st!=null&&rt==="onScroll"&&D$1("scroll",$):st!=null&&ta($,rt,st,it))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb($,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$5(_e),null;case 6:if($&&_e.stateNode!=null)Cj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$8(166));if(et=xh(wh.current),xh(uh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(rt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}rt&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S$5(_e),null;case 13:if(E$6(L$1),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,rt=!1;else if(rt=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!rt)throw Error(p$8(318));if(rt=_e.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$8(317));rt[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$5(_e),rt=!1}else zg!==null&&(Fj(zg),zg=null),rt=!0;if(!rt)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,_e.mode&1&&($===null||L$1.current&1?T$1===0&&(T$1=3):tj())),_e.updateQueue!==null&&(_e.flags|=4),S$5(_e),null);case 4:return zh(),Aj($,_e),$===null&&sf(_e.stateNode.containerInfo),S$5(_e),null;case 10:return ah(_e.type._context),S$5(_e),null;case 17:return Zf(_e.type)&&$f(),S$5(_e),null;case 19:if(E$6(L$1),rt=_e.memoizedState,rt===null)return S$5(_e),null;if(tt=(_e.flags&128)!==0,it=rt.rendering,it===null)if(tt)Dj(rt,!1);else{if(T$1!==0||$!==null&&$.flags&128)for($=_e.child;$!==null;){if(it=Ch($),it!==null){for(_e.flags|=128,Dj(rt,!1),tt=it.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)rt=et,$=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=$,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,$=it.dependencies,rt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G(L$1,L$1.current&1|2),_e.child}$=$.sibling}rt.tail!==null&&B()>Gj&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304)}else{if(!tt)if($=Ch(it),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Dj(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$3)return S$5(_e),null}else 2*B()-rt.renderingStartTime>Gj&&et!==1073741824&&(_e.flags|=128,tt=!0,Dj(rt,!1),_e.lanes=4194304);rt.isBackwards?(it.sibling=_e.child,_e.child=it):(et=rt.last,et!==null?et.sibling=it:_e.child=it,rt.last=it)}return rt.tail!==null?(_e=rt.tail,rt.rendering=_e,rt.tail=_e.sibling,rt.renderingStartTime=B(),_e.sibling=null,et=L$1.current,G(L$1,tt?et&1|2:et&1),_e):(S$5(_e),null);case 22:case 23:return Hj(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&_e.mode&1?fj&1073741824&&(S$5(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$5(_e),null;case 24:return null;case 25:return null}throw Error(p$8(156,_e.tag))}function Ij($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return zh(),E$6(Wf),E$6(H),Eh(),$=_e.flags,$&65536&&!($&128)?(_e.flags=$&-65537|128,_e):null;case 5:return Bh(_e),null;case 13:if(E$6(L$1),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$8(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E$6(L$1),null;case 4:return zh(),null;case 10:return ah(_e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W($,_e,tt)}else et.current=null}function Mj($,_e,et){try{et()}catch(tt){W($,_e,tt)}}var Nj=!1;function Oj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,ot=-1,st=-1,lt=0,at=0,mt=$,ft=null;t:for(;;){for(var gt;mt!==et||nt!==0&&mt.nodeType!==3||(ot=it+nt),mt!==rt||tt!==0&&mt.nodeType!==3||(st=it+tt),mt.nodeType===3&&(it+=mt.nodeValue.length),(gt=mt.firstChild)!==null;)ft=mt,mt=gt;for(;;){if(mt===$)break t;if(ft===et&&++lt===nt&&(ot=it),ft===rt&&++at===tt&&(st=it),(gt=mt.nextSibling)!==null)break;mt=ft,ft=mt.parentNode}mt=gt}et=ot===-1||st===-1?null:{start:ot,end:st}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var vt=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var dt=vt.memoizedProps,pt=vt.memoizedState,ut=_e.stateNode,ct=ut.getSnapshotBeforeUpdate(_e.elementType===_e.type?dt:Ci(_e.type,dt),pt);ut.__reactInternalSnapshotBeforeUpdate=ct}break;case 3:var xt=_e.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$8(163))}}catch(yt){W(_e,_e.return,yt)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return vt=Nj,Nj=!1,vt}function Pj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&$)===$){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Mj(_e,et,rt)}nt=nt.next}while(nt!==tt)}}function Qj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Rj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Sj($){var _e=$.alternate;_e!==null&&($.alternate=null,Sj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Tj($){return $.tag===5||$.tag===3||$.tag===4}function Uj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Tj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Vj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Vj($,_e,et),$=$.sibling;$!==null;)Vj($,_e,et),$=$.sibling}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}var X=null,Xj=!1;function Yj($,_e,et){for(et=et.child;et!==null;)Zj($,_e,et),et=et.sibling}function Zj($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U||Lj(et,_e);case 6:var tt=X,nt=Xj;X=null,Yj($,_e,et),X=tt,Xj=nt,X!==null&&(Xj?($=X,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Xj?($=X,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X,et.stateNode));break;case 4:tt=X,nt=Xj,X=et.stateNode.containerInfo,Xj=!0,Yj($,_e,et),X=tt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Mj(et,_e,it),nt=nt.next}while(nt!==tt)}Yj($,_e,et);break;case 1:if(!U&&(Lj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ot){W(et,_e,ot)}Yj($,_e,et);break;case 21:Yj($,_e,et);break;case 22:et.mode&1?(U=(tt=U)||et.memoizedState!==null,Yj($,_e,et),U=tt):Yj($,_e,et);break;default:Yj($,_e,et)}}function ak($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Kj),_e.forEach(function(tt){var nt=bk.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function ck($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=$,it=_e,ot=it;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Xj=!1;break e;case 3:X=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X===null)throw Error(p$8(160));Zj(rt,it,nt),X=null,Xj=!1;var st=nt.alternate;st!==null&&(st.return=null),nt.return=null}catch(lt){W(nt,_e,lt)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)dk(_e,$),_e=_e.sibling}function dk($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(ck(_e,$),ek($),tt&4){try{Pj(3,$,$.return),Qj(3,$)}catch(dt){W($,$.return,dt)}try{Pj(5,$,$.return)}catch(dt){W($,$.return,dt)}}break;case 1:ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(_e,$),ek($),tt&512&&et!==null&&Lj(et,et.return),$.flags&32){var nt=$.stateNode;try{ob(nt,"")}catch(dt){W($,$.return,dt)}}if(tt&4&&(nt=$.stateNode,nt!=null)){var rt=$.memoizedProps,it=et!==null?et.memoizedProps:rt,ot=$.type,st=$.updateQueue;if($.updateQueue=null,st!==null)try{ot==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(ot,it);var lt=vb(ot,rt);for(it=0;it<st.length;it+=2){var at=st[it],mt=st[it+1];at==="style"?sb(nt,mt):at==="dangerouslySetInnerHTML"?nb(nt,mt):at==="children"?ob(nt,mt):ta(nt,at,mt,lt)}switch(ot){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var ft=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var gt=rt.value;gt!=null?fb(nt,!!rt.multiple,gt,!1):ft!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(dt){W($,$.return,dt)}}break;case 6:if(ck(_e,$),ek($),tt&4){if($.stateNode===null)throw Error(p$8(162));nt=$.stateNode,rt=$.memoizedProps;try{nt.nodeValue=rt}catch(dt){W($,$.return,dt)}}break;case 3:if(ck(_e,$),ek($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(dt){W($,$.return,dt)}break;case 4:ck(_e,$),ek($);break;case 13:ck(_e,$),ek($),nt=$.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B())),tt&4&&ak($);break;case 22:if(at=et!==null&&et.memoizedState!==null,$.mode&1?(U=(lt=U)||at,ck(_e,$),U=lt):ck(_e,$),ek($),tt&8192){if(lt=$.memoizedState!==null,($.stateNode.isHidden=lt)&&!at&&$.mode&1)for(V=$,at=$.child;at!==null;){for(mt=V=at;V!==null;){switch(ft=V,gt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Pj(4,ft,ft.return);break;case 1:Lj(ft,ft.return);var vt=ft.stateNode;if(typeof vt.componentWillUnmount=="function"){tt=ft,et=ft.return;try{_e=tt,vt.props=_e.memoizedProps,vt.state=_e.memoizedState,vt.componentWillUnmount()}catch(dt){W(tt,et,dt)}}break;case 5:Lj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){gk(mt);continue}}gt!==null?(gt.return=ft,V=gt):gk(mt)}at=at.sibling}e:for(at=null,mt=$;;){if(mt.tag===5){if(at===null){at=mt;try{nt=mt.stateNode,lt?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(ot=mt.stateNode,st=mt.memoizedProps.style,it=st!=null&&st.hasOwnProperty("display")?st.display:null,ot.style.display=rb("display",it))}catch(dt){W($,$.return,dt)}}}else if(mt.tag===6){if(at===null)try{mt.stateNode.nodeValue=lt?"":mt.memoizedProps}catch(dt){W($,$.return,dt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===$)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===$)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===$)break e;at===mt&&(at=null),mt=mt.return}at===mt&&(at=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:ck(_e,$),ek($),tt&4&&ak($);break;case 21:break;default:ck(_e,$),ek($)}}function ek($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$8(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Uj($);Wj($,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,ot=Uj($);Vj($,ot,it);break;default:throw Error(p$8(161))}}catch(st){W($,$.return,st)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function hk($,_e,et){V=$,ik($)}function ik($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var nt=V,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Jj;if(!it){var ot=nt.alternate,st=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var lt=U;if(Jj=it,(U=st)&&!lt)for(V=nt;V!==null;)it=V,st=it.child,it.tag===22&&it.memoizedState!==null?jk(nt):st!==null?(st.return=it,V=st):jk(nt);for(;rt!==null;)V=rt,ik(rt),rt=rt.sibling;V=nt,Jj=ot,U=lt}kk($)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V=rt):kk($)}}function kk($){for(;V!==null;){var _e=V;if(_e.flags&8772){var et=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U||Qj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U)if(et===null)tt.componentDidMount();else{var nt=_e.elementType===_e.type?et.memoizedProps:Ci(_e.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=_e.updateQueue;rt!==null&&sh(_e,rt,tt);break;case 3:var it=_e.updateQueue;if(it!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}sh(_e,it,et)}break;case 5:var ot=_e.stateNode;if(et===null&&_e.flags&4){et=ot;var st=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&et.focus();break;case"img":st.src&&(et.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var lt=_e.alternate;if(lt!==null){var at=lt.memoizedState;if(at!==null){var mt=at.dehydrated;mt!==null&&bd(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$8(163))}U||_e.flags&512&&Rj(_e)}catch(ft){W(_e,_e.return,ft)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function gk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function jk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Qj(4,_e)}catch(st){W(_e,et,st)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var nt=_e.return;try{tt.componentDidMount()}catch(st){W(_e,nt,st)}}var rt=_e.return;try{Rj(_e)}catch(st){W(_e,rt,st)}break;case 5:var it=_e.return;try{Rj(_e)}catch(st){W(_e,it,st)}}}catch(st){W(_e,_e.return,st)}if(_e===$){V=null;break}var ot=_e.sibling;if(ot!==null){ot.return=_e.return,V=ot;break}V=_e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi($){return $.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):($=C$4,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function gi($,_e,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$8(185));Ac($,et,tt),(!(K&2)||$!==Q)&&($===Q&&(!(K&2)&&(qk|=et),T$1===4&&Ck($,Z$1)),Dk($,tt),et===1&&K===0&&!(_e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===Q?Z$1:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Ek.bind(null,$)):hg(Ek.bind(null,$)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Gk($,_e){if(Ak=-1,Bk=0,K&6)throw Error(p$8(327));var et=$.callbackNode;if(Hk()&&$.callbackNode!==et)return null;var tt=uc($,$===Q?Z$1:0);if(tt===0)return null;if(tt&30||tt&$.expiredLanes||_e)_e=Ik($,tt);else{_e=tt;var nt=K;K|=2;var rt=Jk();(Q!==$||Z$1!==_e)&&(uk=null,Gj=B()+500,Kk($,_e));do try{Lk();break}catch(ot){Mk($,ot)}while(1);$g(),mk.current=rt,K=nt,Y!==null?_e=0:(Q=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(nt=xc($),nt!==0&&(tt=nt,_e=Nk($,nt))),_e===1)throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;if(_e===6)Ck($,tt);else{if(nt=$.current.alternate,!(tt&30)&&!Ok(nt)&&(_e=Ik($,tt),_e===2&&(rt=xc($),rt!==0&&(tt=rt,_e=Nk($,rt))),_e===1))throw et=pk,Kk($,0),Ck($,tt),Dk($,B()),et;switch($.finishedWork=nt,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$8(345));case 2:Pk($,tk,uk);break;case 3:if(Ck($,tt),(tt&130023424)===tt&&(_e=fk+500-B(),10<_e)){if(uc($,0)!==0)break;if(nt=$.suspendedLanes,(nt&tt)!==tt){R(),$.pingedLanes|=$.suspendedLanes&nt;break}$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),_e);break}Pk($,tk,uk);break;case 4:if(Ck($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=_e[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),tt);break}Pk($,tk,uk);break;case 5:Pk($,tk,uk);break;default:throw Error(p$8(329))}}}return Dk($,B()),$.callbackNode===et?Gk.bind(null,$):null}function Nk($,_e){var et=sk;return $.current.memoizedState.isDehydrated&&(Kk($,_e).flags|=256),$=Ik($,_e),$!==2&&(_e=tk,tk=et,_e!==null&&Fj(_e)),$}function Fj($){tk===null?tk=$:tk.push.apply(tk,$)}function Ok($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Ck($,_e){for(_e&=~rk,_e&=~qk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Ek($){if(K&6)throw Error(p$8(327));Hk();var _e=uc($,0);if(!(_e&1))return Dk($,B()),null;var et=Ik($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Nk($,tt))}if(et===1)throw et=pk,Kk($,0),Ck($,_e),Dk($,B()),et;if(et===6)throw Error(p$8(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Pk($,tk,uk),Dk($,B()),null}function Qk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Gj=B()+500,fg&&jg())}}function Rk($){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _e=K;K|=1;var et=ok.transition,tt=C$4;try{if(ok.transition=null,C$4=1,$)return $()}finally{C$4=tt,ok.transition=et,K=_e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$6(ej)}function Kk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E$6(Wf),E$6(H),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E$6(L$1);break;case 19:E$6(L$1);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=$,Y=$=Pg($.current,null),Z$1=fj=_e,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_e=0;_e<fh.length;_e++)if(et=fh[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}fh=null}return $}function Mk($,_e){do{var et=Y;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$3.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O=N$1=M$3=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T$1=1,pk=_e,Y=null;break}e:{var rt=$,it=et.return,ot=et,st=_e;if(_e=Z$1,ot.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var lt=st,at=ot,mt=at.tag;if(!(at.mode&1)&&(mt===0||mt===11||mt===15)){var ft=at.alternate;ft?(at.updateQueue=ft.updateQueue,at.memoizedState=ft.memoizedState,at.lanes=ft.lanes):(at.updateQueue=null,at.memoizedState=null)}var gt=Ui(it);if(gt!==null){gt.flags&=-257,Vi(gt,it,ot,rt,_e),gt.mode&1&&Si(rt,lt,_e),_e=gt,st=lt;var vt=_e.updateQueue;if(vt===null){var dt=new Set;dt.add(st),_e.updateQueue=dt}else vt.add(st);break e}else{if(!(_e&1)){Si(rt,lt,_e),tj();break e}st=Error(p$8(426))}}else if(I$3&&ot.mode&1){var pt=Ui(it);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Vi(pt,it,ot,rt,_e),Jg(Ji(st,ot));break e}}rt=st=Ji(st,ot),T$1!==4&&(T$1=2),sk===null?sk=[rt]:sk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var ut=Ni(rt,st,_e);ph(rt,ut);break e;case 1:ot=st;var ct=rt.type,xt=rt.stateNode;if(!(rt.flags&128)&&(typeof ct.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Ri===null||!Ri.has(xt)))){rt.flags|=65536,_e&=-_e,rt.lanes|=_e;var yt=Qi(rt,ot,_e);ph(rt,yt);break e}}rt=rt.return}while(rt!==null)}Sk(et)}catch(ht){_e=ht,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Jk(){var $=mk.current;return mk.current=Rh,$===null?Rh:$}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik($,_e){var et=K;K|=2;var tt=Jk();(Q!==$||Z$1!==_e)&&(uk=null,Kk($,_e));do try{Tk();break}catch(nt){Mk($,nt)}while(1);if($g(),K=et,mk.current=tt,Y!==null)throw Error(p$8(261));return Q=null,Z$1=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk($){var _e=Vk($.alternate,$,fj);$.memoizedProps=$.pendingProps,_e===null?Sk($):Y=_e,nk.current=null}function Sk($){var _e=$;do{var et=_e.alternate;if($=_e.return,_e.flags&32768){if(et=Ij(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T$1=6,Y=null;return}}else if(et=Ej(et,_e,fj),et!==null){Y=et;return}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T$1===0&&(T$1=5)}function Pk($,_e,et){var tt=C$4,nt=ok.transition;try{ok.transition=null,C$4=1,Wk($,_e,et,tt)}finally{ok.transition=nt,C$4=tt}return null}function Wk($,_e,et,tt){do Hk();while(wk!==null);if(K&6)throw Error(p$8(327));et=$.finishedWork;var nt=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$8(177));$.callbackNode=null,$.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc($,rt),$===Q&&(Y=Q=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=ok.transition,ok.transition=null;var it=C$4;C$4=1;var ot=K;K|=4,nk.current=null,Oj($,et),dk(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,hk(et),dc(),K=ot,C$4=it,ok.transition=rt}else $.current=et;if(vk&&(vk=!1,wk=$,xk=nt),rt=$.pendingLanes,rt===0&&(Ri=null),mc(et.stateNode),Dk($,B()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)nt=_e[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,$=Pi,Pi=null,$;return xk&1&&$.tag!==0&&Hk(),rt=$.pendingLanes,rt&1?$===zk?yk++:(yk=0,zk=$):yk=0,jg(),null}function Hk(){if(wk!==null){var $=Dc(xk),_e=ok.transition,et=C$4;try{if(ok.transition=null,C$4=16>$?16:$,wk===null)var tt=!1;else{if($=wk,wk=null,xk=0,K&6)throw Error(p$8(331));var nt=K;for(K|=4,V=$.current;V!==null;){var rt=V,it=rt.child;if(V.flags&16){var ot=rt.deletions;if(ot!==null){for(var st=0;st<ot.length;st++){var lt=ot[st];for(V=lt;V!==null;){var at=V;switch(at.tag){case 0:case 11:case 15:Pj(8,at,rt)}var mt=at.child;if(mt!==null)mt.return=at,V=mt;else for(;V!==null;){at=V;var ft=at.sibling,gt=at.return;if(Sj(at),at===lt){V=null;break}if(ft!==null){ft.return=gt,V=ft;break}V=gt}}}var vt=rt.alternate;if(vt!==null){var dt=vt.child;if(dt!==null){vt.child=null;do{var pt=dt.sibling;dt.sibling=null,dt=pt}while(dt!==null)}}V=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V=it;else e:for(;V!==null;){if(rt=V,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Pj(9,rt,rt.return)}var ut=rt.sibling;if(ut!==null){ut.return=rt.return,V=ut;break e}V=rt.return}}var ct=$.current;for(V=ct;V!==null;){it=V;var xt=it.child;if(it.subtreeFlags&2064&&xt!==null)xt.return=it,V=xt;else e:for(it=ct;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(ht){W(ot,ot.return,ht)}if(ot===it){V=null;break e}var yt=ot.sibling;if(yt!==null){yt.return=ot.return,V=yt;break e}V=ot.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C$4=et,ok.transition=_e}}return!1}function Xk($,_e,et){_e=Ji(et,_e),_e=Ni($,_e,1),$=nh($,_e,1),_e=R(),$!==null&&(Ac($,1,_e),Dk($,_e))}function W($,_e,et){if($.tag===3)Xk($,$,et);else for(;_e!==null;){if(_e.tag===3){Xk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){$=Ji(et,$),$=Qi(_e,$,1),_e=nh(_e,$,1),$=R(),_e!==null&&(Ac(_e,1,$),Dk(_e,$));break}}_e=_e.return}}function Ti($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=R(),$.pingedLanes|=$.suspendedLanes&et,Q===$&&(Z$1&et)===et&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk($,0):rk|=et),Dk($,_e)}function Yk($,_e){_e===0&&($.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var et=R();$=ih($,_e),$!==null&&(Ac($,_e,et),Dk($,et))}function uj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Yk($,et)}function bk($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,nt=$.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$8(314))}tt!==null&&tt.delete(_e),Yk($,et)}var Vk;Vk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)dh=!0;else{if(!($.lanes&et)&&!(_e.flags&128))return dh=!1,yj($,_e,et);dh=!!($.flags&131072)}else dh=!1,I$3&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;ij($,_e),$=_e.pendingProps;var nt=Yf(_e,H.current);ch(_e,et),nt=Nh(null,_e,tt,$,nt,et);var rt=Sh();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(rt=!0,cg(_e)):rt=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(_e),nt.updater=Ei,_e.stateNode=nt,nt._reactInternals=_e,Ii(_e,tt,$,et),_e=jj(null,_e,tt,!0,rt,et)):(_e.tag=0,I$3&&rt&&vg(_e),Xi(null,_e,nt,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(ij($,_e),$=_e.pendingProps,nt=tt._init,tt=nt(tt._payload),_e.type=tt,nt=_e.tag=Zk(tt),$=Ci(tt,$),nt){case 0:_e=cj(null,_e,tt,$,et);break e;case 1:_e=hj(null,_e,tt,$,et);break e;case 11:_e=Yi(null,_e,tt,$,et);break e;case 14:_e=$i(null,_e,tt,Ci(tt.type,$),et);break e}throw Error(p$8(306,tt,""))}return _e;case 0:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),cj($,_e,tt,nt,et);case 1:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),hj($,_e,tt,nt,et);case 3:e:{if(kj(_e),$===null)throw Error(p$8(387));tt=_e.pendingProps,rt=_e.memoizedState,nt=rt.element,lh($,_e),qh(_e,tt,null,et);var it=_e.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_e.updateQueue.baseState=rt,_e.memoizedState=rt,_e.flags&256){nt=Ji(Error(p$8(423)),_e),_e=lj($,_e,tt,et,nt);break e}else if(tt!==nt){nt=Ji(Error(p$8(424)),_e),_e=lj($,_e,tt,et,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,et=Vg(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){_e=Zi($,_e,et);break e}Xi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Ah(_e),$===null&&Eg(_e),tt=_e.type,nt=_e.pendingProps,rt=$!==null?$.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&(_e.flags|=32),gj($,_e),Xi($,_e,it,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return oj($,_e,et);case 4:return yh(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Ug(_e,null,tt,et):Xi($,_e,tt,et),_e.child;case 11:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),Yi($,_e,tt,nt,et);case 7:return Xi($,_e,_e.pendingProps,et),_e.child;case 8:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Xi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,nt=_e.pendingProps,rt=_e.memoizedProps,it=nt.value,G(Wg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){_e=Zi($,_e,et);break e}}else for(rt=_e.child,rt!==null&&(rt.return=_e);rt!==null;){var ot=rt.dependencies;if(ot!==null){it=rt.child;for(var st=ot.firstContext;st!==null;){if(st.context===tt){if(rt.tag===1){st=mh(-1,et&-et),st.tag=2;var lt=rt.updateQueue;if(lt!==null){lt=lt.shared;var at=lt.pending;at===null?st.next=st:(st.next=at.next,at.next=st),lt.pending=st}}rt.lanes|=et,st=rt.alternate,st!==null&&(st.lanes|=et),bh(rt.return,et,_e),ot.lanes|=et;break}st=st.next}}else if(rt.tag===10)it=rt.type===_e.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$8(341));it.lanes|=et,ot=it.alternate,ot!==null&&(ot.lanes|=et),bh(it,et,_e),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===_e){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Xi($,_e,nt.children,et),_e=_e.child}return _e;case 9:return nt=_e.type,tt=_e.pendingProps.children,ch(_e,et),nt=eh(nt),tt=tt(nt),_e.flags|=1,Xi($,_e,tt,et),_e.child;case 14:return tt=_e.type,nt=Ci(tt,_e.pendingProps),nt=Ci(tt.type,nt),$i($,_e,tt,nt,et);case 15:return bj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,nt=_e.pendingProps,nt=_e.elementType===tt?nt:Ci(tt,nt),ij($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,ch(_e,et),Gi(_e,tt,nt),Ii(_e,tt,nt,et),jj(null,_e,tt,!0,$,et);case 19:return xj($,_e,et);case 22:return dj($,_e,et)}throw Error(p$8(156,_e.tag))};function Fk($,_e){return ac($,_e)}function $k($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new $k($,_e,et,tt)}function aj($){return $=$.prototype,!(!$||!$.isReactComponent)}function Zk($){if(typeof $=="function")return aj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function Pg($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function Rg($,_e,et,tt,nt,rt){var it=2;if(tt=$,typeof $=="function")aj($)&&(it=1);else if(typeof $=="string")it=5;else e:switch($){case ya:return Tg(et.children,nt,rt,_e);case za:it=8,nt|=8;break;case Aa:return $=Bg(12,et,_e,nt|2),$.elementType=Aa,$.lanes=rt,$;case Ea:return $=Bg(13,et,_e,nt),$.elementType=Ea,$.lanes=rt,$;case Fa:return $=Bg(19,et,_e,nt),$.elementType=Fa,$.lanes=rt,$;case Ia:return pj(et,nt,rt,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$8(130,$==null?$:typeof $,""))}return _e=Bg(it,et,_e,nt),_e.elementType=$,_e.type=tt,_e.lanes=rt,_e}function Tg($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function pj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function Qg($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function Sg($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function al($,_e,et,tt,nt){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl($,_e,et,tt,nt,rt,it,ot,st){return $=new al($,_e,et,ot,st),_e===1?(_e=1,rt===!0&&(_e|=8)):_e=0,rt=Bg(3,null,null,_e),$.current=rt,rt.stateNode=$,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(rt),$}function cl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function dl($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$8(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$8(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function el($,_e,et,tt,nt,rt,it,ot,st){return $=bl(et,tt,!0,$,nt,rt,it,ot,st),$.context=dl(null),et=$.current,tt=R(),nt=yi(et),rt=mh(tt,nt),rt.callback=_e??null,nh(et,rt,nt),$.current.lanes=nt,Ac($,nt,tt),Dk($,tt),$}function fl($,_e,et,tt){var nt=_e.current,rt=R(),it=yi(nt);return et=dl(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=mh(rt,it),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=nh(nt,_e,it),$!==null&&(gi($,nt,it,rt),oh($,nt,it)),it}function gl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function hl($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function il($,_e){hl($,_e),($=$.alternate)&&hl($,_e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function($){console.error($)};function ll($){this._internalRoot=$}ml.prototype.render=ll.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$8(409));fl($,_e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Rk(function(){fl(null,$,null,null)}),_e[uf]=null}};function ml($){this._internalRoot=$}ml.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function nl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql($,_e,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var lt=gl(it);rt.call(lt)}}var it=el(_e,tt,$,0,null,!1,!1,"",pl);return $._reactRootContainer=it,$[uf]=it.current,sf($.nodeType===8?$.parentNode:$),Rk(),it}for(;nt=$.lastChild;)$.removeChild(nt);if(typeof tt=="function"){var ot=tt;tt=function(){var lt=gl(st);ot.call(lt)}}var st=bl($,0,!1,null,null,!1,!1,"",pl);return $._reactRootContainer=st,$[uf]=st.current,sf($.nodeType===8?$.parentNode:$),Rk(function(){fl(_e,st,et,tt)}),st}function rl($,_e,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var ot=nt;nt=function(){var st=gl(it);ot.call(st)}}fl(_e,it,$,nt)}else it=ql(et,_e,$,nt,tt);return gl(it)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Dk(_e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih($,1);if(tt!==null){var nt=R();gi(tt,$,1,nt)}}),il($,1)}};Fc=function($){if($.tag===13){var _e=ih($,134217728);if(_e!==null){var et=R();gi(_e,$,134217728,et)}il($,134217728)}};Gc=function($){if($.tag===13){var _e=yi($),et=ih($,_e);if(et!==null){var tt=R();gi(et,$,_e,tt)}il($,_e)}};Hc=function(){return C$4};Ic=function($,_e){var et=C$4;try{return C$4=$,_e()}finally{C$4=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var nt=Db(tt);if(!nt)throw Error(p$8(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_e))throw Error(p$8(200));return cl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!nl($))throw Error(p$8(299));var et=!1,tt="",nt=kl;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=bl($,1,!1,null,null,et,!1,tt,nt),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ll(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$8(188)):($=Object.keys($).join(","),Error(p$8(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Rk($)};reactDom_production_min.hydrate=function($,_e,et){if(!ol(_e))throw Error(p$8(200));return rl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!nl($))throw Error(p$8(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=kl;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_e=el(_e,null,$,1,et??null,nt,!1,rt,it),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],nt=et._getVersion,nt=nt(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,nt]:_e.mutableSourceEagerHydrationData.push(et,nt);return new ml(_e)};reactDom_production_min.render=function($,_e,et){if(!ol(_e))throw Error(p$8(200));return rl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!ol($))throw Error(p$8(40));return $._reactRootContainer?(Rk(function(){rl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!ol(et))throw Error(p$8(200));if($==null||$._reactInternals===void 0)throw Error(p$8(38));return rl($,_e,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$a=reactDomExports;createRoot=m$a.createRoot,m$a.hydrateRoot;const scriptRel="modulepreload",assetsURL=function($){return"/"+$},seen={},__vitePreload=function(_e,et,tt){if(!et||et.length===0)return _e();const nt=document.getElementsByTagName("link");return Promise.all(et.map(rt=>{if(rt=assetsURL(rt),rt in seen)return;seen[rt]=!0;const it=rt.endsWith(".css"),ot=it?'[rel="stylesheet"]':"";if(!!tt)for(let at=nt.length-1;at>=0;at--){const mt=nt[at];if(mt.href===rt&&(!it||mt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${rt}"]${ot}`))return;const lt=document.createElement("link");if(lt.rel=it?"stylesheet":scriptRel,it||(lt.as="script",lt.crossOrigin=""),lt.href=rt,document.head.appendChild(lt),it)return new Promise((at,mt)=>{lt.addEventListener("load",at),lt.addEventListener("error",()=>mt(new Error(`Unable to preload CSS for ${rt}`)))})})).then(()=>_e()).catch(rt=>{const it=new Event("vite:preloadError",{cancelable:!0});if(it.payload=rt,window.dispatchEvent(it),!it.defaultPrevented)throw rt})};var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const $=function(){};return $.prototype=Object.create(null),$})();function parse($,_e){const et=new NullObject,tt=$.length;if(tt<2)return et;const nt=(_e==null?void 0:_e.decode)||decode;let rt=0;do{const it=$.indexOf("=",rt);if(it===-1)break;const ot=$.indexOf(";",rt),st=ot===-1?tt:ot;if(it>st){rt=$.lastIndexOf(";",it-1)+1;continue}const lt=startIndex($,rt,it),at=endIndex($,it,lt),mt=$.slice(lt,at);if(et[mt]===void 0){let ft=startIndex($,it+1,st),gt=endIndex($,st,ft);const vt=nt($.slice(ft,gt));et[mt]=vt}rt=st+1}while(rt<tt);return et}function startIndex($,_e,et){do{const tt=$.charCodeAt(_e);if(tt!==32&&tt!==9)return _e}while(++_e<et);return et}function endIndex($,_e,et){for(;_e>et;){const tt=$.charCodeAt(--_e);if(tt!==32&&tt!==9)return _e+1}return et}function serialize($,_e,et){const tt=(et==null?void 0:et.encode)||encodeURIComponent;if(!cookieNameRegExp.test($))throw new TypeError(`argument name is invalid: ${$}`);const nt=tt(_e);if(!cookieValueRegExp.test(nt))throw new TypeError(`argument val is invalid: ${_e}`);let rt=$+"="+nt;if(!et)return rt;if(et.maxAge!==void 0){if(!Number.isInteger(et.maxAge))throw new TypeError(`option maxAge is invalid: ${et.maxAge}`);rt+="; Max-Age="+et.maxAge}if(et.domain){if(!domainValueRegExp.test(et.domain))throw new TypeError(`option domain is invalid: ${et.domain}`);rt+="; Domain="+et.domain}if(et.path){if(!pathValueRegExp.test(et.path))throw new TypeError(`option path is invalid: ${et.path}`);rt+="; Path="+et.path}if(et.expires){if(!isDate(et.expires)||!Number.isFinite(et.expires.valueOf()))throw new TypeError(`option expires is invalid: ${et.expires}`);rt+="; Expires="+et.expires.toUTCString()}if(et.httpOnly&&(rt+="; HttpOnly"),et.secure&&(rt+="; Secure"),et.partitioned&&(rt+="; Partitioned"),et.priority)switch(typeof et.priority=="string"?et.priority.toLowerCase():void 0){case"low":rt+="; Priority=Low";break;case"medium":rt+="; Priority=Medium";break;case"high":rt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${et.priority}`)}if(et.sameSite)switch(typeof et.sameSite=="string"?et.sameSite.toLowerCase():et.sameSite){case!0:case"strict":rt+="; SameSite=Strict";break;case"lax":rt+="; SameSite=Lax";break;case"none":rt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${et.sameSite}`)}return rt}function decode($){if($.indexOf("%")===-1)return $;try{return decodeURIComponent($)}catch{return $}}function isDate($){return __toString.call($)==="[object Date]"}var PopStateEventType="popstate";function createBrowserHistory($={}){function _e(tt,nt){let{pathname:rt,search:it,hash:ot}=tt.location;return createLocation("",{pathname:rt,search:it,hash:ot},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function et(tt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_e,et,null,$)}function invariant$1($,_e){if($===!1||$===null||typeof $>"u")throw new Error(_e)}function warning($,_e){if(!$){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState($,_e){return{usr:$.state,key:$.key,idx:_e}}function createLocation($,_e,et=null,tt){return{pathname:typeof $=="string"?$:$.pathname,search:"",hash:"",...typeof _e=="string"?parsePath(_e):_e,state:et,key:_e&&_e.key||tt||createKey()}}function createPath({pathname:$="/",search:_e="",hash:et=""}){return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),et&&et!=="#"&&($+=et.charAt(0)==="#"?et:"#"+et),$}function parsePath($){let _e={};if($){let et=$.indexOf("#");et>=0&&(_e.hash=$.substring(et),$=$.substring(0,et));let tt=$.indexOf("?");tt>=0&&(_e.search=$.substring(tt),$=$.substring(0,tt)),$&&(_e.pathname=$)}return _e}function getUrlBasedHistory($,_e,et,tt={}){let{window:nt=document.defaultView,v5Compat:rt=!1}=tt,it=nt.history,ot="POP",st=null,lt=at();lt==null&&(lt=0,it.replaceState({...it.state,idx:lt},""));function at(){return(it.state||{idx:null}).idx}function mt(){ot="POP";let pt=at(),ut=pt==null?null:pt-lt;lt=pt,st&&st({action:ot,location:dt.location,delta:ut})}function ft(pt,ut){ot="PUSH";let ct=createLocation(dt.location,pt,ut);et&&et(ct,pt),lt=at()+1;let xt=getHistoryState(ct,lt),yt=dt.createHref(ct);try{it.pushState(xt,"",yt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;nt.location.assign(yt)}rt&&st&&st({action:ot,location:dt.location,delta:1})}function gt(pt,ut){ot="REPLACE";let ct=createLocation(dt.location,pt,ut);et&&et(ct,pt),lt=at();let xt=getHistoryState(ct,lt),yt=dt.createHref(ct);it.replaceState(xt,"",yt),rt&&st&&st({action:ot,location:dt.location,delta:0})}function vt(pt){return createBrowserURLImpl(pt)}let dt={get action(){return ot},get location(){return $(nt,it)},listen(pt){if(st)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,mt),st=pt,()=>{nt.removeEventListener(PopStateEventType,mt),st=null}},createHref(pt){return _e(nt,pt)},createURL:vt,encodeLocation(pt){let ut=vt(pt);return{pathname:ut.pathname,search:ut.search,hash:ut.hash}},push:ft,replace:gt,go(pt){return it.go(pt)}};return dt}function createBrowserURLImpl($,_e=!1){let et="http://localhost";typeof window<"u"&&(et=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(et,"No window.location.(origin|href) available to create URL");let tt=typeof $=="string"?$:createPath($);return tt=tt.replace(/ $/,"%20"),!_e&&tt.startsWith("//")&&(tt=et+tt),new URL(tt,et)}function matchRoutes($,_e,et="/"){return matchRoutesImpl($,_e,et,!1)}function matchRoutesImpl($,_e,et,tt){let nt=typeof _e=="string"?parsePath(_e):_e,rt=stripBasename(nt.pathname||"/",et);if(rt==null)return null;let it=flattenRoutes($);rankRouteBranches(it);let ot=null;for(let st=0;ot==null&&st<it.length;++st){let lt=decodePath(rt);ot=matchRouteBranch(it[st],lt,tt)}return ot}function flattenRoutes($,_e=[],et=[],tt=""){let nt=(rt,it,ot)=>{let st={relativePath:ot===void 0?rt.path||"":ot,caseSensitive:rt.caseSensitive===!0,childrenIndex:it,route:rt};st.relativePath.startsWith("/")&&(invariant$1(st.relativePath.startsWith(tt),`Absolute route path "${st.relativePath}" nested under path "${tt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),st.relativePath=st.relativePath.slice(tt.length));let lt=joinPaths([tt,st.relativePath]),at=et.concat(st);rt.children&&rt.children.length>0&&(invariant$1(rt.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${lt}".`),flattenRoutes(rt.children,_e,at,lt)),!(rt.path==null&&!rt.index)&&_e.push({path:lt,score:computeScore(lt,rt.index),routesMeta:at})};return $.forEach((rt,it)=>{var ot;if(rt.path===""||!((ot=rt.path)!=null&&ot.includes("?")))nt(rt,it);else for(let st of explodeOptionalSegments(rt.path))nt(rt,it,st)}),_e}function explodeOptionalSegments($){let _e=$.split("/");if(_e.length===0)return[];let[et,...tt]=_e,nt=et.endsWith("?"),rt=et.replace(/\?$/,"");if(tt.length===0)return nt?[rt,""]:[rt];let it=explodeOptionalSegments(tt.join("/")),ot=[];return ot.push(...it.map(st=>st===""?rt:[rt,st].join("/"))),nt&&ot.push(...it),ot.map(st=>$.startsWith("/")&&st===""?"/":st)}function rankRouteBranches($){$.sort((_e,et)=>_e.score!==et.score?et.score-_e.score:compareIndexes(_e.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_e){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_e&&(tt+=indexRouteValue),et.filter(nt=>!isSplat(nt)).reduce((nt,rt)=>nt+(paramRe.test(rt)?dynamicSegmentValue:rt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_e){return $.length===_e.length&&$.slice(0,-1).every((tt,nt)=>tt===_e[nt])?$[$.length-1]-_e[_e.length-1]:0}function matchRouteBranch($,_e,et=!1){let{routesMeta:tt}=$,nt={},rt="/",it=[];for(let ot=0;ot<tt.length;++ot){let st=tt[ot],lt=ot===tt.length-1,at=rt==="/"?_e:_e.slice(rt.length)||"/",mt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:lt},at),ft=st.route;if(!mt&&lt&&et&&!tt[tt.length-1].route.index&&(mt=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:!1},at)),!mt)return null;Object.assign(nt,mt.params),it.push({params:nt,pathname:joinPaths([rt,mt.pathname]),pathnameBase:normalizePathname(joinPaths([rt,mt.pathnameBase])),route:ft}),mt.pathnameBase!=="/"&&(rt=joinPaths([rt,mt.pathnameBase]))}return it}function matchPath($,_e){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),nt=_e.match(et);if(!nt)return null;let rt=nt[0],it=rt.replace(/(.)\/+$/,"$1"),ot=nt.slice(1);return{params:tt.reduce((lt,{paramName:at,isOptional:mt},ft)=>{if(at==="*"){let vt=ot[ft]||"";it=rt.slice(0,rt.length-vt.length).replace(/(.)\/+$/,"$1")}const gt=ot[ft];return mt&&!gt?lt[at]=void 0:lt[at]=(gt||"").replace(/%2F/g,"/"),lt},{}),pathname:rt,pathnameBase:it,pattern:$}}function compilePath($,_e=!1,et=!0){warning($==="*"||!$.endsWith("*")||$.endsWith("/*"),`Route path "${$}" will be treated as if it were "${$.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${$.replace(/\*$/,"/*")}".`);let tt=[],nt="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(it,ot,st)=>(tt.push({paramName:ot,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return $.endsWith("*")?(tt.push({paramName:"*"}),nt+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?nt+="\\/*$":$!==""&&$!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_e?void 0:"i"),tt]}function decodePath($){try{return $.split("/").map(_e=>decodeURIComponent(_e).replace(/\//g,"%2F")).join("/")}catch(_e){return warning(!1,`The URL path "${$}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_e}).`),$}}function stripBasename($,_e){if(_e==="/")return $;if(!$.toLowerCase().startsWith(_e.toLowerCase()))return null;let et=_e.endsWith("/")?_e.length-1:_e.length,tt=$.charAt(et);return tt&&tt!=="/"?null:$.slice(et)||"/"}function resolvePath($,_e="/"){let{pathname:et,search:tt="",hash:nt=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_e):_e,search:normalizeSearch(tt),hash:normalizeHash(nt)}}function resolvePathname($,_e){let et=_e.replace(/\/+$/,"").split("/");return $.split("/").forEach(nt=>{nt===".."?et.length>1&&et.pop():nt!=="."&&et.push(nt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError($,_e,et,tt){return`Cannot include a '${$}' character in a manually specified \`to.${_e}\` field [${JSON.stringify(tt)}].  Please separate it out to the \`to.${et}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches($){return $.filter((_e,et)=>et===0||_e.route.path&&_e.route.path.length>0)}function getResolveToMatches($){let _e=getPathContributingMatches($);return _e.map((et,tt)=>tt===_e.length-1?et.pathname:et.pathnameBase)}function resolveTo($,_e,et,tt=!1){let nt;typeof $=="string"?nt=parsePath($):(nt={...$},invariant$1(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant$1(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant$1(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let rt=$===""||nt.pathname==="",it=rt?"/":nt.pathname,ot;if(it==null)ot=et;else{let mt=_e.length-1;if(!tt&&it.startsWith("..")){let ft=it.split("/");for(;ft[0]==="..";)ft.shift(),mt-=1;nt.pathname=ft.join("/")}ot=mt>=0?_e[mt]:"/"}let st=resolvePath(nt,ot),lt=it&&it!=="/"&&it.endsWith("/"),at=(rt||it===".")&&et.endsWith("/");return!st.pathname.endsWith("/")&&(lt||at)&&(st.pathname+="/"),st}var joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function isRouteErrorResponse($){return $!=null&&typeof $.status=="number"&&typeof $.statusText=="string"&&typeof $.internal=="boolean"&&"data"in $}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref($,{relative:_e}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:et,navigator:tt}=reactExports.useContext(NavigationContext),{hash:nt,pathname:rt,search:it}=useResolvedPath($,{relative:_e}),ot=rt;return et!=="/"&&(ot=rt==="/"?et:joinPaths([et,rt])),tt.createHref({pathname:ot,search:it,hash:nt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect($){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect($)}function useNavigate(){let{isDataRoute:$}=reactExports.useContext(RouteContext);return $?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let $=reactExports.useContext(DataRouterContext),{basename:_e,navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getResolveToMatches(tt)),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{it.current=!0}),reactExports.useCallback((st,lt={})=>{if(warning(it.current,navigateEffectWarning),!it.current)return;if(typeof st=="number"){et.go(st);return}let at=resolveTo(st,JSON.parse(rt),nt,lt.relative==="path");$==null&&_e!=="/"&&(at.pathname=at.pathname==="/"?_e:joinPaths([_e,at.pathname])),(lt.replace?et.replace:et.push)(at,lt.state,lt)},[_e,et,rt,nt,$])}reactExports.createContext(null);function useResolvedPath($,{relative:_e}={}){let{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(getResolveToMatches(et));return reactExports.useMemo(()=>resolveTo($,JSON.parse(nt),tt,_e==="path"),[$,nt,tt,_e])}function useRoutesImpl($,_e,et,tt){var ut;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),it=rt[rt.length-1],ot=it?it.params:{},st=it?it.pathname:"/",lt=it?it.pathnameBase:"/",at=it&&it.route;{let ct=at&&at.path||"";warningOnce(st,!at||ct.endsWith("*")||ct.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${st}" (under <Route path="${ct}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ct}"> to <Route path="${ct==="/"?"*":`${ct}/*`}">.`)}let mt=useLocation(),ft;if(_e){let ct=typeof _e=="string"?parsePath(_e):_e;invariant$1(lt==="/"||((ut=ct.pathname)==null?void 0:ut.startsWith(lt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${lt}" but pathname "${ct.pathname}" was given in the \`location\` prop.`),ft=ct}else ft=mt;let gt=ft.pathname||"/",vt=gt;if(lt!=="/"){let ct=lt.replace(/^\//,"").split("/");vt="/"+gt.replace(/^\//,"").split("/").slice(ct.length).join("/")}let dt=matchRoutes($,{pathname:vt});warning(at||dt!=null,`No routes matched location "${ft.pathname}${ft.search}${ft.hash}" `),warning(dt==null||dt[dt.length-1].route.element!==void 0||dt[dt.length-1].route.Component!==void 0||dt[dt.length-1].route.lazy!==void 0,`Matched leaf route at location "${ft.pathname}${ft.search}${ft.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let pt=_renderMatches(dt&&dt.map(ct=>Object.assign({},ct,{params:Object.assign({},ot,ct.params),pathname:joinPaths([lt,nt.encodeLocation?nt.encodeLocation(ct.pathname).pathname:ct.pathname]),pathnameBase:ct.pathnameBase==="/"?lt:joinPaths([lt,nt.encodeLocation?nt.encodeLocation(ct.pathnameBase).pathname:ct.pathnameBase])})),rt,et,tt);return _e&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ft},navigationType:"POP"}},pt):pt}function DefaultErrorComponent(){let $=useRouteError(),_e=isRouteErrorResponse($)?`${$.status} ${$.statusText}`:$ instanceof Error?$.message:JSON.stringify($),et=$ instanceof Error?$.stack:null,tt="rgba(200,200,200, 0.5)",nt={padding:"0.5rem",backgroundColor:tt},rt={padding:"2px 4px",backgroundColor:tt},it=null;return console.error("Error handled by React Router default ErrorBoundary:",$),it=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:rt},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:rt},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_e),et?reactExports.createElement("pre",{style:nt},et):null,it)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location||_e.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:_e.error,location:_e.location,revalidation:$.revalidation||_e.revalidation}}componentDidCatch($,_e){console.error("React Router caught the following error during render",$,_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:$,match:_e,children:et}){let tt=reactExports.useContext(DataRouterContext);return tt&&tt.static&&tt.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(tt.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:$},et)}function _renderMatches($,_e=[],et=null,tt=null){if($==null){if(!et)return null;if(et.errors)$=et.matches;else if(_e.length===0&&!et.initialized&&et.matches.length>0)$=et.matches;else return null}let nt=$,rt=et==null?void 0:et.errors;if(rt!=null){let st=nt.findIndex(lt=>lt.route.id&&(rt==null?void 0:rt[lt.route.id])!==void 0);invariant$1(st>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(rt).join(",")}`),nt=nt.slice(0,Math.min(nt.length,st+1))}let it=!1,ot=-1;if(et)for(let st=0;st<nt.length;st++){let lt=nt[st];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(ot=st),lt.route.id){let{loaderData:at,errors:mt}=et,ft=lt.route.loader&&!at.hasOwnProperty(lt.route.id)&&(!mt||mt[lt.route.id]===void 0);if(lt.route.lazy||ft){it=!0,ot>=0?nt=nt.slice(0,ot+1):nt=[nt[0]];break}}}return nt.reduceRight((st,lt,at)=>{let mt,ft=!1,gt=null,vt=null;et&&(mt=rt&&lt.route.id?rt[lt.route.id]:void 0,gt=lt.route.errorElement||defaultErrorElement,it&&(ot<0&&at===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ft=!0,vt=null):ot===at&&(ft=!0,vt=lt.route.hydrateFallbackElement||null)));let dt=_e.concat(nt.slice(0,at+1)),pt=()=>{let ut;return mt?ut=gt:ft?ut=vt:lt.route.Component?ut=reactExports.createElement(lt.route.Component,null):lt.route.element?ut=lt.route.element:ut=st,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:st,matches:dt,isDataRoute:et!=null},children:ut})};return et&&(lt.route.ErrorBoundary||lt.route.errorElement||at===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:gt,error:mt,children:pt(),routeContext:{outlet:null,matches:dt,isDataRoute:!0}}):pt()},null)}function getDataRouterConsoleError($){return`${$} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext($){let _e=reactExports.useContext(DataRouterContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useDataRouterState($){let _e=reactExports.useContext(DataRouterStateContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useRouteContext($){let _e=reactExports.useContext(RouteContext);return invariant$1(_e,getDataRouterConsoleError($)),_e}function useCurrentRouteId($){let _e=useRouteContext($),et=_e.matches[_e.matches.length-1];return invariant$1(et.route.id,`${$} can only be used on routes that contain a unique "id"`),et.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var tt;let $=reactExports.useContext(RouteErrorContext),_e=useDataRouterState("useRouteError"),et=useCurrentRouteId("useRouteError");return $!==void 0?$:(tt=_e.errors)==null?void 0:tt[et]}function useNavigateStable(){let{router:$}=useDataRouterContext("useNavigate"),_e=useCurrentRouteId("useNavigate"),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{et.current=!0}),reactExports.useCallback(async(nt,rt={})=>{warning(et.current,navigateEffectWarning),et.current&&(typeof nt=="number"?$.navigate(nt):await $.navigate(nt,{fromRouteId:_e,...rt}))},[$,_e])}var alreadyWarned={};function warningOnce($,_e,et){!_e&&!alreadyWarned[$]&&(alreadyWarned[$]=!0,warning(!1,et))}reactExports.memo(DataRoutes);function DataRoutes({routes:$,future:_e,state:et}){return useRoutesImpl($,void 0,et,_e)}function Router({basename:$="/",children:_e=null,location:et,navigationType:tt="POP",navigator:nt,static:rt=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let it=$.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:it,navigator:nt,static:rt,future:{}}),[it,nt,rt]);typeof et=="string"&&(et=parsePath(et));let{pathname:st="/",search:lt="",hash:at="",state:mt=null,key:ft="default"}=et,gt=reactExports.useMemo(()=>{let vt=stripBasename(st,it);return vt==null?null:{location:{pathname:vt,search:lt,hash:at,state:mt,key:ft},navigationType:tt}},[it,st,lt,at,mt,ft,tt]);return warning(gt!=null,`<Router basename="${it}"> is not able to match the URL "${st}${lt}${at}" because it does not start with the basename, so the <Router> won't render anything.`),gt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:_e,value:gt}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement($){return $!=null&&typeof $.tagName=="string"}function isButtonElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="button"}function isFormElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="form"}function isInputElement($){return isHtmlElement($)&&$.tagName.toLowerCase()==="input"}function isModifiedEvent($){return!!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)}function shouldProcessLinkClick($,_e){return $.button===0&&(!_e||_e==="_self")&&!isModifiedEvent($)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType($){return $!=null&&!supportedFormEncTypes.has($)?(warning(!1,`"${$}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):$}function getFormSubmissionInfo($,_e){let et,tt,nt,rt,it;if(isFormElement($)){let ot=$.getAttribute("action");tt=ot?stripBasename(ot,_e):null,et=$.getAttribute("method")||defaultMethod,nt=getFormEncType($.getAttribute("enctype"))||defaultEncType,rt=new FormData($)}else if(isButtonElement($)||isInputElement($)&&($.type==="submit"||$.type==="image")){let ot=$.form;if(ot==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let st=$.getAttribute("formaction")||ot.getAttribute("action");if(tt=st?stripBasename(st,_e):null,et=$.getAttribute("formmethod")||ot.getAttribute("method")||defaultMethod,nt=getFormEncType($.getAttribute("formenctype"))||getFormEncType(ot.getAttribute("enctype"))||defaultEncType,rt=new FormData(ot,$),!isFormDataSubmitterSupported()){let{name:lt,type:at,value:mt}=$;if(at==="image"){let ft=lt?`${lt}.`:"";rt.append(`${ft}x`,"0"),rt.append(`${ft}y`,"0")}else lt&&rt.append(lt,mt)}}else{if(isHtmlElement($))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');et=defaultMethod,tt=null,nt=defaultEncType,it=$}return rt&&nt==="text/plain"&&(it=rt,rt=void 0),{action:tt,method:et.toLowerCase(),encType:nt,formData:rt,body:it}}function invariant2($,_e){if($===!1||$===null||typeof $>"u")throw new Error(_e)}async function loadRouteModule($,_e){if($.id in _e)return _e[$.id];try{let et=await __vitePreload(()=>import($.module),[]);return _e[$.id]=et,et}catch(et){return console.error(`Error loading route module \`${$.module}\`, reloading page...`),console.error(et),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isPageLinkDescriptor($){return $!=null&&typeof $.page=="string"}function isHtmlLinkDescriptor($){return $==null?!1:$.href==null?$.rel==="preload"&&typeof $.imageSrcSet=="string"&&typeof $.imageSizes=="string":typeof $.rel=="string"&&typeof $.href=="string"}async function getKeyedPrefetchLinks($,_e,et){let tt=await Promise.all($.map(async nt=>{let rt=_e.routes[nt.route.id];if(rt){let it=await loadRouteModule(rt,et);return it.links?it.links():[]}return[]}));return dedupeLinkDescriptors(tt.flat(1).filter(isHtmlLinkDescriptor).filter(nt=>nt.rel==="stylesheet"||nt.rel==="preload").map(nt=>nt.rel==="stylesheet"?{...nt,rel:"prefetch",as:"style"}:{...nt,rel:"prefetch"}))}function getNewMatchesForLinks($,_e,et,tt,nt,rt){let it=(st,lt)=>et[lt]?st.route.id!==et[lt].route.id:!0,ot=(st,lt)=>{var at;return et[lt].pathname!==st.pathname||((at=et[lt].route.path)==null?void 0:at.endsWith("*"))&&et[lt].params["*"]!==st.params["*"]};return rt==="assets"?_e.filter((st,lt)=>it(st,lt)||ot(st,lt)):rt==="data"?_e.filter((st,lt)=>{var mt;let at=tt.routes[st.route.id];if(!at||!at.hasLoader)return!1;if(it(st,lt)||ot(st,lt))return!0;if(st.route.shouldRevalidate){let ft=st.route.shouldRevalidate({currentUrl:new URL(nt.pathname+nt.search+nt.hash,window.origin),currentParams:((mt=et[0])==null?void 0:mt.params)||{},nextUrl:new URL($,window.origin),nextParams:st.params,defaultShouldRevalidate:!0});if(typeof ft=="boolean")return ft}return!0}):[]}function getModuleLinkHrefs($,_e,{includeHydrateFallback:et}={}){return dedupeHrefs($.map(tt=>{let nt=_e.routes[tt.route.id];if(!nt)return[];let rt=[nt.module];return nt.clientActionModule&&(rt=rt.concat(nt.clientActionModule)),nt.clientLoaderModule&&(rt=rt.concat(nt.clientLoaderModule)),et&&nt.hydrateFallbackModule&&(rt=rt.concat(nt.hydrateFallbackModule)),nt.imports&&(rt=rt.concat(nt.imports)),rt}).flat(1))}function dedupeHrefs($){return[...new Set($)]}function sortKeys($){let _e={},et=Object.keys($).sort();for(let tt of et)_e[tt]=$[tt];return _e}function dedupeLinkDescriptors($,_e){let et=new Set,tt=new Set(_e);return $.reduce((nt,rt)=>{if(_e&&!isPageLinkDescriptor(rt)&&rt.as==="script"&&rt.href&&tt.has(rt.href))return nt;let ot=JSON.stringify(sortKeys(rt));return et.has(ot)||(et.add(ot),nt.push({key:ot,link:rt})),nt},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl($,_e){let et=typeof $=="string"?new URL($,typeof window>"u"?"server://singlefetch/":window.location.origin):$;return et.pathname==="/"?et.pathname="_root.data":_e&&stripBasename(et.pathname,_e)==="/"?et.pathname=`${_e.replace(/\/$/,"")}/_root.data`:et.pathname=`${et.pathname.replace(/\/$/,"")}.data`,et}function useDataRouterContext2(){let $=reactExports.useContext(DataRouterContext);return invariant2($,"You must render this element inside a <DataRouterContext.Provider> element"),$}function useDataRouterStateContext(){let $=reactExports.useContext(DataRouterStateContext);return invariant2($,"You must render this element inside a <DataRouterStateContext.Provider> element"),$}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let $=reactExports.useContext(FrameworkContext);return invariant2($,"You must render this element inside a <HydratedRouter> element"),$}function usePrefetchBehavior($,_e){let et=reactExports.useContext(FrameworkContext),[tt,nt]=reactExports.useState(!1),[rt,it]=reactExports.useState(!1),{onFocus:ot,onBlur:st,onMouseEnter:lt,onMouseLeave:at,onTouchStart:mt}=_e,ft=reactExports.useRef(null);reactExports.useEffect(()=>{if($==="render"&&it(!0),$==="viewport"){let dt=ut=>{ut.forEach(ct=>{it(ct.isIntersecting)})},pt=new IntersectionObserver(dt,{threshold:.5});return ft.current&&pt.observe(ft.current),()=>{pt.disconnect()}}},[$]),reactExports.useEffect(()=>{if(tt){let dt=setTimeout(()=>{it(!0)},100);return()=>{clearTimeout(dt)}}},[tt]);let gt=()=>{nt(!0)},vt=()=>{nt(!1),it(!1)};return et?$!=="intent"?[rt,ft,{}]:[rt,ft,{onFocus:composeEventHandlers(ot,gt),onBlur:composeEventHandlers(st,vt),onMouseEnter:composeEventHandlers(lt,gt),onMouseLeave:composeEventHandlers(at,vt),onTouchStart:composeEventHandlers(mt,gt)}]:[!1,ft,{}]}function composeEventHandlers($,_e){return et=>{$&&$(et),et.defaultPrevented||_e(et)}}function PrefetchPageLinks({page:$,..._e}){let{router:et}=useDataRouterContext2(),tt=reactExports.useMemo(()=>matchRoutes(et.routes,$,et.basename),[et.routes,$,et.basename]);return tt?reactExports.createElement(PrefetchPageLinksImpl,{page:$,matches:tt,..._e}):null}function useKeyedPrefetchLinks($){let{manifest:_e,routeModules:et}=useFrameworkContext(),[tt,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{let rt=!1;return getKeyedPrefetchLinks($,_e,et).then(it=>{rt||nt(it)}),()=>{rt=!0}},[$,_e,et]),tt}function PrefetchPageLinksImpl({page:$,matches:_e,...et}){let tt=useLocation(),{manifest:nt,routeModules:rt}=useFrameworkContext(),{basename:it}=useDataRouterContext2(),{loaderData:ot,matches:st}=useDataRouterStateContext(),lt=reactExports.useMemo(()=>getNewMatchesForLinks($,_e,st,nt,tt,"data"),[$,_e,st,nt,tt]),at=reactExports.useMemo(()=>getNewMatchesForLinks($,_e,st,nt,tt,"assets"),[$,_e,st,nt,tt]),mt=reactExports.useMemo(()=>{if($===tt.pathname+tt.search+tt.hash)return[];let vt=new Set,dt=!1;if(_e.forEach(ut=>{var xt;let ct=nt.routes[ut.route.id];!ct||!ct.hasLoader||(!lt.some(yt=>yt.route.id===ut.route.id)&&ut.route.id in ot&&((xt=rt[ut.route.id])!=null&&xt.shouldRevalidate)||ct.hasClientLoader?dt=!0:vt.add(ut.route.id))}),vt.size===0)return[];let pt=singleFetchUrl($,it);return dt&&vt.size>0&&pt.searchParams.set("_routes",_e.filter(ut=>vt.has(ut.route.id)).map(ut=>ut.route.id).join(",")),[pt.pathname+pt.search]},[it,ot,tt,nt,lt,_e,$,rt]),ft=reactExports.useMemo(()=>getModuleLinkHrefs(at,nt),[at,nt]),gt=useKeyedPrefetchLinks(at);return reactExports.createElement(reactExports.Fragment,null,mt.map(vt=>reactExports.createElement("link",{key:vt,rel:"prefetch",as:"fetch",href:vt,...et})),ft.map(vt=>reactExports.createElement("link",{key:vt,rel:"modulepreload",href:vt,...et})),gt.map(({key:vt,link:dt})=>reactExports.createElement("link",{key:vt,...dt})))}function mergeRefs(...$){return _e=>{$.forEach(et=>{typeof et=="function"?et(_e):et!=null&&(et.current=_e)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.6.2")}catch{}function BrowserRouter({basename:$,children:_e,window:et}){let tt=reactExports.useRef();tt.current==null&&(tt.current=createBrowserHistory({window:et,v5Compat:!0}));let nt=tt.current,[rt,it]=reactExports.useState({action:nt.action,location:nt.location}),ot=reactExports.useCallback(st=>{reactExports.startTransition(()=>it(st))},[it]);return reactExports.useLayoutEffect(()=>nt.listen(ot),[nt,ot]),reactExports.createElement(Router,{basename:$,children:_e,location:rt.location,navigationType:rt.action,navigator:nt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:_e,discover:et="render",prefetch:tt="none",relative:nt,reloadDocument:rt,replace:it,state:ot,target:st,to:lt,preventScrollReset:at,viewTransition:mt,...ft},gt){let{basename:vt}=reactExports.useContext(NavigationContext),dt=typeof lt=="string"&&ABSOLUTE_URL_REGEX2.test(lt),pt,ut=!1;if(typeof lt=="string"&&dt&&(pt=lt,isBrowser))try{let wt=new URL(window.location.href),kt=lt.startsWith("//")?new URL(wt.protocol+lt):new URL(lt),Mt=stripBasename(kt.pathname,vt);kt.origin===wt.origin&&Mt!=null?lt=Mt+kt.search+kt.hash:ut=!0}catch{warning(!1,`<Link to="${lt}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ct=useHref(lt,{relative:nt}),[xt,yt,ht]=usePrefetchBehavior(tt,ft),bt=useLinkClickHandler(lt,{replace:it,state:ot,target:st,preventScrollReset:at,relative:nt,viewTransition:mt});function Tt(wt){_e&&_e(wt),wt.defaultPrevented||bt(wt)}let Pt=reactExports.createElement("a",{...ft,...ht,href:pt||ct,onClick:ut||rt?_e:Tt,ref:mergeRefs(gt,yt),target:st,"data-discover":!dt&&et==="render"?"true":void 0});return xt&&!dt?reactExports.createElement(reactExports.Fragment,null,Pt,reactExports.createElement(PrefetchPageLinks,{page:ct})):Pt});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":_e="page",caseSensitive:et=!1,className:tt="",end:nt=!1,style:rt,to:it,viewTransition:ot,children:st,...lt},at){let mt=useResolvedPath(it,{relative:lt.relative}),ft=useLocation(),gt=reactExports.useContext(DataRouterStateContext),{navigator:vt,basename:dt}=reactExports.useContext(NavigationContext),pt=gt!=null&&useViewTransitionState(mt)&&ot===!0,ut=vt.encodeLocation?vt.encodeLocation(mt).pathname:mt.pathname,ct=ft.pathname,xt=gt&&gt.navigation&&gt.navigation.location?gt.navigation.location.pathname:null;et||(ct=ct.toLowerCase(),xt=xt?xt.toLowerCase():null,ut=ut.toLowerCase()),xt&&dt&&(xt=stripBasename(xt,dt)||xt);const yt=ut!=="/"&&ut.endsWith("/")?ut.length-1:ut.length;let ht=ct===ut||!nt&&ct.startsWith(ut)&&ct.charAt(yt)==="/",bt=xt!=null&&(xt===ut||!nt&&xt.startsWith(ut)&&xt.charAt(ut.length)==="/"),Tt={isActive:ht,isPending:bt,isTransitioning:pt},Pt=ht?_e:void 0,wt;typeof tt=="function"?wt=tt(Tt):wt=[tt,ht?"active":null,bt?"pending":null,pt?"transitioning":null].filter(Boolean).join(" ");let kt=typeof rt=="function"?rt(Tt):rt;return reactExports.createElement(Link,{...lt,"aria-current":Pt,className:wt,ref:at,style:kt,to:it,viewTransition:ot},typeof st=="function"?st(Tt):st)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:$="render",fetcherKey:_e,navigate:et,reloadDocument:tt,replace:nt,state:rt,method:it=defaultMethod,action:ot,onSubmit:st,relative:lt,preventScrollReset:at,viewTransition:mt,...ft},gt)=>{let vt=useSubmit(),dt=useFormAction(ot,{relative:lt}),pt=it.toLowerCase()==="get"?"get":"post",ut=typeof ot=="string"&&ABSOLUTE_URL_REGEX2.test(ot),ct=xt=>{if(st&&st(xt),xt.defaultPrevented)return;xt.preventDefault();let yt=xt.nativeEvent.submitter,ht=(yt==null?void 0:yt.getAttribute("formmethod"))||it;vt(yt||xt.currentTarget,{fetcherKey:_e,method:ht,navigate:et,replace:nt,state:rt,relative:lt,preventScrollReset:at,viewTransition:mt})};return reactExports.createElement("form",{ref:gt,method:pt,action:dt,onSubmit:tt?st:ct,...ft,"data-discover":!ut&&$==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2($){return`${$} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3($){let _e=reactExports.useContext(DataRouterContext);return invariant$1(_e,getDataRouterConsoleError2($)),_e}function useLinkClickHandler($,{target:_e,replace:et,state:tt,preventScrollReset:nt,relative:rt,viewTransition:it}={}){let ot=useNavigate(),st=useLocation(),lt=useResolvedPath($,{relative:rt});return reactExports.useCallback(at=>{if(shouldProcessLinkClick(at,_e)){at.preventDefault();let mt=et!==void 0?et:createPath(st)===createPath(lt);ot($,{replace:mt,state:tt,preventScrollReset:nt,relative:rt,viewTransition:it})}},[st,ot,lt,et,tt,_e,$,nt,rt,it])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:$}=useDataRouterContext3("useSubmit"),{basename:_e}=reactExports.useContext(NavigationContext),et=useRouteId();return reactExports.useCallback(async(tt,nt={})=>{let{action:rt,method:it,encType:ot,formData:st,body:lt}=getFormSubmissionInfo(tt,_e);if(nt.navigate===!1){let at=nt.fetcherKey||getUniqueFetcherId();await $.fetch(at,et,nt.action||rt,{preventScrollReset:nt.preventScrollReset,formData:st,body:lt,formMethod:nt.method||it,formEncType:nt.encType||ot,flushSync:nt.flushSync})}else await $.navigate(nt.action||rt,{preventScrollReset:nt.preventScrollReset,formData:st,body:lt,formMethod:nt.method||it,formEncType:nt.encType||ot,replace:nt.replace,state:nt.state,fromRouteId:et,flushSync:nt.flushSync,viewTransition:nt.viewTransition})},[$,_e,et])}function useFormAction($,{relative:_e}={}){let{basename:et}=reactExports.useContext(NavigationContext),tt=reactExports.useContext(RouteContext);invariant$1(tt,"useFormAction must be used inside a RouteContext");let[nt]=tt.matches.slice(-1),rt={...useResolvedPath($||".",{relative:_e})},it=useLocation();if($==null){rt.search=it.search;let ot=new URLSearchParams(rt.search),st=ot.getAll("index");if(st.some(at=>at==="")){ot.delete("index"),st.filter(mt=>mt).forEach(mt=>ot.append("index",mt));let at=ot.toString();rt.search=at?`?${at}`:""}}return(!$||$===".")&&nt.route.index&&(rt.search=rt.search?rt.search.replace(/^\?/,"?index&"):"?index"),et!=="/"&&(rt.pathname=rt.pathname==="/"?et:joinPaths([et,rt.pathname])),createPath(rt)}function useViewTransitionState($,_e={}){let et=reactExports.useContext(ViewTransitionContext);invariant$1(et!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:tt}=useDataRouterContext3("useViewTransitionState"),nt=useResolvedPath($,{relative:_e.relative});if(!et.isTransitioning)return!1;let rt=stripBasename(et.currentLocation.pathname,tt)||et.currentLocation.pathname,it=stripBasename(et.nextLocation.pathname,tt)||et.nextLocation.pathname;return matchPath(nt.pathname,it)!=null||matchPath(nt.pathname,rt)!=null}[...NO_BODY_STATUS_CODES];function commonjsRequire($){throw new Error('Could not dynamically require "'+$+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function($,_e){(function(et){$.exports=et()})(function(){return function et(tt,nt,rt){function it(lt,at){if(!nt[lt]){if(!tt[lt]){var mt=typeof commonjsRequire=="function"&&commonjsRequire;if(!at&&mt)return mt(lt,!0);if(ot)return ot(lt,!0);var ft=new Error("Cannot find module '"+lt+"'");throw ft.code="MODULE_NOT_FOUND",ft}var gt=nt[lt]={exports:{}};tt[lt][0].call(gt.exports,function(vt){var dt=tt[lt][1][vt];return it(dt||vt)},gt,gt.exports,et,tt,nt,rt)}return nt[lt].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<rt.length;st++)it(rt[st]);return it}({1:[function(et,tt,nt){(function(rt){var it=rt.MutationObserver||rt.WebKitMutationObserver,ot;if(it){var st=0,lt=new it(vt),at=rt.document.createTextNode("");lt.observe(at,{characterData:!0}),ot=function(){at.data=st=++st%2}}else if(!rt.setImmediate&&typeof rt.MessageChannel<"u"){var mt=new rt.MessageChannel;mt.port1.onmessage=vt,ot=function(){mt.port2.postMessage(0)}}else"document"in rt&&"onreadystatechange"in rt.document.createElement("script")?ot=function(){var pt=rt.document.createElement("script");pt.onreadystatechange=function(){vt(),pt.onreadystatechange=null,pt.parentNode.removeChild(pt),pt=null},rt.document.documentElement.appendChild(pt)}:ot=function(){setTimeout(vt,0)};var ft,gt=[];function vt(){ft=!0;for(var pt,ut,ct=gt.length;ct;){for(ut=gt,gt=[],pt=-1;++pt<ct;)ut[pt]();ct=gt.length}ft=!1}tt.exports=dt;function dt(pt){gt.push(pt)===1&&!ft&&ot()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,tt,nt){var rt=et(1);function it(){}var ot={},st=["REJECTED"],lt=["FULFILLED"],at=["PENDING"];tt.exports=mt;function mt(ht){if(typeof ht!="function")throw new TypeError("resolver must be a function");this.state=at,this.queue=[],this.outcome=void 0,ht!==it&&dt(this,ht)}mt.prototype.catch=function(ht){return this.then(null,ht)},mt.prototype.then=function(ht,bt){if(typeof ht!="function"&&this.state===lt||typeof bt!="function"&&this.state===st)return this;var Tt=new this.constructor(it);if(this.state!==at){var Pt=this.state===lt?ht:bt;gt(Tt,Pt,this.outcome)}else this.queue.push(new ft(Tt,ht,bt));return Tt};function ft(ht,bt,Tt){this.promise=ht,typeof bt=="function"&&(this.onFulfilled=bt,this.callFulfilled=this.otherCallFulfilled),typeof Tt=="function"&&(this.onRejected=Tt,this.callRejected=this.otherCallRejected)}ft.prototype.callFulfilled=function(ht){ot.resolve(this.promise,ht)},ft.prototype.otherCallFulfilled=function(ht){gt(this.promise,this.onFulfilled,ht)},ft.prototype.callRejected=function(ht){ot.reject(this.promise,ht)},ft.prototype.otherCallRejected=function(ht){gt(this.promise,this.onRejected,ht)};function gt(ht,bt,Tt){rt(function(){var Pt;try{Pt=bt(Tt)}catch(wt){return ot.reject(ht,wt)}Pt===ht?ot.reject(ht,new TypeError("Cannot resolve promise with itself")):ot.resolve(ht,Pt)})}ot.resolve=function(ht,bt){var Tt=pt(vt,bt);if(Tt.status==="error")return ot.reject(ht,Tt.value);var Pt=Tt.value;if(Pt)dt(ht,Pt);else{ht.state=lt,ht.outcome=bt;for(var wt=-1,kt=ht.queue.length;++wt<kt;)ht.queue[wt].callFulfilled(bt)}return ht},ot.reject=function(ht,bt){ht.state=st,ht.outcome=bt;for(var Tt=-1,Pt=ht.queue.length;++Tt<Pt;)ht.queue[Tt].callRejected(bt);return ht};function vt(ht){var bt=ht&&ht.then;if(ht&&(typeof ht=="object"||typeof ht=="function")&&typeof bt=="function")return function(){bt.apply(ht,arguments)}}function dt(ht,bt){var Tt=!1;function Pt(Dt){Tt||(Tt=!0,ot.reject(ht,Dt))}function wt(Dt){Tt||(Tt=!0,ot.resolve(ht,Dt))}function kt(){bt(wt,Pt)}var Mt=pt(kt);Mt.status==="error"&&Pt(Mt.value)}function pt(ht,bt){var Tt={};try{Tt.value=ht(bt),Tt.status="success"}catch(Pt){Tt.status="error",Tt.value=Pt}return Tt}mt.resolve=ut;function ut(ht){return ht instanceof this?ht:ot.resolve(new this(it),ht)}mt.reject=ct;function ct(ht){var bt=new this(it);return ot.reject(bt,ht)}mt.all=xt;function xt(ht){var bt=this;if(Object.prototype.toString.call(ht)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Tt=ht.length,Pt=!1;if(!Tt)return this.resolve([]);for(var wt=new Array(Tt),kt=0,Mt=-1,Dt=new this(it);++Mt<Tt;)Ht(ht[Mt],Mt);return Dt;function Ht(Nt,Vt){bt.resolve(Nt).then(qt,function(un){Pt||(Pt=!0,ot.reject(Dt,un))});function qt(un){wt[Vt]=un,++kt===Tt&&!Pt&&(Pt=!0,ot.resolve(Dt,wt))}}}mt.race=yt;function yt(ht){var bt=this;if(Object.prototype.toString.call(ht)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Tt=ht.length,Pt=!1;if(!Tt)return this.resolve([]);for(var wt=-1,kt=new this(it);++wt<Tt;)Mt(ht[wt]);return kt;function Mt(Dt){bt.resolve(Dt).then(function(Ht){Pt||(Pt=!0,ot.resolve(kt,Ht))},function(Ht){Pt||(Pt=!0,ot.reject(kt,Ht))})}}},{1:1}],3:[function(et,tt,nt){(function(rt){typeof rt.Promise!="function"&&(rt.Promise=et(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,tt,nt){var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ut){return typeof Ut}:function(Ut){return Ut&&typeof Symbol=="function"&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut};function it(Ut,ln){if(!(Ut instanceof ln))throw new TypeError("Cannot call a class as a function")}function ot(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var st=ot();function lt(){try{if(!st||!st.open)return!1;var Ut=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ln=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Ut||ln)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function at(Ut,ln){Ut=Ut||[],ln=ln||{};try{return new Blob(Ut,ln)}catch(wn){if(wn.name!=="TypeError")throw wn;for(var Gt=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,kn=new Gt,Mn=0;Mn<Ut.length;Mn+=1)kn.append(Ut[Mn]);return kn.getBlob(ln.type)}}typeof Promise>"u"&&et(3);var mt=Promise;function ft(Ut,ln){ln&&Ut.then(function(Gt){ln(null,Gt)},function(Gt){ln(Gt)})}function gt(Ut,ln,Gt){typeof ln=="function"&&Ut.then(ln),typeof Gt=="function"&&Ut.catch(Gt)}function vt(Ut){return typeof Ut!="string"&&(console.warn(Ut+" used as a key, but it is not a string."),Ut=String(Ut)),Ut}function dt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var pt="local-forage-detect-blob-support",ut=void 0,ct={},xt=Object.prototype.toString,yt="readonly",ht="readwrite";function bt(Ut){for(var ln=Ut.length,Gt=new ArrayBuffer(ln),kn=new Uint8Array(Gt),Mn=0;Mn<ln;Mn++)kn[Mn]=Ut.charCodeAt(Mn);return Gt}function Tt(Ut){return new mt(function(ln){var Gt=Ut.transaction(pt,ht),kn=at([""]);Gt.objectStore(pt).put(kn,"key"),Gt.onabort=function(Mn){Mn.preventDefault(),Mn.stopPropagation(),ln(!1)},Gt.oncomplete=function(){var Mn=navigator.userAgent.match(/Chrome\/(\d+)/),wn=navigator.userAgent.match(/Edge\//);ln(wn||!Mn||parseInt(Mn[1],10)>=43)}}).catch(function(){return!1})}function Pt(Ut){return typeof ut=="boolean"?mt.resolve(ut):Tt(Ut).then(function(ln){return ut=ln,ut})}function wt(Ut){var ln=ct[Ut.name],Gt={};Gt.promise=new mt(function(kn,Mn){Gt.resolve=kn,Gt.reject=Mn}),ln.deferredOperations.push(Gt),ln.dbReady?ln.dbReady=ln.dbReady.then(function(){return Gt.promise}):ln.dbReady=Gt.promise}function kt(Ut){var ln=ct[Ut.name],Gt=ln.deferredOperations.pop();if(Gt)return Gt.resolve(),Gt.promise}function Mt(Ut,ln){var Gt=ct[Ut.name],kn=Gt.deferredOperations.pop();if(kn)return kn.reject(ln),kn.promise}function Dt(Ut,ln){return new mt(function(Gt,kn){if(ct[Ut.name]=ct[Ut.name]||Nn(),Ut.db)if(ln)wt(Ut),Ut.db.close();else return Gt(Ut.db);var Mn=[Ut.name];ln&&Mn.push(Ut.version);var wn=st.open.apply(st,Mn);ln&&(wn.onupgradeneeded=function(Yn){var ir=wn.result;try{ir.createObjectStore(Ut.storeName),Yn.oldVersion<=1&&ir.createObjectStore(pt)}catch(or){if(or.name==="ConstraintError")console.warn('The database "'+Ut.name+'" has been upgraded from version '+Yn.oldVersion+" to version "+Yn.newVersion+', but the storage "'+Ut.storeName+'" already exists.');else throw or}}),wn.onerror=function(Yn){Yn.preventDefault(),kn(wn.error)},wn.onsuccess=function(){var Yn=wn.result;Yn.onversionchange=function(ir){ir.target.close()},Gt(Yn),kt(Ut)}})}function Ht(Ut){return Dt(Ut,!1)}function Nt(Ut){return Dt(Ut,!0)}function Vt(Ut,ln){if(!Ut.db)return!0;var Gt=!Ut.db.objectStoreNames.contains(Ut.storeName),kn=Ut.version<Ut.db.version,Mn=Ut.version>Ut.db.version;if(kn&&(Ut.version!==ln&&console.warn('The database "'+Ut.name+`" can't be downgraded from version `+Ut.db.version+" to version "+Ut.version+"."),Ut.version=Ut.db.version),Mn||Gt){if(Gt){var wn=Ut.db.version+1;wn>Ut.version&&(Ut.version=wn)}return!0}return!1}function qt(Ut){return new mt(function(ln,Gt){var kn=new FileReader;kn.onerror=Gt,kn.onloadend=function(Mn){var wn=btoa(Mn.target.result||"");ln({__local_forage_encoded_blob:!0,data:wn,type:Ut.type})},kn.readAsBinaryString(Ut)})}function un(Ut){var ln=bt(atob(Ut.data));return at([ln],{type:Ut.type})}function Bt(Ut){return Ut&&Ut.__local_forage_encoded_blob}function nn(Ut){var ln=this,Gt=ln._initReady().then(function(){var kn=ct[ln._dbInfo.name];if(kn&&kn.dbReady)return kn.dbReady});return gt(Gt,Ut,Ut),Gt}function tn(Ut){wt(Ut);for(var ln=ct[Ut.name],Gt=ln.forages,kn=0;kn<Gt.length;kn++){var Mn=Gt[kn];Mn._dbInfo.db&&(Mn._dbInfo.db.close(),Mn._dbInfo.db=null)}return Ut.db=null,Ht(Ut).then(function(wn){return Ut.db=wn,Vt(Ut)?Nt(Ut):wn}).then(function(wn){Ut.db=ln.db=wn;for(var Yn=0;Yn<Gt.length;Yn++)Gt[Yn]._dbInfo.db=wn}).catch(function(wn){throw Mt(Ut,wn),wn})}function _n(Ut,ln,Gt,kn){kn===void 0&&(kn=1);try{var Mn=Ut.db.transaction(Ut.storeName,ln);Gt(null,Mn)}catch(wn){if(kn>0&&(!Ut.db||wn.name==="InvalidStateError"||wn.name==="NotFoundError"))return mt.resolve().then(function(){if(!Ut.db||wn.name==="NotFoundError"&&!Ut.db.objectStoreNames.contains(Ut.storeName)&&Ut.version<=Ut.db.version)return Ut.db&&(Ut.version=Ut.db.version+1),Nt(Ut)}).then(function(){return tn(Ut).then(function(){_n(Ut,ln,Gt,kn-1)})}).catch(Gt);Gt(wn)}}function Nn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Lt(Ut){var ln=this,Gt={db:null};if(Ut)for(var kn in Ut)Gt[kn]=Ut[kn];var Mn=ct[Gt.name];Mn||(Mn=Nn(),ct[Gt.name]=Mn),Mn.forages.push(ln),ln._initReady||(ln._initReady=ln.ready,ln.ready=nn);var wn=[];function Yn(){return mt.resolve()}for(var ir=0;ir<Mn.forages.length;ir++){var or=Mn.forages[ir];or!==ln&&wn.push(or._initReady().catch(Yn))}var cr=Mn.forages.slice(0);return mt.all(wn).then(function(){return Gt.db=Mn.db,Ht(Gt)}).then(function(pr){return Gt.db=pr,Vt(Gt,ln._defaultConfig.version)?Nt(Gt):pr}).then(function(pr){Gt.db=Mn.db=pr,ln._dbInfo=Gt;for(var $r=0;$r<cr.length;$r++){var eo=cr[$r];eo!==ln&&(eo._dbInfo.db=Gt.db,eo._dbInfo.version=Gt.version)}})}function Et(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=new mt(function(Mn,wn){Gt.ready().then(function(){_n(Gt._dbInfo,yt,function(Yn,ir){if(Yn)return wn(Yn);try{var or=ir.objectStore(Gt._dbInfo.storeName),cr=or.get(Ut);cr.onsuccess=function(){var pr=cr.result;pr===void 0&&(pr=null),Bt(pr)&&(pr=un(pr)),Mn(pr)},cr.onerror=function(){wn(cr.error)}}catch(pr){wn(pr)}})}).catch(wn)});return ft(kn,ln),kn}function Ct(Ut,ln){var Gt=this,kn=new mt(function(Mn,wn){Gt.ready().then(function(){_n(Gt._dbInfo,yt,function(Yn,ir){if(Yn)return wn(Yn);try{var or=ir.objectStore(Gt._dbInfo.storeName),cr=or.openCursor(),pr=1;cr.onsuccess=function(){var $r=cr.result;if($r){var eo=$r.value;Bt(eo)&&(eo=un(eo));var mo=Ut(eo,$r.key,pr++);mo!==void 0?Mn(mo):$r.continue()}else Mn()},cr.onerror=function(){wn(cr.error)}}catch($r){wn($r)}})}).catch(wn)});return ft(kn,ln),kn}function St(Ut,ln,Gt){var kn=this;Ut=vt(Ut);var Mn=new mt(function(wn,Yn){var ir;kn.ready().then(function(){return ir=kn._dbInfo,xt.call(ln)==="[object Blob]"?Pt(ir.db).then(function(or){return or?ln:qt(ln)}):ln}).then(function(or){_n(kn._dbInfo,ht,function(cr,pr){if(cr)return Yn(cr);try{var $r=pr.objectStore(kn._dbInfo.storeName);or===null&&(or=void 0);var eo=$r.put(or,Ut);pr.oncomplete=function(){or===void 0&&(or=null),wn(or)},pr.onabort=pr.onerror=function(){var mo=eo.error?eo.error:eo.transaction.error;Yn(mo)}}catch(mo){Yn(mo)}})}).catch(Yn)});return ft(Mn,Gt),Mn}function Rt(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=new mt(function(Mn,wn){Gt.ready().then(function(){_n(Gt._dbInfo,ht,function(Yn,ir){if(Yn)return wn(Yn);try{var or=ir.objectStore(Gt._dbInfo.storeName),cr=or.delete(Ut);ir.oncomplete=function(){Mn()},ir.onerror=function(){wn(cr.error)},ir.onabort=function(){var pr=cr.error?cr.error:cr.transaction.error;wn(pr)}}catch(pr){wn(pr)}})}).catch(wn)});return ft(kn,ln),kn}function jt(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){_n(ln._dbInfo,ht,function(wn,Yn){if(wn)return Mn(wn);try{var ir=Yn.objectStore(ln._dbInfo.storeName),or=ir.clear();Yn.oncomplete=function(){kn()},Yn.onabort=Yn.onerror=function(){var cr=or.error?or.error:or.transaction.error;Mn(cr)}}catch(cr){Mn(cr)}})}).catch(Mn)});return ft(Gt,Ut),Gt}function It(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){_n(ln._dbInfo,yt,function(wn,Yn){if(wn)return Mn(wn);try{var ir=Yn.objectStore(ln._dbInfo.storeName),or=ir.count();or.onsuccess=function(){kn(or.result)},or.onerror=function(){Mn(or.error)}}catch(cr){Mn(cr)}})}).catch(Mn)});return ft(Gt,Ut),Gt}function zt(Ut,ln){var Gt=this,kn=new mt(function(Mn,wn){if(Ut<0){Mn(null);return}Gt.ready().then(function(){_n(Gt._dbInfo,yt,function(Yn,ir){if(Yn)return wn(Yn);try{var or=ir.objectStore(Gt._dbInfo.storeName),cr=!1,pr=or.openKeyCursor();pr.onsuccess=function(){var $r=pr.result;if(!$r){Mn(null);return}Ut===0||cr?Mn($r.key):(cr=!0,$r.advance(Ut))},pr.onerror=function(){wn(pr.error)}}catch($r){wn($r)}})}).catch(wn)});return ft(kn,ln),kn}function Wt(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){_n(ln._dbInfo,yt,function(wn,Yn){if(wn)return Mn(wn);try{var ir=Yn.objectStore(ln._dbInfo.storeName),or=ir.openKeyCursor(),cr=[];or.onsuccess=function(){var pr=or.result;if(!pr){kn(cr);return}cr.push(pr.key),pr.continue()},or.onerror=function(){Mn(or.error)}}catch(pr){Mn(pr)}})}).catch(Mn)});return ft(Gt,Ut),Gt}function Zt(Ut,ln){ln=dt.apply(this,arguments);var Gt=this.config();Ut=typeof Ut!="function"&&Ut||{},Ut.name||(Ut.name=Ut.name||Gt.name,Ut.storeName=Ut.storeName||Gt.storeName);var kn=this,Mn;if(!Ut.name)Mn=mt.reject("Invalid arguments");else{var wn=Ut.name===Gt.name&&kn._dbInfo.db,Yn=wn?mt.resolve(kn._dbInfo.db):Ht(Ut).then(function(ir){var or=ct[Ut.name],cr=or.forages;or.db=ir;for(var pr=0;pr<cr.length;pr++)cr[pr]._dbInfo.db=ir;return ir});Ut.storeName?Mn=Yn.then(function(ir){if(ir.objectStoreNames.contains(Ut.storeName)){var or=ir.version+1;wt(Ut);var cr=ct[Ut.name],pr=cr.forages;ir.close();for(var $r=0;$r<pr.length;$r++){var eo=pr[$r];eo._dbInfo.db=null,eo._dbInfo.version=or}var mo=new mt(function(go,To){var $o=st.open(Ut.name,or);$o.onerror=function(Uo){var is=$o.result;is.close(),To(Uo)},$o.onupgradeneeded=function(){var Uo=$o.result;Uo.deleteObjectStore(Ut.storeName)},$o.onsuccess=function(){var Uo=$o.result;Uo.close(),go(Uo)}});return mo.then(function(go){cr.db=go;for(var To=0;To<pr.length;To++){var $o=pr[To];$o._dbInfo.db=go,kt($o._dbInfo)}}).catch(function(go){throw(Mt(Ut,go)||mt.resolve()).catch(function(){}),go})}}):Mn=Yn.then(function(ir){wt(Ut);var or=ct[Ut.name],cr=or.forages;ir.close();for(var pr=0;pr<cr.length;pr++){var $r=cr[pr];$r._dbInfo.db=null}var eo=new mt(function(mo,go){var To=st.deleteDatabase(Ut.name);To.onerror=function(){var $o=To.result;$o&&$o.close(),go(To.error)},To.onblocked=function(){console.warn('dropInstance blocked for database "'+Ut.name+'" until all open connections are closed')},To.onsuccess=function(){var $o=To.result;$o&&$o.close(),mo($o)}});return eo.then(function(mo){or.db=mo;for(var go=0;go<cr.length;go++){var To=cr[go];kt(To._dbInfo)}}).catch(function(mo){throw(Mt(Ut,mo)||mt.resolve()).catch(function(){}),mo})})}return ft(Mn,ln),Mn}var Kt={_driver:"asyncStorage",_initStorage:Lt,_support:lt(),iterate:Ct,getItem:Et,setItem:St,removeItem:Rt,clear:jt,length:It,key:zt,keys:Wt,dropInstance:Zt};function Xt(){return typeof openDatabase=="function"}var rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bn="~~local_forage_type~",En=/^~~local_forage_type~([^~]+)~/,Tn="__lfsc__:",In=Tn.length,Fn="arbf",qn="blob",An="si08",hn="ui08",pn="uic8",jn="si16",Gn="si32",Xn="ur16",mr="ui32",Sr="fl32",br="fl64",kr=In+Fn.length,Rr=Object.prototype.toString;function xr(Ut){var ln=Ut.length*.75,Gt=Ut.length,kn,Mn=0,wn,Yn,ir,or;Ut[Ut.length-1]==="="&&(ln--,Ut[Ut.length-2]==="="&&ln--);var cr=new ArrayBuffer(ln),pr=new Uint8Array(cr);for(kn=0;kn<Gt;kn+=4)wn=rn.indexOf(Ut[kn]),Yn=rn.indexOf(Ut[kn+1]),ir=rn.indexOf(Ut[kn+2]),or=rn.indexOf(Ut[kn+3]),pr[Mn++]=wn<<2|Yn>>4,pr[Mn++]=(Yn&15)<<4|ir>>2,pr[Mn++]=(ir&3)<<6|or&63;return cr}function Nr(Ut){var ln=new Uint8Array(Ut),Gt="",kn;for(kn=0;kn<ln.length;kn+=3)Gt+=rn[ln[kn]>>2],Gt+=rn[(ln[kn]&3)<<4|ln[kn+1]>>4],Gt+=rn[(ln[kn+1]&15)<<2|ln[kn+2]>>6],Gt+=rn[ln[kn+2]&63];return ln.length%3===2?Gt=Gt.substring(0,Gt.length-1)+"=":ln.length%3===1&&(Gt=Gt.substring(0,Gt.length-2)+"=="),Gt}function On(Ut,ln){var Gt="";if(Ut&&(Gt=Rr.call(Ut)),Ut&&(Gt==="[object ArrayBuffer]"||Ut.buffer&&Rr.call(Ut.buffer)==="[object ArrayBuffer]")){var kn,Mn=Tn;Ut instanceof ArrayBuffer?(kn=Ut,Mn+=Fn):(kn=Ut.buffer,Gt==="[object Int8Array]"?Mn+=An:Gt==="[object Uint8Array]"?Mn+=hn:Gt==="[object Uint8ClampedArray]"?Mn+=pn:Gt==="[object Int16Array]"?Mn+=jn:Gt==="[object Uint16Array]"?Mn+=Xn:Gt==="[object Int32Array]"?Mn+=Gn:Gt==="[object Uint32Array]"?Mn+=mr:Gt==="[object Float32Array]"?Mn+=Sr:Gt==="[object Float64Array]"?Mn+=br:ln(new Error("Failed to get type for BinaryArray"))),ln(Mn+Nr(kn))}else if(Gt==="[object Blob]"){var wn=new FileReader;wn.onload=function(){var Yn=bn+Ut.type+"~"+Nr(this.result);ln(Tn+qn+Yn)},wn.readAsArrayBuffer(Ut)}else try{ln(JSON.stringify(Ut))}catch(Yn){console.error("Couldn't convert value into a JSON string: ",Ut),ln(null,Yn)}}function mn(Ut){if(Ut.substring(0,In)!==Tn)return JSON.parse(Ut);var ln=Ut.substring(kr),Gt=Ut.substring(In,kr),kn;if(Gt===qn&&En.test(ln)){var Mn=ln.match(En);kn=Mn[1],ln=ln.substring(Mn[0].length)}var wn=xr(ln);switch(Gt){case Fn:return wn;case qn:return at([wn],{type:kn});case An:return new Int8Array(wn);case hn:return new Uint8Array(wn);case pn:return new Uint8ClampedArray(wn);case jn:return new Int16Array(wn);case Xn:return new Uint16Array(wn);case Gn:return new Int32Array(wn);case mr:return new Uint32Array(wn);case Sr:return new Float32Array(wn);case br:return new Float64Array(wn);default:throw new Error("Unkown type: "+Gt)}}var an={serialize:On,deserialize:mn,stringToBuffer:xr,bufferToString:Nr};function Un(Ut,ln,Gt,kn){Ut.executeSql("CREATE TABLE IF NOT EXISTS "+ln.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Gt,kn)}function Ln(Ut){var ln=this,Gt={db:null};if(Ut)for(var kn in Ut)Gt[kn]=typeof Ut[kn]!="string"?Ut[kn].toString():Ut[kn];var Mn=new mt(function(wn,Yn){try{Gt.db=openDatabase(Gt.name,String(Gt.version),Gt.description,Gt.size)}catch(ir){return Yn(ir)}Gt.db.transaction(function(ir){Un(ir,Gt,function(){ln._dbInfo=Gt,wn()},function(or,cr){Yn(cr)})},Yn)});return Gt.serializer=an,Mn}function ur(Ut,ln,Gt,kn,Mn,wn){Ut.executeSql(Gt,kn,Mn,function(Yn,ir){ir.code===ir.SYNTAX_ERR?Yn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ln.storeName],function(or,cr){cr.rows.length?wn(or,ir):Un(or,ln,function(){or.executeSql(Gt,kn,Mn,wn)},wn)},wn):wn(Yn,ir)},wn)}function ro(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=new mt(function(Mn,wn){Gt.ready().then(function(){var Yn=Gt._dbInfo;Yn.db.transaction(function(ir){ur(ir,Yn,"SELECT * FROM "+Yn.storeName+" WHERE key = ? LIMIT 1",[Ut],function(or,cr){var pr=cr.rows.length?cr.rows.item(0).value:null;pr&&(pr=Yn.serializer.deserialize(pr)),Mn(pr)},function(or,cr){wn(cr)})})}).catch(wn)});return ft(kn,ln),kn}function xn(Ut,ln){var Gt=this,kn=new mt(function(Mn,wn){Gt.ready().then(function(){var Yn=Gt._dbInfo;Yn.db.transaction(function(ir){ur(ir,Yn,"SELECT * FROM "+Yn.storeName,[],function(or,cr){for(var pr=cr.rows,$r=pr.length,eo=0;eo<$r;eo++){var mo=pr.item(eo),go=mo.value;if(go&&(go=Yn.serializer.deserialize(go)),go=Ut(go,mo.key,eo+1),go!==void 0){Mn(go);return}}Mn()},function(or,cr){wn(cr)})})}).catch(wn)});return ft(kn,ln),kn}function Qn(Ut,ln,Gt,kn){var Mn=this;Ut=vt(Ut);var wn=new mt(function(Yn,ir){Mn.ready().then(function(){ln===void 0&&(ln=null);var or=ln,cr=Mn._dbInfo;cr.serializer.serialize(ln,function(pr,$r){$r?ir($r):cr.db.transaction(function(eo){ur(eo,cr,"INSERT OR REPLACE INTO "+cr.storeName+" (key, value) VALUES (?, ?)",[Ut,pr],function(){Yn(or)},function(mo,go){ir(go)})},function(eo){if(eo.code===eo.QUOTA_ERR){if(kn>0){Yn(Qn.apply(Mn,[Ut,or,Gt,kn-1]));return}ir(eo)}})})}).catch(ir)});return ft(wn,Gt),wn}function vr(Ut,ln,Gt){return Qn.apply(this,[Ut,ln,Gt,1])}function Zn(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=new mt(function(Mn,wn){Gt.ready().then(function(){var Yn=Gt._dbInfo;Yn.db.transaction(function(ir){ur(ir,Yn,"DELETE FROM "+Yn.storeName+" WHERE key = ?",[Ut],function(){Mn()},function(or,cr){wn(cr)})})}).catch(wn)});return ft(kn,ln),kn}function fr(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){var wn=ln._dbInfo;wn.db.transaction(function(Yn){ur(Yn,wn,"DELETE FROM "+wn.storeName,[],function(){kn()},function(ir,or){Mn(or)})})}).catch(Mn)});return ft(Gt,Ut),Gt}function gr(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){var wn=ln._dbInfo;wn.db.transaction(function(Yn){ur(Yn,wn,"SELECT COUNT(key) as c FROM "+wn.storeName,[],function(ir,or){var cr=or.rows.item(0).c;kn(cr)},function(ir,or){Mn(or)})})}).catch(Mn)});return ft(Gt,Ut),Gt}function zr(Ut,ln){var Gt=this,kn=new mt(function(Mn,wn){Gt.ready().then(function(){var Yn=Gt._dbInfo;Yn.db.transaction(function(ir){ur(ir,Yn,"SELECT key FROM "+Yn.storeName+" WHERE id = ? LIMIT 1",[Ut+1],function(or,cr){var pr=cr.rows.length?cr.rows.item(0).key:null;Mn(pr)},function(or,cr){wn(cr)})})}).catch(wn)});return ft(kn,ln),kn}function Vn(Ut){var ln=this,Gt=new mt(function(kn,Mn){ln.ready().then(function(){var wn=ln._dbInfo;wn.db.transaction(function(Yn){ur(Yn,wn,"SELECT key FROM "+wn.storeName,[],function(ir,or){for(var cr=[],pr=0;pr<or.rows.length;pr++)cr.push(or.rows.item(pr).key);kn(cr)},function(ir,or){Mn(or)})})}).catch(Mn)});return ft(Gt,Ut),Gt}function Hr(Ut){return new mt(function(ln,Gt){Ut.transaction(function(kn){kn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Mn,wn){for(var Yn=[],ir=0;ir<wn.rows.length;ir++)Yn.push(wn.rows.item(ir).name);ln({db:Ut,storeNames:Yn})},function(Mn,wn){Gt(wn)})},function(kn){Gt(kn)})})}function hr(Ut,ln){ln=dt.apply(this,arguments);var Gt=this.config();Ut=typeof Ut!="function"&&Ut||{},Ut.name||(Ut.name=Ut.name||Gt.name,Ut.storeName=Ut.storeName||Gt.storeName);var kn=this,Mn;return Ut.name?Mn=new mt(function(wn){var Yn;Ut.name===Gt.name?Yn=kn._dbInfo.db:Yn=openDatabase(Ut.name,"","",0),Ut.storeName?wn({db:Yn,storeNames:[Ut.storeName]}):wn(Hr(Yn))}).then(function(wn){return new mt(function(Yn,ir){wn.db.transaction(function(or){function cr(mo){return new mt(function(go,To){or.executeSql("DROP TABLE IF EXISTS "+mo,[],function(){go()},function($o,Uo){To(Uo)})})}for(var pr=[],$r=0,eo=wn.storeNames.length;$r<eo;$r++)pr.push(cr(wn.storeNames[$r]));mt.all(pr).then(function(){Yn()}).catch(function(mo){ir(mo)})},function(or){ir(or)})})}):Mn=mt.reject("Invalid arguments"),ft(Mn,ln),Mn}var Qt={_driver:"webSQLStorage",_initStorage:Ln,_support:Xt(),iterate:xn,getItem:ro,setItem:vr,removeItem:Zn,clear:fr,length:gr,key:zr,keys:Vn,dropInstance:hr};function At(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ft(Ut,ln){var Gt=Ut.name+"/";return Ut.storeName!==ln.storeName&&(Gt+=Ut.storeName+"/"),Gt}function Yt(){var Ut="_localforage_support_test";try{return localStorage.setItem(Ut,!0),localStorage.removeItem(Ut),!1}catch{return!0}}function cn(){return!Yt()||localStorage.length>0}function vn(Ut){var ln=this,Gt={};if(Ut)for(var kn in Ut)Gt[kn]=Ut[kn];return Gt.keyPrefix=Ft(Ut,ln._defaultConfig),cn()?(ln._dbInfo=Gt,Gt.serializer=an,mt.resolve()):mt.reject()}function $n(Ut){var ln=this,Gt=ln.ready().then(function(){for(var kn=ln._dbInfo.keyPrefix,Mn=localStorage.length-1;Mn>=0;Mn--){var wn=localStorage.key(Mn);wn.indexOf(kn)===0&&localStorage.removeItem(wn)}});return ft(Gt,Ut),Gt}function zn(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=Gt.ready().then(function(){var Mn=Gt._dbInfo,wn=localStorage.getItem(Mn.keyPrefix+Ut);return wn&&(wn=Mn.serializer.deserialize(wn)),wn});return ft(kn,ln),kn}function nr(Ut,ln){var Gt=this,kn=Gt.ready().then(function(){for(var Mn=Gt._dbInfo,wn=Mn.keyPrefix,Yn=wn.length,ir=localStorage.length,or=1,cr=0;cr<ir;cr++){var pr=localStorage.key(cr);if(pr.indexOf(wn)===0){var $r=localStorage.getItem(pr);if($r&&($r=Mn.serializer.deserialize($r)),$r=Ut($r,pr.substring(Yn),or++),$r!==void 0)return $r}}});return ft(kn,ln),kn}function er(Ut,ln){var Gt=this,kn=Gt.ready().then(function(){var Mn=Gt._dbInfo,wn;try{wn=localStorage.key(Ut)}catch{wn=null}return wn&&(wn=wn.substring(Mn.keyPrefix.length)),wn});return ft(kn,ln),kn}function Ar(Ut){var ln=this,Gt=ln.ready().then(function(){for(var kn=ln._dbInfo,Mn=localStorage.length,wn=[],Yn=0;Yn<Mn;Yn++){var ir=localStorage.key(Yn);ir.indexOf(kn.keyPrefix)===0&&wn.push(ir.substring(kn.keyPrefix.length))}return wn});return ft(Gt,Ut),Gt}function ar(Ut){var ln=this,Gt=ln.keys().then(function(kn){return kn.length});return ft(Gt,Ut),Gt}function lr(Ut,ln){var Gt=this;Ut=vt(Ut);var kn=Gt.ready().then(function(){var Mn=Gt._dbInfo;localStorage.removeItem(Mn.keyPrefix+Ut)});return ft(kn,ln),kn}function Er(Ut,ln,Gt){var kn=this;Ut=vt(Ut);var Mn=kn.ready().then(function(){ln===void 0&&(ln=null);var wn=ln;return new mt(function(Yn,ir){var or=kn._dbInfo;or.serializer.serialize(ln,function(cr,pr){if(pr)ir(pr);else try{localStorage.setItem(or.keyPrefix+Ut,cr),Yn(wn)}catch($r){($r.name==="QuotaExceededError"||$r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ir($r),ir($r)}})})});return ft(Mn,Gt),Mn}function Ir(Ut,ln){if(ln=dt.apply(this,arguments),Ut=typeof Ut!="function"&&Ut||{},!Ut.name){var Gt=this.config();Ut.name=Ut.name||Gt.name,Ut.storeName=Ut.storeName||Gt.storeName}var kn=this,Mn;return Ut.name?Mn=new mt(function(wn){Ut.storeName?wn(Ft(Ut,kn._defaultConfig)):wn(Ut.name+"/")}).then(function(wn){for(var Yn=localStorage.length-1;Yn>=0;Yn--){var ir=localStorage.key(Yn);ir.indexOf(wn)===0&&localStorage.removeItem(ir)}}):Mn=mt.reject("Invalid arguments"),ft(Mn,ln),Mn}var Kr={_driver:"localStorageWrapper",_initStorage:vn,_support:At(),iterate:nr,getItem:zn,setItem:Er,removeItem:lr,clear:$n,length:ar,key:er,keys:Ar,dropInstance:Ir},Jr=function(ln,Gt){return ln===Gt||typeof ln=="number"&&typeof Gt=="number"&&isNaN(ln)&&isNaN(Gt)},wo=function(ln,Gt){for(var kn=ln.length,Mn=0;Mn<kn;){if(Jr(ln[Mn],Gt))return!0;Mn++}return!1},ao=Array.isArray||function(Ut){return Object.prototype.toString.call(Ut)==="[object Array]"},Po={},Lo={},Dn={INDEXEDDB:Kt,WEBSQL:Qt,LOCALSTORAGE:Kr},Bn=[Dn.INDEXEDDB._driver,Dn.WEBSQL._driver,Dn.LOCALSTORAGE._driver],dr=["dropInstance"],Fr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(dr),Wr={description:"",driver:Bn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function qr(Ut,ln){Ut[ln]=function(){var Gt=arguments;return Ut.ready().then(function(){return Ut[ln].apply(Ut,Gt)})}}function ho(){for(var Ut=1;Ut<arguments.length;Ut++){var ln=arguments[Ut];if(ln)for(var Gt in ln)ln.hasOwnProperty(Gt)&&(ao(ln[Gt])?arguments[0][Gt]=ln[Gt].slice():arguments[0][Gt]=ln[Gt])}return arguments[0]}var lo=function(){function Ut(ln){it(this,Ut);for(var Gt in Dn)if(Dn.hasOwnProperty(Gt)){var kn=Dn[Gt],Mn=kn._driver;this[Gt]=Mn,Po[Mn]||this.defineDriver(kn)}this._defaultConfig=ho({},Wr),this._config=ho({},this._defaultConfig,ln),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ut.prototype.config=function(Gt){if((typeof Gt>"u"?"undefined":rt(Gt))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var kn in Gt){if(kn==="storeName"&&(Gt[kn]=Gt[kn].replace(/\W/g,"_")),kn==="version"&&typeof Gt[kn]!="number")return new Error("Database version must be a number.");this._config[kn]=Gt[kn]}return"driver"in Gt&&Gt.driver?this.setDriver(this._config.driver):!0}else return typeof Gt=="string"?this._config[Gt]:this._config},Ut.prototype.defineDriver=function(Gt,kn,Mn){var wn=new mt(function(Yn,ir){try{var or=Gt._driver,cr=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Gt._driver){ir(cr);return}for(var pr=Fr.concat("_initStorage"),$r=0,eo=pr.length;$r<eo;$r++){var mo=pr[$r],go=!wo(dr,mo);if((go||Gt[mo])&&typeof Gt[mo]!="function"){ir(cr);return}}var To=function(){for(var is=function(Gs){return function(){var ls=new Error("Method "+Gs+" is not implemented by the current driver"),cs=mt.reject(ls);return ft(cs,arguments[arguments.length-1]),cs}},vs=0,Zo=dr.length;vs<Zo;vs++){var xs=dr[vs];Gt[xs]||(Gt[xs]=is(xs))}};To();var $o=function(is){Po[or]&&console.info("Redefining LocalForage driver: "+or),Po[or]=Gt,Lo[or]=is,Yn()};"_support"in Gt?Gt._support&&typeof Gt._support=="function"?Gt._support().then($o,ir):$o(!!Gt._support):$o(!0)}catch(Uo){ir(Uo)}});return gt(wn,kn,Mn),wn},Ut.prototype.driver=function(){return this._driver||null},Ut.prototype.getDriver=function(Gt,kn,Mn){var wn=Po[Gt]?mt.resolve(Po[Gt]):mt.reject(new Error("Driver not found."));return gt(wn,kn,Mn),wn},Ut.prototype.getSerializer=function(Gt){var kn=mt.resolve(an);return gt(kn,Gt),kn},Ut.prototype.ready=function(Gt){var kn=this,Mn=kn._driverSet.then(function(){return kn._ready===null&&(kn._ready=kn._initDriver()),kn._ready});return gt(Mn,Gt,Gt),Mn},Ut.prototype.setDriver=function(Gt,kn,Mn){var wn=this;ao(Gt)||(Gt=[Gt]);var Yn=this._getSupportedDrivers(Gt);function ir(){wn._config.driver=wn.driver()}function or($r){return wn._extend($r),ir(),wn._ready=wn._initStorage(wn._config),wn._ready}function cr($r){return function(){var eo=0;function mo(){for(;eo<$r.length;){var go=$r[eo];return eo++,wn._dbInfo=null,wn._ready=null,wn.getDriver(go).then(or).catch(mo)}ir();var To=new Error("No available storage method found.");return wn._driverSet=mt.reject(To),wn._driverSet}return mo()}}var pr=this._driverSet!==null?this._driverSet.catch(function(){return mt.resolve()}):mt.resolve();return this._driverSet=pr.then(function(){var $r=Yn[0];return wn._dbInfo=null,wn._ready=null,wn.getDriver($r).then(function(eo){wn._driver=eo._driver,ir(),wn._wrapLibraryMethodsWithReady(),wn._initDriver=cr(Yn)})}).catch(function(){ir();var $r=new Error("No available storage method found.");return wn._driverSet=mt.reject($r),wn._driverSet}),gt(this._driverSet,kn,Mn),this._driverSet},Ut.prototype.supports=function(Gt){return!!Lo[Gt]},Ut.prototype._extend=function(Gt){ho(this,Gt)},Ut.prototype._getSupportedDrivers=function(Gt){for(var kn=[],Mn=0,wn=Gt.length;Mn<wn;Mn++){var Yn=Gt[Mn];this.supports(Yn)&&kn.push(Yn)}return kn},Ut.prototype._wrapLibraryMethodsWithReady=function(){for(var Gt=0,kn=Fr.length;Gt<kn;Gt++)qr(this,Fr[Gt])},Ut.prototype.createInstance=function(Gt){return new Ut(Gt)},Ut}(),yo=new lo;tt.exports=yo},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports;const localForage=getDefaultExportFromCjs(localforageExports),Gather=({onNavigate:$})=>{const _e="両チームの選手はベンチ前にお集まりください。",et=reactExports.useRef(null);reactExports.useEffect(()=>()=>nt(),[]);const tt=()=>{nt();const rt=new SpeechSynthesisUtterance(_e);rt.lang="ja-JP",speechSynthesis.speak(rt),et.current=rt},nt=()=>{speechSynthesis.cancel(),et.current=null};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center p-6 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"集合アナウンス"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2 mt-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," グランド整備終了後、選手がベンチ前に待機していない場合のみ  ※先攻チーム🎤"]})}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"Mic",className:"w-10 h-10 mr-4"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 font-semibold text-lg",children:_e})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:tt,className:"bg-blue-500 text-white px-6 py-2 rounded shadow",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"bg-red-500 text-white px-6 py-2 rounded shadow",children:"停止"})]})]})},StartGreeting=({onNavigate:$,onBack:_e})=>{const[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(""),[it,ot]=reactExports.useState(""),[st,lt]=reactExports.useState(""),[at,mt]=reactExports.useState(""),[ft,gt]=reactExports.useState("1塁側");reactExports.useEffect(()=>{(async()=>{const yt=await localForage.getItem("team"),ht=await localForage.getItem("matchInfo");yt&&lt(yt.name||""),ht&&(rt(ht.tournamentName||""),ot(ht.matchNumber||"〇"),mt(ht.opponentTeam||""),gt(ht.benchSide||"1塁側"))})()},[]);const pt=`お待たせいたしました。${nt} 
本日の第${it}試合、
一塁側：${ft==="1塁側"?st:at}　対　三塁側：${ft==="3塁側"?st:at} の試合、
まもなく開始でございます。`,ut=()=>{const xt=new SpeechSynthesisUtterance(pt);xt.lang="ja-JP",xt.onstart=()=>tt(!0),xt.onend=()=>tt(!1),xt.onerror=()=>tt(!1),speechSynthesis.cancel(),speechSynthesis.speak(xt)},ct=()=>{speechSynthesis.cancel(),tt(!1)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white p-6 flex flex-col items-center space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"試合開始挨拶"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," 後攻チームが守備につくタイミング  ※先攻チーム🎤"]})}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"Mic",className:"w-10 h-10"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 font-semibold whitespace-pre-wrap text-sm",children:pt})]}),jsxRuntimeExports.jsxs("div",{className:"space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:ut,className:`px-6 py-2 rounded text-white ${et?"bg-green-600":"bg-blue-600"} hover:bg-blue-700`,children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:ct,className:"px-6 py-2 rounded bg-red-600 text-white hover:bg-red-700",disabled:!et,children:"停止"})]})]})},SeatIntroduction=({onNavigate:$})=>{const[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState({}),[rt,it]=reactExports.useState(!0),ot=reactExports.useRef(null),st=[["投","ピッチャー"],["捕","キャッチャー"],["一","ファースト"],["二","セカンド"],["三","サード"],["遊","ショート"],["左","レフト"],["中","センター"],["右","ライト"]],lt=rt?"1回の表":"1回の裏";reactExports.useEffect(()=>{(async()=>{const vt=await localForage.getItem("team"),dt=await localForage.getItem("lineupAssignments"),pt=await localForage.getItem("matchInfo");if(vt&&et(vt.name||""),pt&&it(pt.isHome??!0),dt&&(vt!=null&&vt.players)){const ut={};Object.entries(dt).forEach(([ct,xt])=>{const yt=vt.players.find(ht=>ht.id===xt);yt&&(ut[ct]={lastName:yt.lastName,lastNameKana:yt.lastNameKana,honorific:yt.isFemale?"さん":"くん"})}),nt(ut)}})()},[]);const at=()=>{mt();const gt=[`${lt} 守ります、${_e} のシートをお知らせします。`,...st.map(([dt,pt])=>{const ut=tt[dt];return`${pt} ${(ut==null?void 0:ut.lastNameKana)||"（みょうじ）"} ${(ut==null?void 0:ut.honorific)||"くん"}`})].join("、")+"です。",vt=new SpeechSynthesisUtterance(gt);vt.lang="ja-JP",speechSynthesis.speak(vt),ot.current=vt},mt=()=>{speechSynthesis.cancel(),ot.current=null},ft=`${lt}　守ります　${_e} のシートをお知らせします。

`+st.map(([gt,vt])=>{const dt=tt[gt],pt=dt!=null&&dt.lastName?`<ruby>${dt.lastName}<rt>${dt.lastNameKana||""}</rt></ruby>`:"（苗字）";return`${vt}　${pt}　${(dt==null?void 0:dt.honorific)||"くん"}`}).join("<br />")+"です。";return _e?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center p-6 space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"シート紹介"}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-10 h-10"}),jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 text-sm font-semibold text-left rounded border-l-4 border-yellow-500",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," ピッチャーが練習球を1球投げてから"]})]}),jsxRuntimeExports.jsx("div",{className:"text-red-600 font-semibold text-base whitespace-pre-line",dangerouslySetInnerHTML:{__html:ft}})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:at,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded shadow",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:mt,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded shadow",children:"停止"})]})]}):jsxRuntimeExports.jsx("div",{className:"text-center mt-10 text-gray-500",children:"読み込み中..."})},DndContext=reactExports.createContext({dragDropManager:void 0});function formatProdErrorMessage($){return"Minified Redux error #"+$+"; visit https://redux.js.org/Errors?code="+$+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject($){if(typeof $!="object"||$===null)return!1;for(var _e=$;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return Object.getPrototypeOf($)===_e}function createStore($,_e,et){var tt;if(typeof _e=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof _e=="function"&&typeof et>"u"&&(et=_e,_e=void 0),typeof et<"u"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)($,_e)}if(typeof $!="function")throw new Error(formatProdErrorMessage(2));var nt=$,rt=_e,it=[],ot=it,st=!1;function lt(){ot===it&&(ot=it.slice())}function at(){if(st)throw new Error(formatProdErrorMessage(3));return rt}function mt(dt){if(typeof dt!="function")throw new Error(formatProdErrorMessage(4));if(st)throw new Error(formatProdErrorMessage(5));var pt=!0;return lt(),ot.push(dt),function(){if(pt){if(st)throw new Error(formatProdErrorMessage(6));pt=!1,lt();var ct=ot.indexOf(dt);ot.splice(ct,1),it=null}}}function ft(dt){if(!isPlainObject(dt))throw new Error(formatProdErrorMessage(7));if(typeof dt.type>"u")throw new Error(formatProdErrorMessage(8));if(st)throw new Error(formatProdErrorMessage(9));try{st=!0,rt=nt(rt,dt)}finally{st=!1}for(var pt=it=ot,ut=0;ut<pt.length;ut++){var ct=pt[ut];ct()}return dt}function gt(dt){if(typeof dt!="function")throw new Error(formatProdErrorMessage(10));nt=dt,ft({type:ActionTypes.REPLACE})}function vt(){var dt,pt=mt;return dt={subscribe:function(ct){if(typeof ct!="object"||ct===null)throw new Error(formatProdErrorMessage(11));function xt(){ct.next&&ct.next(at())}xt();var yt=pt(xt);return{unsubscribe:yt}}},dt[$$observable]=function(){return this},dt}return ft({type:ActionTypes.INIT}),tt={dispatch:ft,subscribe:mt,getState:at,replaceReducer:gt},tt[$$observable]=vt,tt}function invariant($,_e,...et){if(isProduction()&&_e===void 0)throw new Error("invariant requires an error message argument");if(!$){let tt;if(_e===void 0)tt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let nt=0;tt=new Error(_e.replace(/%s/g,function(){return et[nt++]})),tt.name="Invariant Violation"}throw tt.framesToPop=1,tt}}function isProduction(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function get($,_e,et){return _e.split(".").reduce((tt,nt)=>tt&&tt[nt]?tt[nt]:et||null,$)}function without$1($,_e){return $.filter(et=>et!==_e)}function isObject($){return typeof $=="object"}function xor($,_e){const et=new Map,tt=rt=>{et.set(rt,et.has(rt)?et.get(rt)+1:1)};$.forEach(tt),_e.forEach(tt);const nt=[];return et.forEach((rt,it)=>{rt===1&&nt.push(it)}),nt}function intersection($,_e){return $.filter(et=>_e.indexOf(et)>-1)}const INIT_COORDS="dnd-core/INIT_COORDS",BEGIN_DRAG="dnd-core/BEGIN_DRAG",PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",HOVER="dnd-core/HOVER",DROP="dnd-core/DROP",END_DRAG="dnd-core/END_DRAG";function setClientOffset($,_e){return{type:INIT_COORDS,payload:{sourceClientOffset:_e||null,clientOffset:$||null}}}const ResetCoordinatesAction={type:INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};function createBeginDrag($){return function(et=[],tt={publishSource:!0}){const{publishSource:nt=!0,clientOffset:rt,getSourceClientOffset:it}=tt,ot=$.getMonitor(),st=$.getRegistry();$.dispatch(setClientOffset(rt)),verifyInvariants$1(et,ot,st);const lt=getDraggableSource(et,ot);if(lt==null){$.dispatch(ResetCoordinatesAction);return}let at=null;if(rt){if(!it)throw new Error("getSourceClientOffset must be defined");verifyGetSourceClientOffsetIsFunction(it),at=it(lt)}$.dispatch(setClientOffset(rt,at));const ft=st.getSource(lt).beginDrag(ot,lt);if(ft==null)return;verifyItemIsObject(ft),st.pinSource(lt);const gt=st.getSourceType(lt);return{type:BEGIN_DRAG,payload:{itemType:gt,item:ft,sourceId:lt,clientOffset:rt||null,sourceClientOffset:at||null,isSourcePublic:!!nt}}}}function verifyInvariants$1($,_e,et){invariant(!_e.isDragging(),"Cannot call beginDrag while dragging."),$.forEach(function(tt){invariant(et.getSource(tt),"Expected sourceIds to be registered.")})}function verifyGetSourceClientOffsetIsFunction($){invariant(typeof $=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function verifyItemIsObject($){invariant(isObject($),"Item must be an object.")}function getDraggableSource($,_e){let et=null;for(let tt=$.length-1;tt>=0;tt--)if(_e.canDragSource($[tt])){et=$[tt];break}return et}function _defineProperty$4($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _objectSpread$4($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable}))),tt.forEach(function(nt){_defineProperty$4($,nt,et[nt])})}return $}function createDrop($){return function(et={}){const tt=$.getMonitor(),nt=$.getRegistry();verifyInvariants(tt),getDroppableTargets(tt).forEach((it,ot)=>{const st=determineDropResult(it,ot,nt,tt),lt={type:DROP,payload:{dropResult:_objectSpread$4({},et,st)}};$.dispatch(lt)})}}function verifyInvariants($){invariant($.isDragging(),"Cannot call drop while not dragging."),invariant(!$.didDrop(),"Cannot call drop twice during one drag operation.")}function determineDropResult($,_e,et,tt){const nt=et.getTarget($);let rt=nt?nt.drop(tt,$):void 0;return verifyDropResultType(rt),typeof rt>"u"&&(rt=_e===0?{}:tt.getDropResult()),rt}function verifyDropResultType($){invariant(typeof $>"u"||isObject($),"Drop result must either be an object or undefined.")}function getDroppableTargets($){const _e=$.getTargetIds().filter($.canDropOnTarget,$);return _e.reverse(),_e}function createEndDrag($){return function(){const et=$.getMonitor(),tt=$.getRegistry();verifyIsDragging(et);const nt=et.getSourceId();return nt!=null&&(tt.getSource(nt,!0).endDrag(et,nt),tt.unpinSource()),{type:END_DRAG}}}function verifyIsDragging($){invariant($.isDragging(),"Cannot call endDrag while not dragging.")}function matchesType($,_e){return _e===null?$===null:Array.isArray($)?$.some(et=>et===_e):$===_e}function createHover($){return function(et,{clientOffset:tt}={}){verifyTargetIdsIsArray(et);const nt=et.slice(0),rt=$.getMonitor(),it=$.getRegistry(),ot=rt.getItemType();return removeNonMatchingTargetIds(nt,it,ot),checkInvariants(nt,rt,it),hoverAllTargets(nt,rt,it),{type:HOVER,payload:{targetIds:nt,clientOffset:tt||null}}}}function verifyTargetIdsIsArray($){invariant(Array.isArray($),"Expected targetIds to be an array.")}function checkInvariants($,_e,et){invariant(_e.isDragging(),"Cannot call hover while not dragging."),invariant(!_e.didDrop(),"Cannot call hover after drop.");for(let tt=0;tt<$.length;tt++){const nt=$[tt];invariant($.lastIndexOf(nt)===tt,"Expected targetIds to be unique in the passed array.");const rt=et.getTarget(nt);invariant(rt,"Expected targetIds to be registered.")}}function removeNonMatchingTargetIds($,_e,et){for(let tt=$.length-1;tt>=0;tt--){const nt=$[tt],rt=_e.getTargetType(nt);matchesType(rt,et)||$.splice(tt,1)}}function hoverAllTargets($,_e,et){$.forEach(function(tt){et.getTarget(tt).hover(_e,tt)})}function createPublishDragSource($){return function(){if($.getMonitor().isDragging())return{type:PUBLISH_DRAG_SOURCE}}}function createDragDropActions($){return{beginDrag:createBeginDrag($),publishDragSource:createPublishDragSource($),hover:createHover($),drop:createDrop($),endDrag:createEndDrag($)}}class DragDropManagerImpl{receiveBackend(_e){this.backend=_e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const _e=this,{dispatch:et}=this.store;function tt(rt){return(...it)=>{const ot=rt.apply(_e,it);typeof ot<"u"&&et(ot)}}const nt=createDragDropActions(this);return Object.keys(nt).reduce((rt,it)=>{const ot=nt[it];return rt[it]=tt(ot),rt},{})}dispatch(_e){this.store.dispatch(_e)}constructor(_e,et){this.isSetUp=!1,this.handleRefCountChange=()=>{const tt=this.store.getState().refCount>0;this.backend&&(tt&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!tt&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=_e,this.monitor=et,_e.subscribe(this.handleRefCountChange)}}function add($,_e){return{x:$.x+_e.x,y:$.y+_e.y}}function subtract($,_e){return{x:$.x-_e.x,y:$.y-_e.y}}function getSourceClientOffset($){const{clientOffset:_e,initialClientOffset:et,initialSourceClientOffset:tt}=$;return!_e||!et||!tt?null:subtract(add(_e,tt),et)}function getDifferenceFromInitialOffset($){const{clientOffset:_e,initialClientOffset:et}=$;return!_e||!et?null:subtract(_e,et)}const NONE=[],ALL=[];NONE.__IS_NONE__=!0;ALL.__IS_ALL__=!0;function areDirty($,_e){return $===NONE?!1:$===ALL||typeof _e>"u"?!0:intersection(_e,$).length>0}class DragDropMonitorImpl{subscribeToStateChange(_e,et={}){const{handlerIds:tt}=et;invariant(typeof _e=="function","listener must be a function."),invariant(typeof tt>"u"||Array.isArray(tt),"handlerIds, when specified, must be an array of strings.");let nt=this.store.getState().stateId;const rt=()=>{const it=this.store.getState(),ot=it.stateId;try{ot===nt||ot===nt+1&&!areDirty(it.dirtyHandlerIds,tt)||_e()}finally{nt=ot}};return this.store.subscribe(rt)}subscribeToOffsetChange(_e){invariant(typeof _e=="function","listener must be a function.");let et=this.store.getState().dragOffset;const tt=()=>{const nt=this.store.getState().dragOffset;nt!==et&&(et=nt,_e())};return this.store.subscribe(tt)}canDragSource(_e){if(!_e)return!1;const et=this.registry.getSource(_e);return invariant(et,`Expected to find a valid source. sourceId=${_e}`),this.isDragging()?!1:et.canDrag(this,_e)}canDropOnTarget(_e){if(!_e)return!1;const et=this.registry.getTarget(_e);if(invariant(et,`Expected to find a valid target. targetId=${_e}`),!this.isDragging()||this.didDrop())return!1;const tt=this.registry.getTargetType(_e),nt=this.getItemType();return matchesType(tt,nt)&&et.canDrop(this,_e)}isDragging(){return!!this.getItemType()}isDraggingSource(_e){if(!_e)return!1;const et=this.registry.getSource(_e,!0);if(invariant(et,`Expected to find a valid source. sourceId=${_e}`),!this.isDragging()||!this.isSourcePublic())return!1;const tt=this.registry.getSourceType(_e),nt=this.getItemType();return tt!==nt?!1:et.isDragging(this,_e)}isOverTarget(_e,et={shallow:!1}){if(!_e)return!1;const{shallow:tt}=et;if(!this.isDragging())return!1;const nt=this.registry.getTargetType(_e),rt=this.getItemType();if(rt&&!matchesType(nt,rt))return!1;const it=this.getTargetIds();if(!it.length)return!1;const ot=it.indexOf(_e);return tt?ot===it.length-1:ot>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return getSourceClientOffset(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return getDifferenceFromInitialOffset(this.store.getState().dragOffset)}constructor(_e,et){this.store=_e,this.registry=et}}const scope=typeof global<"u"?global:self,BrowserMutationObserver=scope.MutationObserver||scope.WebKitMutationObserver;function makeRequestCallFromTimer($){return function(){const et=setTimeout(nt,0),tt=setInterval(nt,50);function nt(){clearTimeout(et),clearInterval(tt),$()}}}function makeRequestCallFromMutationObserver($){let _e=1;const et=new BrowserMutationObserver($),tt=document.createTextNode("");return et.observe(tt,{characterData:!0}),function(){_e=-_e,tt.data=_e}}const makeRequestCall=typeof BrowserMutationObserver=="function"?makeRequestCallFromMutationObserver:makeRequestCallFromTimer;class AsapQueue{enqueueTask(_e){const{queue:et,requestFlush:tt}=this;et.length||(tt(),this.flushing=!0),et[et.length]=_e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:_e}=this;for(;this.index<_e.length;){const et=this.index;if(this.index++,_e[et].call(),this.index>this.capacity){for(let tt=0,nt=_e.length-this.index;tt<nt;tt++)_e[tt]=_e[tt+this.index];_e.length-=this.index,this.index=0}}_e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=_e=>{this.pendingErrors.push(_e),this.requestErrorThrow()},this.requestFlush=makeRequestCall(this.flush),this.requestErrorThrow=makeRequestCallFromTimer(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class RawTask{call(){try{this.task&&this.task()}catch(_e){this.onError(_e)}finally{this.task=null,this.release(this)}}constructor(_e,et){this.onError=_e,this.release=et,this.task=null}}class TaskFactory{create(_e){const et=this.freeTasks,tt=et.length?et.pop():new RawTask(this.onError,nt=>et[et.length]=nt);return tt.task=_e,tt}constructor(_e){this.onError=_e,this.freeTasks=[]}}const asapQueue=new AsapQueue,taskFactory=new TaskFactory(asapQueue.registerPendingError);function asap($){asapQueue.enqueueTask(taskFactory.create($))}const ADD_SOURCE="dnd-core/ADD_SOURCE",ADD_TARGET="dnd-core/ADD_TARGET",REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",REMOVE_TARGET="dnd-core/REMOVE_TARGET";function addSource($){return{type:ADD_SOURCE,payload:{sourceId:$}}}function addTarget($){return{type:ADD_TARGET,payload:{targetId:$}}}function removeSource($){return{type:REMOVE_SOURCE,payload:{sourceId:$}}}function removeTarget($){return{type:REMOVE_TARGET,payload:{targetId:$}}}function validateSourceContract($){invariant(typeof $.canDrag=="function","Expected canDrag to be a function."),invariant(typeof $.beginDrag=="function","Expected beginDrag to be a function."),invariant(typeof $.endDrag=="function","Expected endDrag to be a function.")}function validateTargetContract($){invariant(typeof $.canDrop=="function","Expected canDrop to be a function."),invariant(typeof $.hover=="function","Expected hover to be a function."),invariant(typeof $.drop=="function","Expected beginDrag to be a function.")}function validateType($,_e){if(_e&&Array.isArray($)){$.forEach(et=>validateType(et,!1));return}invariant(typeof $=="string"||typeof $=="symbol",_e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var HandlerRole;(function($){$.SOURCE="SOURCE",$.TARGET="TARGET"})(HandlerRole||(HandlerRole={}));let nextUniqueId=0;function getNextUniqueId(){return nextUniqueId++}function getNextHandlerId($){const _e=getNextUniqueId().toString();switch($){case HandlerRole.SOURCE:return`S${_e}`;case HandlerRole.TARGET:return`T${_e}`;default:throw new Error(`Unknown Handler Role: ${$}`)}}function parseRoleFromHandlerId($){switch($[0]){case"S":return HandlerRole.SOURCE;case"T":return HandlerRole.TARGET;default:throw new Error(`Cannot parse handler ID: ${$}`)}}function mapContainsValue($,_e){const et=$.entries();let tt=!1;do{const{done:nt,value:[,rt]}=et.next();if(rt===_e)return!0;tt=!!nt}while(!tt);return!1}class HandlerRegistryImpl{addSource(_e,et){validateType(_e),validateSourceContract(et);const tt=this.addHandler(HandlerRole.SOURCE,_e,et);return this.store.dispatch(addSource(tt)),tt}addTarget(_e,et){validateType(_e,!0),validateTargetContract(et);const tt=this.addHandler(HandlerRole.TARGET,_e,et);return this.store.dispatch(addTarget(tt)),tt}containsHandler(_e){return mapContainsValue(this.dragSources,_e)||mapContainsValue(this.dropTargets,_e)}getSource(_e,et=!1){return invariant(this.isSourceId(_e),"Expected a valid source ID."),et&&_e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(_e)}getTarget(_e){return invariant(this.isTargetId(_e),"Expected a valid target ID."),this.dropTargets.get(_e)}getSourceType(_e){return invariant(this.isSourceId(_e),"Expected a valid source ID."),this.types.get(_e)}getTargetType(_e){return invariant(this.isTargetId(_e),"Expected a valid target ID."),this.types.get(_e)}isSourceId(_e){return parseRoleFromHandlerId(_e)===HandlerRole.SOURCE}isTargetId(_e){return parseRoleFromHandlerId(_e)===HandlerRole.TARGET}removeSource(_e){invariant(this.getSource(_e),"Expected an existing source."),this.store.dispatch(removeSource(_e)),asap(()=>{this.dragSources.delete(_e),this.types.delete(_e)})}removeTarget(_e){invariant(this.getTarget(_e),"Expected an existing target."),this.store.dispatch(removeTarget(_e)),this.dropTargets.delete(_e),this.types.delete(_e)}pinSource(_e){const et=this.getSource(_e);invariant(et,"Expected an existing source."),this.pinnedSourceId=_e,this.pinnedSource=et}unpinSource(){invariant(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(_e,et,tt){const nt=getNextHandlerId(_e);return this.types.set(nt,et),_e===HandlerRole.SOURCE?this.dragSources.set(nt,tt):_e===HandlerRole.TARGET&&this.dropTargets.set(nt,tt),nt}constructor(_e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=_e}}const strictEquality=($,_e)=>$===_e;function areCoordsEqual($,_e){return!$&&!_e?!0:!$||!_e?!1:$.x===_e.x&&$.y===_e.y}function areArraysEqual($,_e,et=strictEquality){if($.length!==_e.length)return!1;for(let tt=0;tt<$.length;++tt)if(!et($[tt],_e[tt]))return!1;return!0}function reduce$5($=NONE,_e){switch(_e.type){case HOVER:break;case ADD_SOURCE:case ADD_TARGET:case REMOVE_TARGET:case REMOVE_SOURCE:return NONE;case BEGIN_DRAG:case PUBLISH_DRAG_SOURCE:case END_DRAG:case DROP:default:return ALL}const{targetIds:et=[],prevTargetIds:tt=[]}=_e.payload,nt=xor(et,tt);if(!(nt.length>0||!areArraysEqual(et,tt)))return NONE;const it=tt[tt.length-1],ot=et[et.length-1];return it!==ot&&(it&&nt.push(it),ot&&nt.push(ot)),nt}function _defineProperty$3($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _objectSpread$3($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable}))),tt.forEach(function(nt){_defineProperty$3($,nt,et[nt])})}return $}const initialState$1={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function reduce$4($=initialState$1,_e){const{payload:et}=_e;switch(_e.type){case INIT_COORDS:case BEGIN_DRAG:return{initialSourceClientOffset:et.sourceClientOffset,initialClientOffset:et.clientOffset,clientOffset:et.clientOffset};case HOVER:return areCoordsEqual($.clientOffset,et.clientOffset)?$:_objectSpread$3({},$,{clientOffset:et.clientOffset});case END_DRAG:case DROP:return initialState$1;default:return $}}function _defineProperty$2($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _objectSpread$2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable}))),tt.forEach(function(nt){_defineProperty$2($,nt,et[nt])})}return $}const initialState={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function reduce$3($=initialState,_e){const{payload:et}=_e;switch(_e.type){case BEGIN_DRAG:return _objectSpread$2({},$,{itemType:et.itemType,item:et.item,sourceId:et.sourceId,isSourcePublic:et.isSourcePublic,dropResult:null,didDrop:!1});case PUBLISH_DRAG_SOURCE:return _objectSpread$2({},$,{isSourcePublic:!0});case HOVER:return _objectSpread$2({},$,{targetIds:et.targetIds});case REMOVE_TARGET:return $.targetIds.indexOf(et.targetId)===-1?$:_objectSpread$2({},$,{targetIds:without$1($.targetIds,et.targetId)});case DROP:return _objectSpread$2({},$,{dropResult:et.dropResult,didDrop:!0,targetIds:[]});case END_DRAG:return _objectSpread$2({},$,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return $}}function reduce$2($=0,_e){switch(_e.type){case ADD_SOURCE:case ADD_TARGET:return $+1;case REMOVE_SOURCE:case REMOVE_TARGET:return $-1;default:return $}}function reduce$1($=0){return $+1}function _defineProperty$1($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _objectSpread$1($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable}))),tt.forEach(function(nt){_defineProperty$1($,nt,et[nt])})}return $}function reduce($={},_e){return{dirtyHandlerIds:reduce$5($.dirtyHandlerIds,{type:_e.type,payload:_objectSpread$1({},_e.payload,{prevTargetIds:get($,"dragOperation.targetIds",[])})}),dragOffset:reduce$4($.dragOffset,_e),refCount:reduce$2($.refCount,_e),dragOperation:reduce$3($.dragOperation,_e),stateId:reduce$1($.stateId)}}function createDragDropManager($,_e=void 0,et={},tt=!1){const nt=makeStoreInstance(tt),rt=new DragDropMonitorImpl(nt,new HandlerRegistryImpl(nt)),it=new DragDropManagerImpl(nt,rt),ot=$(it,_e,et);return it.receiveBackend(ot),it}function makeStoreInstance($){const _e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return createStore(reduce,$&&_e&&_e({name:"dnd-core",instanceId:"dnd-core"}))}function _objectWithoutProperties($,_e){if($==null)return{};var et=_objectWithoutPropertiesLoose($,_e),tt,nt;if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);for(nt=0;nt<rt.length;nt++)tt=rt[nt],!(_e.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call($,tt)&&(et[tt]=$[tt])}return et}function _objectWithoutPropertiesLoose($,_e){if($==null)return{};var et={},tt=Object.keys($),nt,rt;for(rt=0;rt<tt.length;rt++)nt=tt[rt],!(_e.indexOf(nt)>=0)&&(et[nt]=$[nt]);return et}let refCount=0;const INSTANCE_SYM=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var DndProvider=reactExports.memo(function(_e){var{children:et}=_e,tt=_objectWithoutProperties(_e,["children"]);const[nt,rt]=getDndContextValue(tt);return reactExports.useEffect(()=>{if(rt){const it=getGlobalContext();return++refCount,()=>{--refCount===0&&(it[INSTANCE_SYM]=null)}}},[]),jsxRuntimeExports.jsx(DndContext.Provider,{value:nt,children:et})});function getDndContextValue($){if("manager"in $)return[{dragDropManager:$.manager},!1];const _e=createSingletonDndContext($.backend,$.context,$.options,$.debugMode),et=!$.context;return[_e,et]}function createSingletonDndContext($,_e=getGlobalContext(),et,tt){const nt=_e;return nt[INSTANCE_SYM]||(nt[INSTANCE_SYM]={dragDropManager:createDragDropManager($,_e,et,tt)}),nt[INSTANCE_SYM]}function getGlobalContext(){return typeof global<"u"?global:window}var ListenerType;(function($){$.mouse="mouse",$.touch="touch",$.keyboard="keyboard"})(ListenerType||(ListenerType={}));let OptionsReader$1=class{get delay(){var _e;return(_e=this.args.delay)!==null&&_e!==void 0?_e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var _e;return(_e=this.args.ignoreContextMenu)!==null&&_e!==void 0?_e:!1}get enableHoverOutsideTarget(){var _e;return(_e=this.args.enableHoverOutsideTarget)!==null&&_e!==void 0?_e:!1}get enableKeyboardEvents(){var _e;return(_e=this.args.enableKeyboardEvents)!==null&&_e!==void 0?_e:!1}get enableMouseEvents(){var _e;return(_e=this.args.enableMouseEvents)!==null&&_e!==void 0?_e:!1}get enableTouchEvents(){var _e;return(_e=this.args.enableTouchEvents)!==null&&_e!==void 0?_e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var _e,et,tt,nt;return(nt=(tt=(_e=this.args)===null||_e===void 0?void 0:_e.delayTouchStart)!==null&&tt!==void 0?tt:(et=this.args)===null||et===void 0?void 0:et.delay)!==null&&nt!==void 0?nt:0}get delayMouseStart(){var _e,et,tt,nt;return(nt=(tt=(_e=this.args)===null||_e===void 0?void 0:_e.delayMouseStart)!==null&&tt!==void 0?tt:(et=this.args)===null||et===void 0?void 0:et.delay)!==null&&nt!==void 0?nt:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var _e;if(!((_e=this.context)===null||_e===void 0)&&_e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var _e;return((_e=this.args)===null||_e===void 0?void 0:_e.rootElement)||this.document}constructor(_e,et){this.args=_e,this.context=et}};function distance($,_e,et,tt){return Math.sqrt(Math.pow(Math.abs(et-$),2)+Math.pow(Math.abs(tt-_e),2))}function inAngleRanges($,_e,et,tt,nt){if(!nt)return!1;const rt=Math.atan2(tt-_e,et-$)*180/Math.PI+180;for(let it=0;it<nt.length;++it){const ot=nt[it];if(ot&&(ot.start==null||rt>=ot.start)&&(ot.end==null||rt<=ot.end))return!0}return!1}const MouseButtons={Left:1,Right:2,Center:4},MouseButton={Left:0,Center:1,Right:2};function eventShouldStartDrag($){return $.button===void 0||$.button===MouseButton.Left}function eventShouldEndDrag($){return $.buttons===void 0||($.buttons&MouseButtons.Left)===0}function isTouchEvent($){return!!$.targetTouches}const ELEMENT_NODE$1=1;function getNodeClientOffset$1($){const _e=$.nodeType===ELEMENT_NODE$1?$:$.parentElement;if(!_e)return;const{top:et,left:tt}=_e.getBoundingClientRect();return{x:tt,y:et}}function getEventClientTouchOffset($,_e){if($.targetTouches.length===1)return getEventClientOffset$1($.targetTouches[0]);if(_e&&$.touches.length===1&&$.touches[0].target===_e.target)return getEventClientOffset$1($.touches[0])}function getEventClientOffset$1($,_e){return isTouchEvent($)?getEventClientTouchOffset($,_e):{x:$.clientX,y:$.clientY}}const supportsPassive=(()=>{let $=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return $=!0,!0}}))}catch{}return $})(),eventNames={[ListenerType.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[ListenerType.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[ListenerType.keyboard]:{keydown:"keydown"}};class TouchBackendImpl{profile(){var _e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((_e=this.dragOverTargetIds)===null||_e===void 0?void 0:_e.length)||0}}get document(){return this.options.document}setup(){const _e=this.options.rootElement;_e&&(invariant(!TouchBackendImpl.isSetUp,"Cannot have two Touch backends at the same time."),TouchBackendImpl.isSetUp=!0,this.addEventListener(_e,"start",this.getTopMoveStartHandler()),this.addEventListener(_e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(_e,"move",this.handleTopMove),this.addEventListener(_e,"move",this.handleTopMoveCapture,!0),this.addEventListener(_e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(_e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(_e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const _e=this.options.rootElement;_e&&(TouchBackendImpl.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(_e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(_e,"start",this.handleTopMoveStart),this.removeEventListener(_e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(_e,"move",this.handleTopMove),this.removeEventListener(_e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(_e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(_e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(_e,et,tt,nt=!1){const rt=supportsPassive?{capture:nt,passive:!1}:nt;this.listenerTypes.forEach(function(it){const ot=eventNames[it][et];ot&&_e.addEventListener(ot,tt,rt)})}removeEventListener(_e,et,tt,nt=!1){const rt=supportsPassive?{capture:nt,passive:!1}:nt;this.listenerTypes.forEach(function(it){const ot=eventNames[it][et];ot&&_e.removeEventListener(ot,tt,rt)})}connectDragSource(_e,et){const tt=this.handleMoveStart.bind(this,_e);return this.sourceNodes.set(_e,et),this.addEventListener(et,"start",tt),()=>{this.sourceNodes.delete(_e),this.removeEventListener(et,"start",tt)}}connectDragPreview(_e,et,tt){return this.sourcePreviewNodeOptions.set(_e,tt),this.sourcePreviewNodes.set(_e,et),()=>{this.sourcePreviewNodes.delete(_e),this.sourcePreviewNodeOptions.delete(_e)}}connectDropTarget(_e,et){const tt=this.options.rootElement;if(!this.document||!tt)return()=>{};const nt=rt=>{if(!this.document||!tt||!this.monitor.isDragging())return;let it;switch(rt.type){case eventNames.mouse.move:it={x:rt.clientX,y:rt.clientY};break;case eventNames.touch.move:var ot,st;it={x:((ot=rt.touches[0])===null||ot===void 0?void 0:ot.clientX)||0,y:((st=rt.touches[0])===null||st===void 0?void 0:st.clientY)||0};break}const lt=it!=null?this.document.elementFromPoint(it.x,it.y):void 0,at=lt&&et.contains(lt);if(lt===et||at)return this.handleMove(rt,_e)};return this.addEventListener(this.document.body,"move",nt),this.targetNodes.set(_e,et),()=>{this.document&&(this.targetNodes.delete(_e),this.removeEventListener(this.document.body,"move",nt))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(_e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=_e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{_e&&!_e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!_e||!_e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(_e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(_e,et,tt){this.getSourceClientOffset=nt=>{const rt=this.sourceNodes.get(nt);return rt&&getNodeClientOffset$1(rt)},this.handleTopMoveStartCapture=nt=>{eventShouldStartDrag(nt)&&(this.moveStartSourceIds=[])},this.handleMoveStart=nt=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(nt)},this.handleTopMoveStart=nt=>{if(!eventShouldStartDrag(nt))return;const rt=getEventClientOffset$1(nt);rt&&(isTouchEvent(nt)&&(this.lastTargetTouchFallback=nt.targetTouches[0]),this._mouseClientOffset=rt),this.waitingForDelay=!1},this.handleTopMoveStartDelay=nt=>{if(!eventShouldStartDrag(nt))return;const rt=nt.type===eventNames.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,nt),rt),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(nt,rt)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(rt)},this.handleTopMove=nt=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:rt,dragOverTargetIds:it}=this,ot=this.options.enableHoverOutsideTarget,st=getEventClientOffset$1(nt,this.lastTargetTouchFallback);if(!st)return;if(this._isScrolling||!this.monitor.isDragging()&&inAngleRanges(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,st.x,st.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&rt&&distance(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,st.x,st.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(rt,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const lt=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(lt),this.actions.publishDragSource(),nt.cancelable&&nt.preventDefault();const at=(it||[]).map(vt=>this.targetNodes.get(vt)).filter(vt=>!!vt),mt=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(st.x,st.y,at):this.document.elementsFromPoint(st.x,st.y),ft=[];for(const vt in mt){if(!mt.hasOwnProperty(vt))continue;let dt=mt[vt];for(dt!=null&&ft.push(dt);dt;)dt=dt.parentElement,dt&&ft.indexOf(dt)===-1&&ft.push(dt)}const gt=ft.filter(vt=>at.indexOf(vt)>-1).map(vt=>this._getDropTargetId(vt)).filter(vt=>!!vt).filter((vt,dt,pt)=>pt.indexOf(vt)===dt);if(ot)for(const vt in this.targetNodes){const dt=this.targetNodes.get(vt);if(lt&&dt&&dt.contains(lt)&&gt.indexOf(vt)===-1){gt.unshift(vt);break}}gt.reverse(),this.actions.hover(gt,{clientOffset:st})},this._getDropTargetId=nt=>{const rt=this.targetNodes.keys();let it=rt.next();for(;it.done===!1;){const ot=it.value;if(nt===this.targetNodes.get(ot))return ot;it=rt.next()}},this.handleTopMoveEndCapture=nt=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!eventShouldEndDrag(nt)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}nt.cancelable&&nt.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=nt=>{nt.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new OptionsReader$1(tt,et),this.actions=_e.getActions(),this.monitor=_e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(ListenerType.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(ListenerType.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(ListenerType.keyboard)}}const TouchBackend=function(_e,et={},tt={}){return new TouchBackendImpl(_e,et,tt)};function memoize($){let _e=null;return()=>(_e==null&&(_e=$()),_e)}function without($,_e){return $.filter(et=>et!==_e)}function union($,_e){const et=new Set,tt=rt=>et.add(rt);$.forEach(tt),_e.forEach(tt);const nt=[];return et.forEach(rt=>nt.push(rt)),nt}class EnterLeaveCounter{enter(_e){const et=this.entered.length,tt=nt=>this.isNodeInDocument(nt)&&(!nt.contains||nt.contains(_e));return this.entered=union(this.entered.filter(tt),[_e]),et===0&&this.entered.length>0}leave(_e){const et=this.entered.length;return this.entered=without(this.entered.filter(this.isNodeInDocument),_e),et>0&&this.entered.length===0}reset(){this.entered=[]}constructor(_e){this.entered=[],this.isNodeInDocument=_e}}class NativeDragSource{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(_e=>{Object.defineProperty(this.item,_e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${_e}" until the drop event.`),null}})})}loadDataTransfer(_e){if(_e){const et={};Object.keys(this.config.exposeProperties).forEach(tt=>{const nt=this.config.exposeProperties[tt];nt!=null&&(et[tt]={value:nt(_e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,et)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(_e,et){return et===_e.getSourceId()}endDrag(){}constructor(_e){this.config=_e,this.item={},this.initializeExposedProperties()}}const FILE="__NATIVE_FILE__",URL$1="__NATIVE_URL__",TEXT="__NATIVE_TEXT__",HTML="__NATIVE_HTML__",NativeTypes=Object.freeze(Object.defineProperty({__proto__:null,FILE,HTML,TEXT,URL:URL$1},Symbol.toStringTag,{value:"Module"}));function getDataFromDataTransfer($,_e,et){const tt=_e.reduce((nt,rt)=>nt||$.getData(rt),"");return tt??et}const nativeTypesConfig={[FILE]:{exposeProperties:{files:$=>Array.prototype.slice.call($.files),items:$=>$.items,dataTransfer:$=>$},matchesTypes:["Files"]},[HTML]:{exposeProperties:{html:($,_e)=>getDataFromDataTransfer($,_e,""),dataTransfer:$=>$},matchesTypes:["Html","text/html"]},[URL$1]:{exposeProperties:{urls:($,_e)=>getDataFromDataTransfer($,_e,"").split(`
`),dataTransfer:$=>$},matchesTypes:["Url","text/uri-list"]},[TEXT]:{exposeProperties:{text:($,_e)=>getDataFromDataTransfer($,_e,""),dataTransfer:$=>$},matchesTypes:["Text","text/plain"]}};function createNativeDragSource($,_e){const et=nativeTypesConfig[$];if(!et)throw new Error(`native type ${$} has no configuration`);const tt=new NativeDragSource(et);return tt.loadDataTransfer(_e),tt}function matchNativeItemType($){if(!$)return null;const _e=Array.prototype.slice.call($.types||[]);return Object.keys(nativeTypesConfig).filter(et=>{const tt=nativeTypesConfig[et];return tt!=null&&tt.matchesTypes?tt.matchesTypes.some(nt=>_e.indexOf(nt)>-1):!1})[0]||null}const isFirefox=memoize(()=>/firefox/i.test(navigator.userAgent)),isSafari=memoize(()=>!!window.safari);class MonotonicInterpolant{interpolate(_e){const{xs:et,ys:tt,c1s:nt,c2s:rt,c3s:it}=this;let ot=et.length-1;if(_e===et[ot])return tt[ot];let st=0,lt=it.length-1,at;for(;st<=lt;){at=Math.floor(.5*(st+lt));const gt=et[at];if(gt<_e)st=at+1;else if(gt>_e)lt=at-1;else return tt[at]}ot=Math.max(0,lt);const mt=_e-et[ot],ft=mt*mt;return tt[ot]+nt[ot]*mt+rt[ot]*ft+it[ot]*mt*ft}constructor(_e,et){const{length:tt}=_e,nt=[];for(let gt=0;gt<tt;gt++)nt.push(gt);nt.sort((gt,vt)=>_e[gt]<_e[vt]?-1:1);const rt=[],it=[];let ot,st;for(let gt=0;gt<tt-1;gt++)ot=_e[gt+1]-_e[gt],st=et[gt+1]-et[gt],rt.push(ot),it.push(st/ot);const lt=[it[0]];for(let gt=0;gt<rt.length-1;gt++){const vt=it[gt],dt=it[gt+1];if(vt*dt<=0)lt.push(0);else{ot=rt[gt];const pt=rt[gt+1],ut=ot+pt;lt.push(3*ut/((ut+pt)/vt+(ut+ot)/dt))}}lt.push(it[it.length-1]);const at=[],mt=[];let ft;for(let gt=0;gt<lt.length-1;gt++){ft=it[gt];const vt=lt[gt],dt=1/rt[gt],pt=vt+lt[gt+1]-ft-ft;at.push((ft-vt-pt)*dt),mt.push(pt*dt*dt)}this.xs=_e,this.ys=et,this.c1s=lt,this.c2s=at,this.c3s=mt}}const ELEMENT_NODE=1;function getNodeClientOffset($){const _e=$.nodeType===ELEMENT_NODE?$:$.parentElement;if(!_e)return null;const{top:et,left:tt}=_e.getBoundingClientRect();return{x:tt,y:et}}function getEventClientOffset($){return{x:$.clientX,y:$.clientY}}function isImageNode($){var _e;return $.nodeName==="IMG"&&(isFirefox()||!(!((_e=document.documentElement)===null||_e===void 0)&&_e.contains($)))}function getDragPreviewSize($,_e,et,tt){let nt=$?_e.width:et,rt=$?_e.height:tt;return isSafari()&&$&&(rt/=window.devicePixelRatio,nt/=window.devicePixelRatio),{dragPreviewWidth:nt,dragPreviewHeight:rt}}function getDragPreviewOffset($,_e,et,tt,nt){const rt=isImageNode(_e),ot=getNodeClientOffset(rt?$:_e),st={x:et.x-ot.x,y:et.y-ot.y},{offsetWidth:lt,offsetHeight:at}=$,{anchorX:mt,anchorY:ft}=tt,{dragPreviewWidth:gt,dragPreviewHeight:vt}=getDragPreviewSize(rt,_e,lt,at),dt=()=>{let bt=new MonotonicInterpolant([0,.5,1],[st.y,st.y/at*vt,st.y+vt-at]).interpolate(ft);return isSafari()&&rt&&(bt+=(window.devicePixelRatio-1)*vt),bt},pt=()=>new MonotonicInterpolant([0,.5,1],[st.x,st.x/lt*gt,st.x+gt-lt]).interpolate(mt),{offsetX:ut,offsetY:ct}=nt,xt=ut===0||ut,yt=ct===0||ct;return{x:xt?ut:pt(),y:yt?ct:dt()}}class OptionsReader{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var _e;return!((_e=this.globalContext)===null||_e===void 0)&&_e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var _e;return((_e=this.optionsArgs)===null||_e===void 0?void 0:_e.rootElement)||this.window}constructor(_e,et){this.ownerDocument=null,this.globalContext=_e,this.optionsArgs=et}}function _defineProperty($,_e,et){return _e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function _objectSpread($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable}))),tt.forEach(function(nt){_defineProperty($,nt,et[nt])})}return $}class HTML5BackendImpl{profile(){var _e,et;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((_e=this.dragStartSourceIds)===null||_e===void 0?void 0:_e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((et=this.dragOverTargetIds)===null||et===void 0?void 0:et.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const _e=this.rootElement;if(_e!==void 0){if(_e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");_e.__isReactDndBackendSetUp=!0,this.addEventListeners(_e)}}teardown(){const _e=this.rootElement;if(_e!==void 0&&(_e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var et;(et=this.window)===null||et===void 0||et.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(_e,et,tt){return this.sourcePreviewNodeOptions.set(_e,tt),this.sourcePreviewNodes.set(_e,et),()=>{this.sourcePreviewNodes.delete(_e),this.sourcePreviewNodeOptions.delete(_e)}}connectDragSource(_e,et,tt){this.sourceNodes.set(_e,et),this.sourceNodeOptions.set(_e,tt);const nt=it=>this.handleDragStart(it,_e),rt=it=>this.handleSelectStart(it);return et.setAttribute("draggable","true"),et.addEventListener("dragstart",nt),et.addEventListener("selectstart",rt),()=>{this.sourceNodes.delete(_e),this.sourceNodeOptions.delete(_e),et.removeEventListener("dragstart",nt),et.removeEventListener("selectstart",rt),et.setAttribute("draggable","false")}}connectDropTarget(_e,et){const tt=it=>this.handleDragEnter(it,_e),nt=it=>this.handleDragOver(it,_e),rt=it=>this.handleDrop(it,_e);return et.addEventListener("dragenter",tt),et.addEventListener("dragover",nt),et.addEventListener("drop",rt),()=>{et.removeEventListener("dragenter",tt),et.removeEventListener("dragover",nt),et.removeEventListener("drop",rt)}}addEventListeners(_e){_e.addEventListener&&(_e.addEventListener("dragstart",this.handleTopDragStart),_e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),_e.addEventListener("dragend",this.handleTopDragEndCapture,!0),_e.addEventListener("dragenter",this.handleTopDragEnter),_e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),_e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),_e.addEventListener("dragover",this.handleTopDragOver),_e.addEventListener("dragover",this.handleTopDragOverCapture,!0),_e.addEventListener("drop",this.handleTopDrop),_e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(_e){_e.removeEventListener&&(_e.removeEventListener("dragstart",this.handleTopDragStart),_e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),_e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),_e.removeEventListener("dragenter",this.handleTopDragEnter),_e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),_e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),_e.removeEventListener("dragover",this.handleTopDragOver),_e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),_e.removeEventListener("drop",this.handleTopDrop),_e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const _e=this.monitor.getSourceId(),et=this.sourceNodeOptions.get(_e);return _objectSpread({dropEffect:this.altKeyPressed?"copy":"move"},et||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const _e=this.monitor.getSourceId(),et=this.sourcePreviewNodeOptions.get(_e);return _objectSpread({anchorX:.5,anchorY:.5,captureDraggingState:!1},et||{})}isDraggingNativeItem(){const _e=this.monitor.getItemType();return Object.keys(NativeTypes).some(et=>NativeTypes[et]===_e)}beginDragNativeItem(_e,et){this.clearCurrentDragSourceNode(),this.currentNativeSource=createNativeDragSource(_e,et),this.currentNativeHandle=this.registry.addSource(_e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(_e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=_e;const et=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var tt;return(tt=this.rootElement)===null||tt===void 0?void 0:tt.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},et)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var _e;(_e=this.window)===null||_e===void 0||_e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(_e,et){_e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(et))}handleDragEnter(_e,et){this.dragEnterTargetIds.unshift(et)}handleDragOver(_e,et){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(et)}handleDrop(_e,et){this.dropTargetIds.unshift(et)}constructor(_e,et,tt){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=nt=>{const rt=this.sourceNodes.get(nt);return rt&&getNodeClientOffset(rt)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=nt=>!!(nt&&this.document&&this.document.body&&this.document.body.contains(nt)),this.endDragIfSourceWasRemovedFromDOM=()=>{const nt=this.currentDragSourceNode;nt==null||this.isNodeInDocument(nt)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=nt=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(nt||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=nt=>{if(nt.defaultPrevented)return;const{dragStartSourceIds:rt}=this;this.dragStartSourceIds=null;const it=getEventClientOffset(nt);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(rt||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:it});const{dataTransfer:ot}=nt,st=matchNativeItemType(ot);if(this.monitor.isDragging()){if(ot&&typeof ot.setDragImage=="function"){const at=this.monitor.getSourceId(),mt=this.sourceNodes.get(at),ft=this.sourcePreviewNodes.get(at)||mt;if(ft){const{anchorX:gt,anchorY:vt,offsetX:dt,offsetY:pt}=this.getCurrentSourcePreviewNodeOptions(),xt=getDragPreviewOffset(mt,ft,it,{anchorX:gt,anchorY:vt},{offsetX:dt,offsetY:pt});ot.setDragImage(ft,xt.x,xt.y)}}try{ot==null||ot.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(nt.target);const{captureDraggingState:lt}=this.getCurrentSourcePreviewNodeOptions();lt?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(st)this.beginDragNativeItem(st);else{if(ot&&!ot.types&&(nt.target&&!nt.target.hasAttribute||!nt.target.hasAttribute("draggable")))return;nt.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=nt=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var rt;(rt=this.currentNativeSource)===null||rt===void 0||rt.loadDataTransfer(nt.dataTransfer)}if(!this.enterLeaveCounter.enter(nt.target)||this.monitor.isDragging())return;const{dataTransfer:ot}=nt,st=matchNativeItemType(ot);st&&this.beginDragNativeItem(st,ot)},this.handleTopDragEnter=nt=>{const{dragEnterTargetIds:rt}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=nt.altKey,rt.length>0&&this.actions.hover(rt,{clientOffset:getEventClientOffset(nt)}),rt.some(ot=>this.monitor.canDropOnTarget(ot))&&(nt.preventDefault(),nt.dataTransfer&&(nt.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=nt=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var rt;(rt=this.currentNativeSource)===null||rt===void 0||rt.loadDataTransfer(nt.dataTransfer)}},this.handleTopDragOver=nt=>{const{dragOverTargetIds:rt}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){nt.preventDefault(),nt.dataTransfer&&(nt.dataTransfer.dropEffect="none");return}this.altKeyPressed=nt.altKey,this.lastClientOffset=getEventClientOffset(nt),this.scheduleHover(rt),(rt||[]).some(ot=>this.monitor.canDropOnTarget(ot))?(nt.preventDefault(),nt.dataTransfer&&(nt.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?nt.preventDefault():(nt.preventDefault(),nt.dataTransfer&&(nt.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=nt=>{this.isDraggingNativeItem()&&nt.preventDefault(),this.enterLeaveCounter.leave(nt.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=nt=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var rt;nt.preventDefault(),(rt=this.currentNativeSource)===null||rt===void 0||rt.loadDataTransfer(nt.dataTransfer)}else matchNativeItemType(nt.dataTransfer)&&nt.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=nt=>{const{dropTargetIds:rt}=this;this.dropTargetIds=[],this.actions.hover(rt,{clientOffset:getEventClientOffset(nt)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=nt=>{const rt=nt.target;typeof rt.dragDrop=="function"&&(rt.tagName==="INPUT"||rt.tagName==="SELECT"||rt.tagName==="TEXTAREA"||rt.isContentEditable||(nt.preventDefault(),rt.dragDrop()))},this.options=new OptionsReader(et,tt),this.actions=_e.getActions(),this.monitor=_e.getMonitor(),this.registry=_e.getRegistry(),this.enterLeaveCounter=new EnterLeaveCounter(this.isNodeInDocument)}}const HTML5Backend=function(_e,et,tt){return new HTML5BackendImpl(_e,et,tt)};var lib$h={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(_e,et){module.exports=_e.pdfjsLib=et()})(globalThis,()=>(()=>{var __webpack_modules__=[,($,_e)=>{var Nr;Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.TextRenderingMode=_e.RenderingIntentFlag=_e.PromiseCapability=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.MAX_IMAGE_SIZE_TO_CACHE=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.BASELINE_FACTOR=_e.AnnotationType=_e.AnnotationReplyType=_e.AnnotationPrefix=_e.AnnotationMode=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.assert=nn,_e.bytesToString=Wt,_e.createValidAbsoluteUrl=_n,_e.getModificationDate=Xn,_e.getUuid=Rr,_e.getVerbosityLevel=Vt,_e.info=qt,_e.isArrayBuffer=jn,_e.isArrayEqual=Gn,_e.isNodeJS=void 0,_e.normalizeUnicode=kr,_e.objectFromMap=rn,_e.objectSize=Xt,_e.setVerbosityLevel=Nt,_e.shadow=Nn,_e.string32=Kt,_e.stringToBytes=Zt,_e.stringToPDFString=An,_e.stringToUTF8String=hn,_e.unreachable=Bt,_e.utf8StringToString=pn,_e.warn=un;const et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=et;const tt=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=tt;const nt=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=nt;const rt=1e7;_e.MAX_IMAGE_SIZE_TO_CACHE=rt;const it=1.35;_e.LINE_FACTOR=it;const ot=.35;_e.LINE_DESCENT_FACTOR=ot;const st=ot/it;_e.BASELINE_FACTOR=st;const lt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=lt;const at={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=at;const mt="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=mt;const ft={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_e.AnnotationEditorType=ft;const gt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_e.AnnotationEditorParamsType=gt;const vt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=vt;const dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=dt;const pt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=pt;const ut={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=ut;const ct={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=ct;const xt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=xt;const yt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=yt;const ht={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=ht;const bt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=bt;const Tt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=Tt;const Pt={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=Pt;const wt={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=wt;const kt={NONE:0,BINARY:1};_e.CMapCompressionType=kt;const Mt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=Mt;const Dt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=Dt;let Ht=wt.WARNINGS;function Nt(On){Number.isInteger(On)&&(Ht=On)}function Vt(){return Ht}function qt(On){Ht>=wt.INFOS&&console.log(`Info: ${On}`)}function un(On){Ht>=wt.WARNINGS&&console.log(`Warning: ${On}`)}function Bt(On){throw new Error(On)}function nn(On,mn){On||Bt(mn)}function tn(On){switch(On==null?void 0:On.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _n(On,mn=null,an=null){if(!On)return null;try{if(an&&typeof On=="string"){if(an.addDefaultProtocol&&On.startsWith("www.")){const Ln=On.match(/\./g);(Ln==null?void 0:Ln.length)>=2&&(On=`http://${On}`)}if(an.tryConvertEncoding)try{On=hn(On)}catch{}}const Un=mn?new URL(On,mn):new URL(On);if(tn(Un))return Un}catch{}return null}function Nn(On,mn,an,Un=!1){return Object.defineProperty(On,mn,{value:an,enumerable:!Un,configurable:!0,writable:!1}),an}const Lt=function(){function mn(an,Un){this.constructor===mn&&Bt("Cannot initialize BaseException."),this.message=an,this.name=Un}return mn.prototype=new Error,mn.constructor=mn,mn}();_e.BaseException=Lt;class Et extends Lt{constructor(mn,an){super(mn,"PasswordException"),this.code=an}}_e.PasswordException=Et;class Ct extends Lt{constructor(mn,an){super(mn,"UnknownErrorException"),this.details=an}}_e.UnknownErrorException=Ct;class St extends Lt{constructor(mn){super(mn,"InvalidPDFException")}}_e.InvalidPDFException=St;class Rt extends Lt{constructor(mn){super(mn,"MissingPDFException")}}_e.MissingPDFException=Rt;class jt extends Lt{constructor(mn,an){super(mn,"UnexpectedResponseException"),this.status=an}}_e.UnexpectedResponseException=jt;class It extends Lt{constructor(mn){super(mn,"FormatError")}}_e.FormatError=It;class zt extends Lt{constructor(mn){super(mn,"AbortException")}}_e.AbortException=zt;function Wt(On){(typeof On!="object"||(On==null?void 0:On.length)===void 0)&&Bt("Invalid argument for bytesToString");const mn=On.length,an=8192;if(mn<an)return String.fromCharCode.apply(null,On);const Un=[];for(let Ln=0;Ln<mn;Ln+=an){const ur=Math.min(Ln+an,mn),ro=On.subarray(Ln,ur);Un.push(String.fromCharCode.apply(null,ro))}return Un.join("")}function Zt(On){typeof On!="string"&&Bt("Invalid argument for stringToBytes");const mn=On.length,an=new Uint8Array(mn);for(let Un=0;Un<mn;++Un)an[Un]=On.charCodeAt(Un)&255;return an}function Kt(On){return String.fromCharCode(On>>24&255,On>>16&255,On>>8&255,On&255)}function Xt(On){return Object.keys(On).length}function rn(On){const mn=Object.create(null);for(const[an,Un]of On)mn[an]=Un;return mn}function bn(){const On=new Uint8Array(4);return On[0]=1,new Uint32Array(On.buffer,0,1)[0]===1}function En(){try{return new Function(""),!0}catch{return!1}}class Tn{static get isLittleEndian(){return Nn(this,"isLittleEndian",bn())}static get isEvalSupported(){return Nn(this,"isEvalSupported",En())}static get isOffscreenCanvasSupported(){return Nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Nn(this,"platform",{isWin:!1,isMac:!1}):Nn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var mn,an;return Nn(this,"isCSSRoundSupported",(an=(mn=globalThis.CSS)==null?void 0:mn.supports)==null?void 0:an.call(mn,"width: round(1.5px, 1px)"))}}_e.FeatureTest=Tn;const In=[...Array(256).keys()].map(On=>On.toString(16).padStart(2,"0"));class Fn{static makeHexColor(mn,an,Un){return`#${In[mn]}${In[an]}${In[Un]}`}static scaleMinMax(mn,an){let Un;mn[0]?(mn[0]<0&&(Un=an[0],an[0]=an[1],an[1]=Un),an[0]*=mn[0],an[1]*=mn[0],mn[3]<0&&(Un=an[2],an[2]=an[3],an[3]=Un),an[2]*=mn[3],an[3]*=mn[3]):(Un=an[0],an[0]=an[2],an[2]=Un,Un=an[1],an[1]=an[3],an[3]=Un,mn[1]<0&&(Un=an[2],an[2]=an[3],an[3]=Un),an[2]*=mn[1],an[3]*=mn[1],mn[2]<0&&(Un=an[0],an[0]=an[1],an[1]=Un),an[0]*=mn[2],an[1]*=mn[2]),an[0]+=mn[4],an[1]+=mn[4],an[2]+=mn[5],an[3]+=mn[5]}static transform(mn,an){return[mn[0]*an[0]+mn[2]*an[1],mn[1]*an[0]+mn[3]*an[1],mn[0]*an[2]+mn[2]*an[3],mn[1]*an[2]+mn[3]*an[3],mn[0]*an[4]+mn[2]*an[5]+mn[4],mn[1]*an[4]+mn[3]*an[5]+mn[5]]}static applyTransform(mn,an){const Un=mn[0]*an[0]+mn[1]*an[2]+an[4],Ln=mn[0]*an[1]+mn[1]*an[3]+an[5];return[Un,Ln]}static applyInverseTransform(mn,an){const Un=an[0]*an[3]-an[1]*an[2],Ln=(mn[0]*an[3]-mn[1]*an[2]+an[2]*an[5]-an[4]*an[3])/Un,ur=(-mn[0]*an[1]+mn[1]*an[0]+an[4]*an[1]-an[5]*an[0])/Un;return[Ln,ur]}static getAxialAlignedBoundingBox(mn,an){const Un=this.applyTransform(mn,an),Ln=this.applyTransform(mn.slice(2,4),an),ur=this.applyTransform([mn[0],mn[3]],an),ro=this.applyTransform([mn[2],mn[1]],an);return[Math.min(Un[0],Ln[0],ur[0],ro[0]),Math.min(Un[1],Ln[1],ur[1],ro[1]),Math.max(Un[0],Ln[0],ur[0],ro[0]),Math.max(Un[1],Ln[1],ur[1],ro[1])]}static inverseTransform(mn){const an=mn[0]*mn[3]-mn[1]*mn[2];return[mn[3]/an,-mn[1]/an,-mn[2]/an,mn[0]/an,(mn[2]*mn[5]-mn[4]*mn[3])/an,(mn[4]*mn[1]-mn[5]*mn[0])/an]}static singularValueDecompose2dScale(mn){const an=[mn[0],mn[2],mn[1],mn[3]],Un=mn[0]*an[0]+mn[1]*an[2],Ln=mn[0]*an[1]+mn[1]*an[3],ur=mn[2]*an[0]+mn[3]*an[2],ro=mn[2]*an[1]+mn[3]*an[3],xn=(Un+ro)/2,Qn=Math.sqrt((Un+ro)**2-4*(Un*ro-ur*Ln))/2,vr=xn+Qn||1,Zn=xn-Qn||1;return[Math.sqrt(vr),Math.sqrt(Zn)]}static normalizeRect(mn){const an=mn.slice(0);return mn[0]>mn[2]&&(an[0]=mn[2],an[2]=mn[0]),mn[1]>mn[3]&&(an[1]=mn[3],an[3]=mn[1]),an}static intersect(mn,an){const Un=Math.max(Math.min(mn[0],mn[2]),Math.min(an[0],an[2])),Ln=Math.min(Math.max(mn[0],mn[2]),Math.max(an[0],an[2]));if(Un>Ln)return null;const ur=Math.max(Math.min(mn[1],mn[3]),Math.min(an[1],an[3])),ro=Math.min(Math.max(mn[1],mn[3]),Math.max(an[1],an[3]));return ur>ro?null:[Un,ur,Ln,ro]}static bezierBoundingBox(mn,an,Un,Ln,ur,ro,xn,Qn){const vr=[],Zn=[[],[]];let fr,gr,zr,Vn,Hr,hr,Qt,At;for(let vn=0;vn<2;++vn){if(vn===0?(gr=6*mn-12*Un+6*ur,fr=-3*mn+9*Un-9*ur+3*xn,zr=3*Un-3*mn):(gr=6*an-12*Ln+6*ro,fr=-3*an+9*Ln-9*ro+3*Qn,zr=3*Ln-3*an),Math.abs(fr)<1e-12){if(Math.abs(gr)<1e-12)continue;Vn=-zr/gr,0<Vn&&Vn<1&&vr.push(Vn);continue}Qt=gr*gr-4*zr*fr,At=Math.sqrt(Qt),!(Qt<0)&&(Hr=(-gr+At)/(2*fr),0<Hr&&Hr<1&&vr.push(Hr),hr=(-gr-At)/(2*fr),0<hr&&hr<1&&vr.push(hr))}let Ft=vr.length,Yt;const cn=Ft;for(;Ft--;)Vn=vr[Ft],Yt=1-Vn,Zn[0][Ft]=Yt*Yt*Yt*mn+3*Yt*Yt*Vn*Un+3*Yt*Vn*Vn*ur+Vn*Vn*Vn*xn,Zn[1][Ft]=Yt*Yt*Yt*an+3*Yt*Yt*Vn*Ln+3*Yt*Vn*Vn*ro+Vn*Vn*Vn*Qn;return Zn[0][cn]=mn,Zn[1][cn]=an,Zn[0][cn+1]=xn,Zn[1][cn+1]=Qn,Zn[0].length=Zn[1].length=cn+2,[Math.min(...Zn[0]),Math.min(...Zn[1]),Math.max(...Zn[0]),Math.max(...Zn[1])]}}_e.Util=Fn;const qn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function An(On){if(On[0]>="ï"){let an;if(On[0]==="þ"&&On[1]==="ÿ"?an="utf-16be":On[0]==="ÿ"&&On[1]==="þ"?an="utf-16le":On[0]==="ï"&&On[1]==="»"&&On[2]==="¿"&&(an="utf-8"),an)try{const Un=new TextDecoder(an,{fatal:!0}),Ln=Zt(On);return Un.decode(Ln)}catch(Un){un(`stringToPDFString: "${Un}".`)}}const mn=[];for(let an=0,Un=On.length;an<Un;an++){const Ln=qn[On.charCodeAt(an)];mn.push(Ln?String.fromCharCode(Ln):On.charAt(an))}return mn.join("")}function hn(On){return decodeURIComponent(escape(On))}function pn(On){return unescape(encodeURIComponent(On))}function jn(On){return typeof On=="object"&&(On==null?void 0:On.byteLength)!==void 0}function Gn(On,mn){if(On.length!==mn.length)return!1;for(let an=0,Un=On.length;an<Un;an++)if(On[an]!==mn[an])return!1;return!0}function Xn(On=new Date){return[On.getUTCFullYear().toString(),(On.getUTCMonth()+1).toString().padStart(2,"0"),On.getUTCDate().toString().padStart(2,"0"),On.getUTCHours().toString().padStart(2,"0"),On.getUTCMinutes().toString().padStart(2,"0"),On.getUTCSeconds().toString().padStart(2,"0")].join("")}class mr{constructor(){en(this,Nr,!1);this.promise=new Promise((mn,an)=>{this.resolve=Un=>{Pn(this,Nr,!0),mn(Un)},this.reject=Un=>{Pn(this,Nr,!0),an(Un)}})}get settled(){return _t(this,Nr)}}Nr=new WeakMap,_e.PromiseCapability=mr;let Sr=null,br=null;function kr(On){return Sr||(Sr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,br=new Map([["ﬅ","ſt"]])),On.replaceAll(Sr,(mn,an,Un)=>an?an.normalize("NFKC"):br.get(Un))}function Rr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const On=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(On);else for(let mn=0;mn<32;mn++)On[mn]=Math.floor(Math.random()*255);return Wt(On)}const xr="pdfjs_internal_id_";_e.AnnotationPrefix=xr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var $,et,tt,nt,hs,it,js,st,lt,at,mt,ft,gt,vt,dt,pt,Ms,ct,xt,ba,ht,bt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Pt){if(typeof Pt=="string"||Pt instanceof URL?Pt={url:Pt}:(0,_util.isArrayBuffer)(Pt)&&(Pt={data:Pt}),typeof Pt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Pt.url&&!Pt.data&&!Pt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const wt=new PDFDocumentLoadingTask,{docId:kt}=wt,Mt=Pt.url?getUrlProp(Pt.url):null,Dt=Pt.data?getDataProp(Pt.data):null,Ht=Pt.httpHeaders||null,Nt=Pt.withCredentials===!0,Vt=Pt.password??null,qt=Pt.range instanceof PDFDataRangeTransport?Pt.range:null,un=Number.isInteger(Pt.rangeChunkSize)&&Pt.rangeChunkSize>0?Pt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Bt=Pt.worker instanceof PDFWorker?Pt.worker:null;const nn=Pt.verbosity,tn=typeof Pt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Pt.docBaseUrl)?Pt.docBaseUrl:null,_n=typeof Pt.cMapUrl=="string"?Pt.cMapUrl:null,Nn=Pt.cMapPacked!==!1,Lt=Pt.CMapReaderFactory||DefaultCMapReaderFactory,Et=typeof Pt.standardFontDataUrl=="string"?Pt.standardFontDataUrl:null,Ct=Pt.StandardFontDataFactory||DefaultStandardFontDataFactory,St=Pt.stopAtErrors!==!0,Rt=Number.isInteger(Pt.maxImageSize)&&Pt.maxImageSize>-1?Pt.maxImageSize:-1,jt=Pt.isEvalSupported!==!1,It=typeof Pt.isOffscreenCanvasSupported=="boolean"?Pt.isOffscreenCanvasSupported:!_util.isNodeJS,zt=Number.isInteger(Pt.canvasMaxAreaInBytes)?Pt.canvasMaxAreaInBytes:-1,Wt=typeof Pt.disableFontFace=="boolean"?Pt.disableFontFace:_util.isNodeJS,Zt=Pt.fontExtraProperties===!0,Kt=Pt.enableXfa===!0,Xt=Pt.ownerDocument||globalThis.document,rn=Pt.disableRange===!0,bn=Pt.disableStream===!0,En=Pt.disableAutoFetch===!0,Tn=Pt.pdfBug===!0,In=qt?qt.length:Pt.length??NaN,Fn=typeof Pt.useSystemFonts=="boolean"?Pt.useSystemFonts:!_util.isNodeJS&&!Wt,qn=typeof Pt.useWorkerFetch=="boolean"?Pt.useWorkerFetch:Lt===_display_utils.DOMCMapReaderFactory&&Ct===_display_utils.DOMStandardFontDataFactory&&_n&&Et&&(0,_display_utils.isValidFetchUrl)(_n,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Et,document.baseURI),An=Pt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xt}),hn=Pt.filterFactory||new DefaultFilterFactory({docId:kt,ownerDocument:Xt}),pn=null;(0,_util.setVerbosityLevel)(nn);const jn={canvasFactory:An,filterFactory:hn};if(qn||(jn.cMapReaderFactory=new Lt({baseUrl:_n,isCompressed:Nn}),jn.standardFontDataFactory=new Ct({baseUrl:Et})),!Bt){const mr={verbosity:nn,port:_worker_options.GlobalWorkerOptions.workerPort};Bt=mr.port?PDFWorker.fromPort(mr):new PDFWorker(mr),wt._worker=Bt}const Gn={docId:kt,apiVersion:"3.11.174",data:Dt,password:Vt,disableAutoFetch:En,rangeChunkSize:un,length:In,docBaseUrl:tn,enableXfa:Kt,evaluatorOptions:{maxImageSize:Rt,disableFontFace:Wt,ignoreErrors:St,isEvalSupported:jt,isOffscreenCanvasSupported:It,canvasMaxAreaInBytes:zt,fontExtraProperties:Zt,useSystemFonts:Fn,cMapUrl:qn?_n:null,standardFontDataUrl:qn?Et:null}},Xn={ignoreErrors:St,isEvalSupported:jt,disableFontFace:Wt,fontExtraProperties:Zt,enableXfa:Kt,ownerDocument:Xt,disableAutoFetch:En,pdfBug:Tn,styleElement:pn};return Bt.promise.then(function(){if(wt.destroyed)throw new Error("Loading aborted");const mr=_fetchDocument(Bt,Gn),Sr=new Promise(function(br){let kr;qt?kr=new _transport_stream.PDFDataTransportStream({length:In,initialData:qt.initialData,progressiveDone:qt.progressiveDone,contentDispositionFilename:qt.contentDispositionFilename,disableRange:rn,disableStream:bn},qt):Dt||(kr=(xr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(xr):(0,_display_utils.isValidFetchUrl)(xr.url)?new _displayFetch_stream.PDFFetchStream(xr):new _displayNetwork.PDFNetworkStream(xr))({url:Mt,length:In,httpHeaders:Ht,withCredentials:Nt,rangeChunkSize:un,disableRange:rn,disableStream:bn})),br(kr)});return Promise.all([mr,Sr]).then(function([br,kr]){if(wt.destroyed)throw new Error("Loading aborted");const Rr=new _message_handler.MessageHandler(kt,br,Bt.port),xr=new WorkerTransport(Rr,wt,kr,Xn,jn);wt._transport=xr,Rr.send("Ready",null)})}).catch(wt._capability.reject),wt}async function _fetchDocument(Pt,wt){if(Pt.destroyed)throw new Error("Worker was destroyed");const kt=await Pt.messageHandler.sendWithPromise("GetDocRequest",wt,wt.data?[wt.data.buffer]:null);if(Pt.destroyed)throw new Error("Worker was destroyed");return kt}function getUrlProp(Pt){if(Pt instanceof URL)return Pt.href;try{return new URL(Pt,window.location).href}catch{if(_util.isNodeJS&&typeof Pt=="string")return Pt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Pt){if(_util.isNodeJS&&typeof Buffer<"u"&&Pt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Pt instanceof Uint8Array&&Pt.byteLength===Pt.buffer.byteLength)return Pt;if(typeof Pt=="string")return(0,_util.stringToBytes)(Pt);if(typeof Pt=="object"&&!isNaN(Pt==null?void 0:Pt.length)||(0,_util.isArrayBuffer)(Pt))return new Uint8Array(Pt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const _e=class _e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${bs(_e,$)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var wt,kt,Mt;this.destroyed=!0;try{(wt=this._worker)!=null&&wt.port&&(this._worker._pendingDestroy=!0),await((kt=this._transport)==null?void 0:kt.destroy())}catch(Dt){throw(Mt=this._worker)!=null&&Mt.port&&delete this._worker._pendingDestroy,Dt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$=new WeakMap,en(_e,$,0);let PDFDocumentLoadingTask=_e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(wt,kt,Mt=!1,Dt=null){this.length=wt,this.initialData=kt,this.progressiveDone=Mt,this.contentDispositionFilename=Dt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(wt){this._rangeListeners.push(wt)}addProgressListener(wt){this._progressListeners.push(wt)}addProgressiveReadListener(wt){this._progressiveReadListeners.push(wt)}addProgressiveDoneListener(wt){this._progressiveDoneListeners.push(wt)}onDataRange(wt,kt){for(const Mt of this._rangeListeners)Mt(wt,kt)}onDataProgress(wt,kt){this._readyCapability.promise.then(()=>{for(const Mt of this._progressListeners)Mt(wt,kt)})}onDataProgressiveRead(wt){this._readyCapability.promise.then(()=>{for(const kt of this._progressiveReadListeners)kt(wt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const wt of this._progressiveDoneListeners)wt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(wt,kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(wt,kt){this._pdfInfo=wt,this._transport=kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Mt=>{if(!Mt)return Mt;const Dt=[];for(const Ht in Mt)Dt.push(...Mt[Ht]);return Dt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(wt){return this._transport.getPage(wt)}getPageIndex(wt){return this._transport.getPageIndex(wt)}getDestinations(){return this._transport.getDestinations()}getDestination(wt){return this._transport.getDestination(wt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(wt=!1){return this._transport.startCleanup(wt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(wt,kt,Mt,Dt=!1){en(this,nt);en(this,it);en(this,et,null);en(this,tt,!1);this._pageIndex=wt,this._pageInfo=kt,this._transport=Mt,this._stats=Dt?new _display_utils.StatTimer:null,this._pdfBug=Dt,this.commonObjs=Mt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:wt,rotation:kt=this.rotate,offsetX:Mt=0,offsetY:Dt=0,dontFlip:Ht=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:wt,rotation:kt,offsetX:Mt,offsetY:Dt,dontFlip:Ht})}getAnnotations({intent:wt="display"}={}){const kt=this._transport.getRenderingIntent(wt);return this._transport.getAnnotations(this._pageIndex,kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var wt;return((wt=this._transport._htmlForXfa)==null?void 0:wt.children[this._pageIndex])||null}render({canvasContext:wt,viewport:kt,intent:Mt="display",annotationMode:Dt=_util.AnnotationMode.ENABLE,transform:Ht=null,background:Nt=null,optionalContentConfigPromise:Vt=null,annotationCanvasMap:qt=null,pageColors:un=null,printAnnotationStorage:Bt=null}){var Ct,St;(Ct=this._stats)==null||Ct.time("Overall");const nn=this._transport.getRenderingIntent(Mt,Dt,Bt);Pn(this,tt,!1),gn(this,it,js).call(this),Vt||(Vt=this._transport.getOptionalContentConfig());let tn=this._intentStates.get(nn.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(nn.cacheKey,tn)),tn.streamReaderCancelTimeout&&(clearTimeout(tn.streamReaderCancelTimeout),tn.streamReaderCancelTimeout=null);const _n=!!(nn.renderingIntent&_util.RenderingIntentFlag.PRINT);tn.displayReadyCapability||(tn.displayReadyCapability=new _util.PromiseCapability,tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(nn));const Nn=Rt=>{var jt,It;tn.renderTasks.delete(Lt),(this._maybeCleanupAfterRender||_n)&&Pn(this,tt,!0),gn(this,nt,hs).call(this,!_n),Rt?(Lt.capability.reject(Rt),this._abortOperatorList({intentState:tn,reason:Rt instanceof Error?Rt:new Error(Rt)})):Lt.capability.resolve(),(jt=this._stats)==null||jt.timeEnd("Rendering"),(It=this._stats)==null||It.timeEnd("Overall")},Lt=new InternalRenderTask({callback:Nn,params:{canvasContext:wt,viewport:kt,transform:Ht,background:Nt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:qt,operatorList:tn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_n,pdfBug:this._pdfBug,pageColors:un});(tn.renderTasks||(tn.renderTasks=new Set)).add(Lt);const Et=Lt.task;return Promise.all([tn.displayReadyCapability.promise,Vt]).then(([Rt,jt])=>{var It;if(this.destroyed){Nn();return}(It=this._stats)==null||It.time("Rendering"),Lt.initializeGraphics({transparency:Rt,optionalContentConfig:jt}),Lt.operatorListChanged()}).catch(Nn),Et}getOperatorList({intent:wt="display",annotationMode:kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Mt=null}={}){var qt;function Dt(){Nt.operatorList.lastChunk&&(Nt.opListReadCapability.resolve(Nt.operatorList),Nt.renderTasks.delete(Vt))}const Ht=this._transport.getRenderingIntent(wt,kt,Mt,!0);let Nt=this._intentStates.get(Ht.cacheKey);Nt||(Nt=Object.create(null),this._intentStates.set(Ht.cacheKey,Nt));let Vt;return Nt.opListReadCapability||(Vt=Object.create(null),Vt.operatorListChanged=Dt,Nt.opListReadCapability=new _util.PromiseCapability,(Nt.renderTasks||(Nt.renderTasks=new Set)).add(Vt),Nt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(qt=this._stats)==null||qt.time("Page Request"),this._pumpOperatorList(Ht)),Nt.opListReadCapability.promise}streamTextContent({includeMarkedContent:wt=!1,disableNormalization:kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:wt===!0,disableNormalization:kt===!0},{highWaterMark:100,size(Dt){return Dt.items.length}})}getTextContent(wt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Mt=>_xfa_text.XfaText.textContent(Mt));const kt=this.streamTextContent(wt);return new Promise(function(Mt,Dt){function Ht(){Nt.read().then(function({value:qt,done:un}){if(un){Mt(Vt);return}Object.assign(Vt.styles,qt.styles),Vt.items.push(...qt.items),Ht()},Dt)}const Nt=kt.getReader(),Vt={items:[],styles:Object.create(null)};Ht()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const wt=[];for(const kt of this._intentStates.values())if(this._abortOperatorList({intentState:kt,reason:new Error("Page was destroyed."),force:!0}),!kt.opListReadCapability)for(const Mt of kt.renderTasks)wt.push(Mt.completed),Mt.cancel();return this.objs.clear(),Pn(this,tt,!1),gn(this,it,js).call(this),Promise.all(wt)}cleanup(wt=!1){Pn(this,tt,!0);const kt=gn(this,nt,hs).call(this,!1);return wt&&kt&&this._stats&&(this._stats=new _display_utils.StatTimer),kt}_startRenderPage(wt,kt){var Dt,Ht;const Mt=this._intentStates.get(kt);Mt&&((Dt=this._stats)==null||Dt.timeEnd("Page Request"),(Ht=Mt.displayReadyCapability)==null||Ht.resolve(wt))}_renderPageChunk(wt,kt){for(let Mt=0,Dt=wt.length;Mt<Dt;Mt++)kt.operatorList.fnArray.push(wt.fnArray[Mt]),kt.operatorList.argsArray.push(wt.argsArray[Mt]);kt.operatorList.lastChunk=wt.lastChunk,kt.operatorList.separateAnnots=wt.separateAnnots;for(const Mt of kt.renderTasks)Mt.operatorListChanged();wt.lastChunk&&gn(this,nt,hs).call(this,!0)}_pumpOperatorList({renderingIntent:wt,cacheKey:kt,annotationStorageSerializable:Mt}){const{map:Dt,transfers:Ht}=Mt,Vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:wt,cacheKey:kt,annotationStorage:Dt},Ht).getReader(),qt=this._intentStates.get(kt);qt.streamReader=Vt;const un=()=>{Vt.read().then(({value:Bt,done:nn})=>{if(nn){qt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Bt,qt),un())},Bt=>{if(qt.streamReader=null,!this._transport.destroyed){if(qt.operatorList){qt.operatorList.lastChunk=!0;for(const nn of qt.renderTasks)nn.operatorListChanged();gn(this,nt,hs).call(this,!0)}if(qt.displayReadyCapability)qt.displayReadyCapability.reject(Bt);else if(qt.opListReadCapability)qt.opListReadCapability.reject(Bt);else throw Bt}})};un()}_abortOperatorList({intentState:wt,reason:kt,force:Mt=!1}){if(wt.streamReader){if(wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null),!Mt){if(wt.renderTasks.size>0)return;if(kt instanceof _display_utils.RenderingCancelledException){let Dt=RENDERING_CANCELLED_TIMEOUT;kt.extraDelay>0&&kt.extraDelay<1e3&&(Dt+=kt.extraDelay),wt.streamReaderCancelTimeout=setTimeout(()=>{wt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:wt,reason:kt,force:!0})},Dt);return}}if(wt.streamReader.cancel(new _util.AbortException(kt.message)).catch(()=>{}),wt.streamReader=null,!this._transport.destroyed){for(const[Dt,Ht]of this._intentStates)if(Ht===wt){this._intentStates.delete(Dt);break}this.cleanup()}}}get stats(){return this._stats}}et=new WeakMap,tt=new WeakMap,nt=new WeakSet,hs=function(wt=!1){if(gn(this,it,js).call(this),!_t(this,tt)||this.destroyed)return!1;if(wt)return Pn(this,et,setTimeout(()=>{Pn(this,et,null),gn(this,nt,hs).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:kt,operatorList:Mt}of this._intentStates.values())if(kt.size>0||!Mt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Pn(this,tt,!1),!0},it=new WeakSet,js=function(){_t(this,et)&&(clearTimeout(_t(this,et)),Pn(this,et,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){en(this,st,new Set);en(this,lt,Promise.resolve())}postMessage(wt,kt){const Mt={data:structuredClone(wt,kt?{transfer:kt}:null)};_t(this,lt).then(()=>{for(const Dt of _t(this,st))Dt.call(this,Mt)})}addEventListener(wt,kt){_t(this,st).add(kt)}removeEventListener(wt,kt){_t(this,st).delete(kt)}terminate(){_t(this,st).clear()}}st=new WeakMap,lt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Pt=(at=document==null?void 0:document.currentScript)==null?void 0:at.src;Pt&&(PDFWorkerUtil.fallbackWorkerSrc=Pt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Pt,wt){let kt;try{if(kt=new URL(Pt),!kt.origin||kt.origin==="null")return!1}catch{return!1}const Mt=new URL(wt,kt);return kt.origin===Mt.origin},PDFWorkerUtil.createCDNWrapper=function(Pt){const wt=`importScripts("${Pt}");`;return URL.createObjectURL(new Blob([wt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Pt=null,port:wt=null,verbosity:kt=(0,_util.getVerbosityLevel)()}={}){var Mt;if(this.name=Pt,this.destroyed=!1,this.verbosity=kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,wt){if((Mt=_t(_PDFWorker,mt))!=null&&Mt.has(wt))throw new Error("Cannot use more than one PDFWorker per port.");(_t(_PDFWorker,mt)||Pn(_PDFWorker,mt,new WeakMap)).set(wt,this),this._initializeFromPort(wt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Pt){this._port=Pt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Pt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Pt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Pt)||(Pt=PDFWorkerUtil.createCDNWrapper(new URL(Pt,window.location).href));const wt=new Worker(Pt),kt=new _message_handler.MessageHandler("main","worker",wt),Mt=()=>{wt.removeEventListener("error",Dt),kt.destroy(),wt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Dt=()=>{this._webWorker||Mt()};wt.addEventListener("error",Dt),kt.on("test",Nt=>{if(wt.removeEventListener("error",Dt),this.destroyed){Mt();return}Nt?(this._messageHandler=kt,this._port=wt,this._webWorker=wt,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),kt.destroy(),wt.terminate())}),kt.on("ready",Nt=>{if(wt.removeEventListener("error",Dt),this.destroyed){Mt();return}try{Ht()}catch{this._setupFakeWorker()}});const Ht=()=>{const Nt=new Uint8Array;kt.send("test",Nt,[Nt.buffer])};Ht();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Pt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const wt=new LoopbackPort;this._port=wt;const kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Mt=new _message_handler.MessageHandler(kt+"_worker",kt,wt);Pt.setup(Mt,wt);const Dt=new _message_handler.MessageHandler(kt,kt+"_worker",wt);this._messageHandler=Dt,this._readyCapability.resolve(),Dt.send("configure",{verbosity:this.verbosity})}).catch(Pt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Pt.message}".`))})}destroy(){var Pt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Pt=_t(_PDFWorker,mt))==null||Pt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Pt){var kt;if(!(Pt!=null&&Pt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const wt=(kt=_t(this,mt))==null?void 0:kt.get(Pt.port);if(wt){if(wt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return wt}return new _PDFWorker(Pt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Pt;try{return((Pt=globalThis.pdfjsWorker)==null?void 0:Pt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};mt=new WeakMap,en(_PDFWorker,mt,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(wt,kt,Mt,Dt,Ht){en(this,pt);en(this,ft,new Map);en(this,gt,new Map);en(this,vt,new Map);en(this,dt,null);this.messageHandler=wt,this.loadingTask=kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Dt.ownerDocument,styleElement:Dt.styleElement}),this._params=Dt,this.canvasFactory=Ht.canvasFactory,this.filterFactory=Ht.filterFactory,this.cMapReaderFactory=Ht.cMapReaderFactory,this.standardFontDataFactory=Ht.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Mt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(wt,kt=_util.AnnotationMode.ENABLE,Mt=null,Dt=!1){let Ht=_util.RenderingIntentFlag.DISPLAY,Nt=_annotation_storage.SerializableEmpty;switch(wt){case"any":Ht=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ht=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${wt}`)}switch(kt){case _util.AnnotationMode.DISABLE:Ht+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ht+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ht+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Nt=(Ht&_util.RenderingIntentFlag.PRINT&&Mt instanceof _annotation_storage.PrintAnnotationStorage?Mt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${kt}`)}return Dt&&(Ht+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ht,cacheKey:`${Ht}_${Nt.hash}`,annotationStorageSerializable:Nt}}destroy(){var Mt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Mt=_t(this,dt))==null||Mt.reject(new Error("Worker was destroyed during onPassword callback"));const wt=[];for(const Dt of _t(this,gt).values())wt.push(Dt._destroy());_t(this,gt).clear(),_t(this,vt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const kt=this.messageHandler.sendWithPromise("Terminate",null);return wt.push(kt),Promise.all(wt).then(()=>{var Dt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,ft).clear(),this.filterFactory.destroy(),(Dt=this._networkStream)==null||Dt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:wt,loadingTask:kt}=this;wt.on("GetReader",(Mt,Dt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ht=>{this._lastProgress={loaded:Ht.loaded,total:Ht.total}},Dt.onPull=()=>{this._fullReader.read().then(function({value:Ht,done:Nt}){if(Nt){Dt.close();return}(0,_util.assert)(Ht instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Ht),1,[Ht])}).catch(Ht=>{Dt.error(Ht)})},Dt.onCancel=Ht=>{this._fullReader.cancel(Ht),Dt.ready.catch(Nt=>{if(!this.destroyed)throw Nt})}}),wt.on("ReaderHeadersReady",Mt=>{const Dt=new _util.PromiseCapability,Ht=this._fullReader;return Ht.headersReady.then(()=>{var Nt;(!Ht.isStreamingSupported||!Ht.isRangeSupported)&&(this._lastProgress&&((Nt=kt.onProgress)==null||Nt.call(kt,this._lastProgress)),Ht.onProgress=Vt=>{var qt;(qt=kt.onProgress)==null||qt.call(kt,{loaded:Vt.loaded,total:Vt.total})}),Dt.resolve({isStreamingSupported:Ht.isStreamingSupported,isRangeSupported:Ht.isRangeSupported,contentLength:Ht.contentLength})},Dt.reject),Dt.promise}),wt.on("GetRangeReader",(Mt,Dt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ht=this._networkStream.getRangeReader(Mt.begin,Mt.end);if(!Ht){Dt.close();return}Dt.onPull=()=>{Ht.read().then(function({value:Nt,done:Vt}){if(Vt){Dt.close();return}(0,_util.assert)(Nt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Nt),1,[Nt])}).catch(Nt=>{Dt.error(Nt)})},Dt.onCancel=Nt=>{Ht.cancel(Nt),Dt.ready.catch(Vt=>{if(!this.destroyed)throw Vt})}}),wt.on("GetDoc",({pdfInfo:Mt})=>{this._numPages=Mt.numPages,this._htmlForXfa=Mt.htmlForXfa,delete Mt.htmlForXfa,kt._capability.resolve(new PDFDocumentProxy(Mt,this))}),wt.on("DocException",function(Mt){let Dt;switch(Mt.name){case"PasswordException":Dt=new _util.PasswordException(Mt.message,Mt.code);break;case"InvalidPDFException":Dt=new _util.InvalidPDFException(Mt.message);break;case"MissingPDFException":Dt=new _util.MissingPDFException(Mt.message);break;case"UnexpectedResponseException":Dt=new _util.UnexpectedResponseException(Mt.message,Mt.status);break;case"UnknownErrorException":Dt=new _util.UnknownErrorException(Mt.message,Mt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}kt._capability.reject(Dt)}),wt.on("PasswordRequest",Mt=>{if(Pn(this,dt,new _util.PromiseCapability),kt.onPassword){const Dt=Ht=>{Ht instanceof Error?_t(this,dt).reject(Ht):_t(this,dt).resolve({password:Ht})};try{kt.onPassword(Dt,Mt.code)}catch(Ht){_t(this,dt).reject(Ht)}}else _t(this,dt).reject(new _util.PasswordException(Mt.message,Mt.code));return _t(this,dt).promise}),wt.on("DataLoaded",Mt=>{var Dt;(Dt=kt.onProgress)==null||Dt.call(kt,{loaded:Mt.length,total:Mt.length}),this.downloadInfoCapability.resolve(Mt)}),wt.on("StartRenderPage",Mt=>{if(this.destroyed)return;_t(this,gt).get(Mt.pageIndex)._startRenderPage(Mt.transparency,Mt.cacheKey)}),wt.on("commonobj",([Mt,Dt,Ht])=>{var Nt;if(!this.destroyed&&!this.commonObjs.has(Mt))switch(Dt){case"Font":const Vt=this._params;if("error"in Ht){const Bt=Ht.error;(0,_util.warn)(`Error during font loading: ${Bt}`),this.commonObjs.resolve(Mt,Bt);break}const qt=Vt.pdfBug&&((Nt=globalThis.FontInspector)!=null&&Nt.enabled)?(Bt,nn)=>globalThis.FontInspector.fontAdded(Bt,nn):null,un=new _font_loader.FontFaceObject(Ht,{isEvalSupported:Vt.isEvalSupported,disableFontFace:Vt.disableFontFace,ignoreErrors:Vt.ignoreErrors,inspectFont:qt});this.fontLoader.bind(un).catch(Bt=>wt.sendWithPromise("FontFallback",{id:Mt})).finally(()=>{!Vt.fontExtraProperties&&un.data&&(un.data=null),this.commonObjs.resolve(Mt,un)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Mt,Ht);break;default:throw new Error(`Got unknown common object type ${Dt}`)}}),wt.on("obj",([Mt,Dt,Ht,Nt])=>{var qt;if(this.destroyed)return;const Vt=_t(this,gt).get(Dt);if(!Vt.objs.has(Mt))switch(Ht){case"Image":if(Vt.objs.resolve(Mt,Nt),Nt){let un;if(Nt.bitmap){const{width:Bt,height:nn}=Nt;un=Bt*nn*4}else un=((qt=Nt.data)==null?void 0:qt.length)||0;un>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Vt._maybeCleanupAfterRender=!0)}break;case"Pattern":Vt.objs.resolve(Mt,Nt);break;default:throw new Error(`Got unknown object type ${Ht}`)}}),wt.on("DocProgress",Mt=>{var Dt;this.destroyed||(Dt=kt.onProgress)==null||Dt.call(kt,{loaded:Mt.loaded,total:Mt.total})}),wt.on("FetchBuiltInCMap",Mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Mt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),wt.on("FetchStandardFontData",Mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Mt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Mt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:wt,transfers:kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:wt,filename:((Mt=this._fullReader)==null?void 0:Mt.filename)??null},kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(wt){if(!Number.isInteger(wt)||wt<=0||wt>this._numPages)return Promise.reject(new Error("Invalid page request."));const kt=wt-1,Mt=_t(this,vt).get(kt);if(Mt)return Mt;const Dt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:kt}).then(Ht=>{if(this.destroyed)throw new Error("Transport destroyed");const Nt=new PDFPageProxy(kt,Ht,this,this._params.pdfBug);return _t(this,gt).set(kt,Nt),Nt});return _t(this,vt).set(kt,Dt),Dt}getPageIndex(wt){return typeof wt!="object"||wt===null||!Number.isInteger(wt.num)||wt.num<0||!Number.isInteger(wt.gen)||wt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:wt.num,gen:wt.gen})}getAnnotations(wt,kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:wt,intent:kt})}getFieldObjects(){return gn(this,pt,Ms).call(this,"GetFieldObjects")}hasJSActions(){return gn(this,pt,Ms).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(wt){return typeof wt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:wt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return gn(this,pt,Ms).call(this,"GetDocJSActions")}getPageJSActions(wt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:wt})}getStructTree(wt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:wt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(wt=>new _optional_content_config.OptionalContentConfig(wt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const wt="GetMetadata",kt=_t(this,ft).get(wt);if(kt)return kt;const Mt=this.messageHandler.sendWithPromise(wt,null).then(Dt=>{var Ht,Nt;return{info:Dt[0],metadata:Dt[1]?new _metadata.Metadata(Dt[1]):null,contentDispositionFilename:((Ht=this._fullReader)==null?void 0:Ht.filename)??null,contentLength:((Nt=this._fullReader)==null?void 0:Nt.contentLength)??null}});return _t(this,ft).set(wt,Mt),Mt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(wt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const kt of _t(this,gt).values())if(!kt.cleanup())throw new Error(`startCleanup: Page ${kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),wt||this.fontLoader.clear(),_t(this,ft).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:wt,enableXfa:kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:wt,enableXfa:kt})}}ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakSet,Ms=function(wt,kt=null){const Mt=_t(this,ft).get(wt);if(Mt)return Mt;const Dt=this.messageHandler.sendWithPromise(wt,kt);return _t(this,ft).set(wt,Dt),Dt};class PDFObjects{constructor(){en(this,xt);en(this,ct,Object.create(null))}get(wt,kt=null){if(kt){const Dt=gn(this,xt,ba).call(this,wt);return Dt.capability.promise.then(()=>kt(Dt.data)),null}const Mt=_t(this,ct)[wt];if(!(Mt!=null&&Mt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${wt}.`);return Mt.data}has(wt){const kt=_t(this,ct)[wt];return(kt==null?void 0:kt.capability.settled)||!1}resolve(wt,kt=null){const Mt=gn(this,xt,ba).call(this,wt);Mt.data=kt,Mt.capability.resolve()}clear(){var wt;for(const kt in _t(this,ct)){const{data:Mt}=_t(this,ct)[kt];(wt=Mt==null?void 0:Mt.bitmap)==null||wt.close()}Pn(this,ct,Object.create(null))}}ct=new WeakMap,xt=new WeakSet,ba=function(wt){var kt;return(kt=_t(this,ct))[wt]||(kt[wt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(wt){en(this,ht,null);Pn(this,ht,wt),this.onContinue=null}get promise(){return _t(this,ht).capability.promise}cancel(wt=0){_t(this,ht).cancel(null,wt)}get separateAnnots(){const{separateAnnots:wt}=_t(this,ht).operatorList;if(!wt)return!1;const{annotationCanvasMap:kt}=_t(this,ht);return wt.form||wt.canvas&&(kt==null?void 0:kt.size)>0}}ht=new WeakMap,exports.RenderTask=RenderTask;const Tt=class Tt{constructor({callback:wt,params:kt,objs:Mt,commonObjs:Dt,annotationCanvasMap:Ht,operatorList:Nt,pageIndex:Vt,canvasFactory:qt,filterFactory:un,useRequestAnimationFrame:Bt=!1,pdfBug:nn=!1,pageColors:tn=null}){this.callback=wt,this.params=kt,this.objs=Mt,this.commonObjs=Dt,this.annotationCanvasMap=Ht,this.operatorListIdx=null,this.operatorList=Nt,this._pageIndex=Vt,this.canvasFactory=qt,this.filterFactory=un,this._pdfBug=nn,this.pageColors=tn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Bt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:wt=!1,optionalContentConfig:kt}){var Vt,qt;if(this.cancelled)return;if(this._canvas){if(_t(Tt,bt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(Tt,bt).add(this._canvas)}this._pdfBug&&((Vt=globalThis.StepperManager)!=null&&Vt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Mt,viewport:Dt,transform:Ht,background:Nt}=this.params;this.gfx=new _canvas.CanvasGraphics(Mt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ht,viewport:Dt,transparency:wt,background:Nt}),this.operatorListIdx=0,this.graphicsReady=!0,(qt=this.graphicsReadyCallback)==null||qt.call(this)}cancel(wt=null,kt=0){var Mt;this.running=!1,this.cancelled=!0,(Mt=this.gfx)==null||Mt.endDrawing(),_t(Tt,bt).delete(this._canvas),this.callback(wt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,kt))}operatorListChanged(){var wt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(wt=this.stepper)==null||wt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(Tt,bt).delete(this._canvas),this.callback())))}};bt=new WeakMap,en(Tt,bt,new WeakSet);let InternalRenderTask=Tt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},($,_e,et)=>{var lt,at,mt,cu,gt;Object.defineProperty(_e,"__esModule",{value:!0}),_e.SerializableEmpty=_e.PrintAnnotationStorage=_e.AnnotationStorage=void 0;var tt=et(1),nt=et(4),rt=et(8);const it=Object.freeze({map:null,hash:"",transfers:void 0});_e.SerializableEmpty=it;class ot{constructor(){en(this,mt);en(this,lt,!1);en(this,at,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(dt,pt){const ut=_t(this,at).get(dt);return ut===void 0?pt:Object.assign(pt,ut)}getRawValue(dt){return _t(this,at).get(dt)}remove(dt){if(_t(this,at).delete(dt),_t(this,at).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pt of _t(this,at).values())if(pt instanceof nt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(dt,pt){const ut=_t(this,at).get(dt);let ct=!1;if(ut!==void 0)for(const[xt,yt]of Object.entries(pt))ut[xt]!==yt&&(ct=!0,ut[xt]=yt);else ct=!0,_t(this,at).set(dt,pt);ct&&gn(this,mt,cu).call(this),pt instanceof nt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pt.constructor._type)}has(dt){return _t(this,at).has(dt)}getAll(){return _t(this,at).size>0?(0,tt.objectFromMap)(_t(this,at)):null}setAll(dt){for(const[pt,ut]of Object.entries(dt))this.setValue(pt,ut)}get size(){return _t(this,at).size}resetModified(){_t(this,lt)&&(Pn(this,lt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if(_t(this,at).size===0)return it;const dt=new Map,pt=new rt.MurmurHash3_64,ut=[],ct=Object.create(null);let xt=!1;for(const[yt,ht]of _t(this,at)){const bt=ht instanceof nt.AnnotationEditor?ht.serialize(!1,ct):ht;bt&&(dt.set(yt,bt),pt.update(`${yt}:${JSON.stringify(bt)}`),xt||(xt=!!bt.bitmap))}if(xt)for(const yt of dt.values())yt.bitmap&&ut.push(yt.bitmap);return dt.size>0?{map:dt,hash:pt.hexdigest(),transfers:ut}:it}}lt=new WeakMap,at=new WeakMap,mt=new WeakSet,cu=function(){_t(this,lt)||(Pn(this,lt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},_e.AnnotationStorage=ot;class st extends ot{constructor(pt){super();en(this,gt,void 0);const{map:ut,hash:ct,transfers:xt}=pt.serializable,yt=structuredClone(ut,xt?{transfer:xt}:null);Pn(this,gt,{map:yt,hash:ct,transfers:xt})}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,gt)}}gt=new WeakMap,_e.PrintAnnotationStorage=st},($,_e,et)=>{var st,lt,at,mt,ft,gt,vt,dt,pt,ut,ct,xt,yt,ht,bt,_a,Pt,$a,kt,xl,Dt,yl,Nt,uu,qt,du,Bt,hu,tn,El,Nn,fu;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditor=void 0;var tt=et(5),nt=et(1),rt=et(6);const Et=class Et{constructor(St){en(this,bt);en(this,Pt);en(this,Dt);en(this,Nt);en(this,qt);en(this,Bt);en(this,tn);en(this,Nn);en(this,st,"");en(this,lt,!1);en(this,at,null);en(this,mt,null);en(this,ft,null);en(this,gt,!1);en(this,vt,null);en(this,dt,this.focusin.bind(this));en(this,pt,this.focusout.bind(this));en(this,ut,!1);en(this,ct,!1);en(this,xt,!1);Eo(this,"_initialOptions",Object.create(null));Eo(this,"_uiManager",null);Eo(this,"_focusEventsAllowed",!0);Eo(this,"_l10nPromise",null);en(this,yt,!1);en(this,ht,Et._zIndex++);this.constructor===Et&&(0,nt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=St.parent,this.id=St.id,this.width=this.height=null,this.pageIndex=St.parent.pageIndex,this.name=St.name,this.div=null,this._uiManager=St.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=St.isCentered,this._structTreeParentId=null;const{rotation:Rt,rawDims:{pageWidth:jt,pageHeight:It,pageX:zt,pageY:Wt}}=this.parent.viewport;this.rotation=Rt,this.pageRotation=(360+Rt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[jt,It],this.pageTranslation=[zt,Wt];const[Zt,Kt]=this.parentDimensions;this.x=St.x/Zt,this.y=St.y/Kt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,nt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(St){const Rt=new ot({id:St.parent.getNextId(),parent:St.parent,uiManager:St._uiManager});Rt.annotationElementId=St.annotationElementId,Rt.deleted=!0,Rt._uiManager.addToAnnotationStorage(Rt)}static initialize(St,Rt=null){if(Et._l10nPromise||(Et._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(It=>[It,St.get(It)]))),Rt!=null&&Rt.strings)for(const It of Rt.strings)Et._l10nPromise.set(It,St.get(It));if(Et._borderLineWidth!==-1)return;const jt=getComputedStyle(document.documentElement);Et._borderLineWidth=parseFloat(jt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(St,Rt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(St){return!1}static paste(St,Rt){(0,nt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,yt)}set _isDraggable(St){var Rt;Pn(this,yt,St),(Rt=this.div)==null||Rt.classList.toggle("draggable",St)}center(){const[St,Rt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Rt/(St*2),this.y+=this.width*St/(Rt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Rt/(St*2),this.y-=this.width*St/(Rt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(St){this._uiManager.addCommands(St)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,ht)}setParent(St){St!==null&&(this.pageIndex=St.pageIndex,this.pageDimensions=St.pageDimensions),this.parent=St}focusin(St){this._focusEventsAllowed&&(_t(this,ut)?Pn(this,ut,!1):this.parent.setSelected(this))}focusout(St){var jt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Rt=St.relatedTarget;Rt!=null&&Rt.closest(`#${this.id}`)||(St.preventDefault(),(jt=this.parent)!=null&&jt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(St,Rt,jt,It){const[zt,Wt]=this.parentDimensions;[jt,It]=this.screenToPageTranslation(jt,It),this.x=(St+jt)/zt,this.y=(Rt+It)/Wt,this.fixAndSetPosition()}translate(St,Rt){gn(this,bt,_a).call(this,this.parentDimensions,St,Rt)}translateInPage(St,Rt){gn(this,bt,_a).call(this,this.pageDimensions,St,Rt),this.div.scrollIntoView({block:"nearest"})}drag(St,Rt){const[jt,It]=this.parentDimensions;if(this.x+=St/jt,this.y+=Rt/It,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Xt,y:rn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Xt,rn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:zt,y:Wt}=this;const[Zt,Kt]=gn(this,Pt,$a).call(this);zt+=Zt,Wt+=Kt,this.div.style.left=`${(100*zt).toFixed(2)}%`,this.div.style.top=`${(100*Wt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[St,Rt]=this.pageDimensions;let{x:jt,y:It,width:zt,height:Wt}=this;switch(zt*=St,Wt*=Rt,jt*=St,It*=Rt,this.rotation){case 0:jt=Math.max(0,Math.min(St-zt,jt)),It=Math.max(0,Math.min(Rt-Wt,It));break;case 90:jt=Math.max(0,Math.min(St-Wt,jt)),It=Math.min(Rt,Math.max(zt,It));break;case 180:jt=Math.min(St,Math.max(zt,jt)),It=Math.min(Rt,Math.max(Wt,It));break;case 270:jt=Math.min(St,Math.max(Wt,jt)),It=Math.max(0,Math.min(Rt-zt,It));break}this.x=jt/=St,this.y=It/=Rt;const[Zt,Kt]=gn(this,Pt,$a).call(this);jt+=Zt,It+=Kt;const{style:Xt}=this.div;Xt.left=`${(100*jt).toFixed(2)}%`,Xt.top=`${(100*It).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(St,Rt){var jt;return gn(jt=Et,kt,xl).call(jt,St,Rt,this.parentRotation)}pageTranslationToScreen(St,Rt){var jt;return gn(jt=Et,kt,xl).call(jt,St,Rt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:St,pageDimensions:[Rt,jt]}=this,It=Rt*St,zt=jt*St;return nt.FeatureTest.isCSSRoundSupported?[Math.round(It),Math.round(zt)]:[It,zt]}setDims(St,Rt){var zt;const[jt,It]=this.parentDimensions;this.div.style.width=`${(100*St/jt).toFixed(2)}%`,_t(this,gt)||(this.div.style.height=`${(100*Rt/It).toFixed(2)}%`),(zt=_t(this,at))==null||zt.classList.toggle("small",St<Et.SMALL_EDITOR_SIZE||Rt<Et.SMALL_EDITOR_SIZE)}fixDims(){const{style:St}=this.div,{height:Rt,width:jt}=St,It=jt.endsWith("%"),zt=!_t(this,gt)&&Rt.endsWith("%");if(It&&zt)return;const[Wt,Zt]=this.parentDimensions;It||(St.width=`${(100*parseFloat(jt)/Wt).toFixed(2)}%`),!_t(this,gt)&&!zt&&(St.height=`${(100*parseFloat(Rt)/Zt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_t(this,at))return;const St=Pn(this,at,document.createElement("button"));St.className="altText";const Rt=await Et._l10nPromise.get("editor_alt_text_button_label");St.textContent=Rt,St.setAttribute("aria-label",Rt),St.tabIndex="0",St.addEventListener("contextmenu",rt.noContextMenu),St.addEventListener("pointerdown",jt=>jt.stopPropagation()),St.addEventListener("click",jt=>{jt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),St.addEventListener("keydown",jt=>{jt.target===St&&jt.key==="Enter"&&(jt.preventDefault(),this._uiManager.editAltText(this))}),gn(this,tn,El).call(this),this.div.append(St),Et.SMALL_EDITOR_SIZE||(Et.SMALL_EDITOR_SIZE=Math.min(128,Math.round(St.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_t(this,st),decorative:_t(this,lt)}}set altTextData({altText:St,decorative:Rt}){_t(this,st)===St&&_t(this,lt)===Rt||(Pn(this,st,St),Pn(this,lt,Rt),gn(this,tn,El).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_t(this,dt)),this.div.addEventListener("focusout",_t(this,pt));const[St,Rt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Rt/St).toFixed(2)}%`,this.div.style.maxHeight=`${(100*St/Rt).toFixed(2)}%`);const[jt,It]=this.getInitialTranslation();return this.translate(jt,It),(0,tt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(St){const{isMac:Rt}=nt.FeatureTest.platform;if(St.button!==0||St.ctrlKey&&Rt){St.preventDefault();return}Pn(this,ut,!0),gn(this,Nn,fu).call(this,St)}moveInDOM(){var St;(St=this.parent)==null||St.moveEditorInDOM(this)}_setParentAndPosition(St,Rt,jt){St.changeParent(this),this.x=Rt,this.y=jt,this.fixAndSetPosition()}getRect(St,Rt){const jt=this.parentScale,[It,zt]=this.pageDimensions,[Wt,Zt]=this.pageTranslation,Kt=St/jt,Xt=Rt/jt,rn=this.x*It,bn=this.y*zt,En=this.width*It,Tn=this.height*zt;switch(this.rotation){case 0:return[rn+Kt+Wt,zt-bn-Xt-Tn+Zt,rn+Kt+En+Wt,zt-bn-Xt+Zt];case 90:return[rn+Xt+Wt,zt-bn+Kt+Zt,rn+Xt+Tn+Wt,zt-bn+Kt+En+Zt];case 180:return[rn-Kt-En+Wt,zt-bn+Xt+Zt,rn-Kt+Wt,zt-bn+Xt+Tn+Zt];case 270:return[rn-Xt-Tn+Wt,zt-bn-Kt-En+Zt,rn-Xt+Wt,zt-bn-Kt+Zt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(St,Rt){const[jt,It,zt,Wt]=St,Zt=zt-jt,Kt=Wt-It;switch(this.rotation){case 0:return[jt,Rt-Wt,Zt,Kt];case 90:return[jt,Rt-It,Kt,Zt];case 180:return[zt,Rt-It,Zt,Kt];case 270:return[zt,Rt-Wt,Kt,Zt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Pn(this,xt,!0)}disableEditMode(){Pn(this,xt,!1)}isInEditMode(){return _t(this,xt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var St,Rt;(St=this.div)==null||St.addEventListener("focusin",_t(this,dt)),(Rt=this.div)==null||Rt.addEventListener("focusout",_t(this,pt))}serialize(St=!1,Rt=null){(0,nt.unreachable)("An editor must be serializable")}static deserialize(St,Rt,jt){const It=new this.prototype.constructor({parent:Rt,id:Rt.getNextId(),uiManager:jt});It.rotation=St.rotation;const[zt,Wt]=It.pageDimensions,[Zt,Kt,Xt,rn]=It.getRectInCurrentCoords(St.rect,Wt);return It.x=Zt/zt,It.y=Kt/Wt,It.width=Xt/zt,It.height=rn/Wt,It}remove(){var St;this.div.removeEventListener("focusin",_t(this,dt)),this.div.removeEventListener("focusout",_t(this,pt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(St=_t(this,at))==null||St.remove(),Pn(this,at,null),Pn(this,mt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(gn(this,Nt,uu).call(this),_t(this,vt).classList.remove("hidden"))}select(){var St;this.makeResizable(),(St=this.div)==null||St.classList.add("selectedEditor")}unselect(){var St,Rt,jt;(St=_t(this,vt))==null||St.classList.add("hidden"),(Rt=this.div)==null||Rt.classList.remove("selectedEditor"),(jt=this.div)!=null&&jt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(St,Rt){}disableEditing(){_t(this,at)&&(_t(this,at).hidden=!0)}enableEditing(){_t(this,at)&&(_t(this,at).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _t(this,ct)}set isEditing(St){Pn(this,ct,St),this.parent&&(St?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(St,Rt){Pn(this,gt,!0);const jt=St/Rt,{style:It}=this.div;It.aspectRatio=jt,It.height="auto"}static get MIN_SIZE(){return 16}};st=new WeakMap,lt=new WeakMap,at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ct=new WeakMap,xt=new WeakMap,yt=new WeakMap,ht=new WeakMap,bt=new WeakSet,_a=function([St,Rt],jt,It){[jt,It]=this.screenToPageTranslation(jt,It),this.x+=jt/St,this.y+=It/Rt,this.fixAndSetPosition()},Pt=new WeakSet,$a=function(){const[St,Rt]=this.parentDimensions,{_borderLineWidth:jt}=Et,It=jt/St,zt=jt/Rt;switch(this.rotation){case 90:return[-It,zt];case 180:return[It,zt];case 270:return[It,-zt];default:return[-It,-zt]}},kt=new WeakSet,xl=function(St,Rt,jt){switch(jt){case 90:return[Rt,-St];case 180:return[-St,-Rt];case 270:return[-Rt,St];default:return[St,Rt]}},Dt=new WeakSet,yl=function(St){switch(St){case 90:{const[Rt,jt]=this.pageDimensions;return[0,-Rt/jt,jt/Rt,0]}case 180:return[-1,0,0,-1];case 270:{const[Rt,jt]=this.pageDimensions;return[0,Rt/jt,-jt/Rt,0]}default:return[1,0,0,1]}},Nt=new WeakSet,uu=function(){if(_t(this,vt))return;Pn(this,vt,document.createElement("div")),_t(this,vt).classList.add("resizers");const St=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||St.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Rt of St){const jt=document.createElement("div");_t(this,vt).append(jt),jt.classList.add("resizer",Rt),jt.addEventListener("pointerdown",gn(this,qt,du).bind(this,Rt)),jt.addEventListener("contextmenu",rt.noContextMenu)}this.div.prepend(_t(this,vt))},qt=new WeakSet,du=function(St,Rt){Rt.preventDefault();const{isMac:jt}=nt.FeatureTest.platform;if(Rt.button!==0||Rt.ctrlKey&&jt)return;const It=gn(this,Bt,hu).bind(this,St),zt=this._isDraggable;this._isDraggable=!1;const Wt={passive:!0,capture:!0};window.addEventListener("pointermove",It,Wt);const Zt=this.x,Kt=this.y,Xt=this.width,rn=this.height,bn=this.parent.div.style.cursor,En=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Rt.target).cursor;const Tn=()=>{this._isDraggable=zt,window.removeEventListener("pointerup",Tn),window.removeEventListener("blur",Tn),window.removeEventListener("pointermove",It,Wt),this.parent.div.style.cursor=bn,this.div.style.cursor=En;const In=this.x,Fn=this.y,qn=this.width,An=this.height;In===Zt&&Fn===Kt&&qn===Xt&&An===rn||this.addCommands({cmd:()=>{this.width=qn,this.height=An,this.x=In,this.y=Fn;const[hn,pn]=this.parentDimensions;this.setDims(hn*qn,pn*An),this.fixAndSetPosition()},undo:()=>{this.width=Xt,this.height=rn,this.x=Zt,this.y=Kt;const[hn,pn]=this.parentDimensions;this.setDims(hn*Xt,pn*rn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Tn),window.addEventListener("blur",Tn)},Bt=new WeakSet,hu=function(St,Rt){const[jt,It]=this.parentDimensions,zt=this.x,Wt=this.y,Zt=this.width,Kt=this.height,Xt=Et.MIN_SIZE/jt,rn=Et.MIN_SIZE/It,bn=Un=>Math.round(Un*1e4)/1e4,En=gn(this,Dt,yl).call(this,this.rotation),Tn=(Un,Ln)=>[En[0]*Un+En[2]*Ln,En[1]*Un+En[3]*Ln],In=gn(this,Dt,yl).call(this,360-this.rotation),Fn=(Un,Ln)=>[In[0]*Un+In[2]*Ln,In[1]*Un+In[3]*Ln];let qn,An,hn=!1,pn=!1;switch(St){case"topLeft":hn=!0,qn=(Un,Ln)=>[0,0],An=(Un,Ln)=>[Un,Ln];break;case"topMiddle":qn=(Un,Ln)=>[Un/2,0],An=(Un,Ln)=>[Un/2,Ln];break;case"topRight":hn=!0,qn=(Un,Ln)=>[Un,0],An=(Un,Ln)=>[0,Ln];break;case"middleRight":pn=!0,qn=(Un,Ln)=>[Un,Ln/2],An=(Un,Ln)=>[0,Ln/2];break;case"bottomRight":hn=!0,qn=(Un,Ln)=>[Un,Ln],An=(Un,Ln)=>[0,0];break;case"bottomMiddle":qn=(Un,Ln)=>[Un/2,Ln],An=(Un,Ln)=>[Un/2,0];break;case"bottomLeft":hn=!0,qn=(Un,Ln)=>[0,Ln],An=(Un,Ln)=>[Un,0];break;case"middleLeft":pn=!0,qn=(Un,Ln)=>[0,Ln/2],An=(Un,Ln)=>[Un,Ln/2];break}const jn=qn(Zt,Kt),Gn=An(Zt,Kt);let Xn=Tn(...Gn);const mr=bn(zt+Xn[0]),Sr=bn(Wt+Xn[1]);let br=1,kr=1,[Rr,xr]=this.screenToPageTranslation(Rt.movementX,Rt.movementY);if([Rr,xr]=Fn(Rr/jt,xr/It),hn){const Un=Math.hypot(Zt,Kt);br=kr=Math.max(Math.min(Math.hypot(Gn[0]-jn[0]-Rr,Gn[1]-jn[1]-xr)/Un,1/Zt,1/Kt),Xt/Zt,rn/Kt)}else pn?br=Math.max(Xt,Math.min(1,Math.abs(Gn[0]-jn[0]-Rr)))/Zt:kr=Math.max(rn,Math.min(1,Math.abs(Gn[1]-jn[1]-xr)))/Kt;const Nr=bn(Zt*br),On=bn(Kt*kr);Xn=Tn(...An(Nr,On));const mn=mr-Xn[0],an=Sr-Xn[1];this.width=Nr,this.height=On,this.x=mn,this.y=an,this.setDims(jt*Nr,It*On),this.fixAndSetPosition()},tn=new WeakSet,El=async function(){var jt;const St=_t(this,at);if(!St)return;if(!_t(this,st)&&!_t(this,lt)){St.classList.remove("done"),(jt=_t(this,mt))==null||jt.remove();return}Et._l10nPromise.get("editor_alt_text_edit_button_label").then(It=>{St.setAttribute("aria-label",It)});let Rt=_t(this,mt);if(!Rt){Pn(this,mt,Rt=document.createElement("span")),Rt.className="tooltip",Rt.setAttribute("role","tooltip");const It=Rt.id=`alt-text-tooltip-${this.id}`;St.setAttribute("aria-describedby",It);const zt=100;St.addEventListener("mouseenter",()=>{Pn(this,ft,setTimeout(()=>{Pn(this,ft,null),_t(this,mt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},zt))}),St.addEventListener("mouseleave",()=>{var Wt;clearTimeout(_t(this,ft)),Pn(this,ft,null),(Wt=_t(this,mt))==null||Wt.classList.remove("show")})}St.classList.add("done"),Rt.innerText=_t(this,lt)?await Et._l10nPromise.get("editor_alt_text_decorative_tooltip"):_t(this,st),Rt.parentNode||St.append(Rt)},Nn=new WeakSet,fu=function(St){if(!this._isDraggable)return;const Rt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let jt,It;Rt&&(jt={passive:!0,capture:!0},It=Wt=>{const[Zt,Kt]=this.screenToPageTranslation(Wt.movementX,Wt.movementY);this._uiManager.dragSelectedEditors(Zt,Kt)},window.addEventListener("pointermove",It,jt));const zt=()=>{if(window.removeEventListener("pointerup",zt),window.removeEventListener("blur",zt),Rt&&window.removeEventListener("pointermove",It,jt),Pn(this,ut,!1),!this._uiManager.endDragSession()){const{isMac:Wt}=nt.FeatureTest.platform;St.ctrlKey&&!Wt||St.shiftKey||St.metaKey&&Wt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",zt),window.addEventListener("blur",zt)},en(Et,kt),Eo(Et,"_borderLineWidth",-1),Eo(Et,"_colorManager",new tt.ColorManager),Eo(Et,"_zIndex",1),Eo(Et,"SMALL_EDITOR_SIZE",0);let it=Et;_e.AnnotationEditor=it;class ot extends it{constructor(St){super(St),this.annotationElementId=St.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},($,_e,et)=>{var gt,vt,dt,pt,ut,Sl,yt,ht,bt,Tt,Pt,pu,Mt,Dt,Ht,Nt,Vt,qt,un,Bt,nn,tn,_n,Nn,Lt,Et,Ct,St,Rt,jt,It,zt,Wt,Zt,Kt,Xt,rn,bn,En,Tn,In,Fn,qn,An,hn,pn,jn,mu,Xn,_l,Sr,wl,kr,Ns,xr,Cl,On,Rl,an,Go,Ln,Es,ro,gu,Qn,vu,Zn,Al,gr,Ss,Vn,Pl;Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeyboardManager=_e.CommandManager=_e.ColorManager=_e.AnnotationEditorUIManager=void 0,_e.bindEvents=rt,_e.opacityToHex=it;var tt=et(1),nt=et(6);function rt(Qt,At,Ft){for(const Yt of Ft)At.addEventListener(Yt,Qt[Yt].bind(Qt))}function it(Qt){return Math.round(Math.min(255,Math.max(1,255*Qt))).toString(16).padStart(2,"0")}class ot{constructor(){en(this,gt,0)}getId(){return`${tt.AnnotationEditorPrefix}${bs(this,gt)._++}`}}gt=new WeakMap;const xt=class xt{constructor(){en(this,ut);en(this,vt,(0,tt.getUuid)());en(this,dt,0);en(this,pt,null)}static get _isSVGFittingCanvas(){const At='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Yt=new OffscreenCanvas(1,3).getContext("2d"),cn=new Image;cn.src=At;const vn=cn.decode().then(()=>(Yt.drawImage(cn,0,0,1,1,0,0,1,3),new Uint32Array(Yt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,tt.shadow)(this,"_isSVGFittingCanvas",vn)}async getFromFile(At){const{lastModified:Ft,name:Yt,size:cn,type:vn}=At;return gn(this,ut,Sl).call(this,`${Ft}_${Yt}_${cn}_${vn}`,At)}async getFromUrl(At){return gn(this,ut,Sl).call(this,At,At)}async getFromId(At){_t(this,pt)||Pn(this,pt,new Map);const Ft=_t(this,pt).get(At);return Ft?Ft.bitmap?(Ft.refCounter+=1,Ft):Ft.file?this.getFromFile(Ft.file):this.getFromUrl(Ft.url):null}getSvgUrl(At){const Ft=_t(this,pt).get(At);return Ft!=null&&Ft.isSvg?Ft.svgUrl:null}deleteId(At){_t(this,pt)||Pn(this,pt,new Map);const Ft=_t(this,pt).get(At);Ft&&(Ft.refCounter-=1,Ft.refCounter===0&&(Ft.bitmap=null))}isValidId(At){return At.startsWith(`image_${_t(this,vt)}_`)}};vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakSet,Sl=async function(At,Ft){_t(this,pt)||Pn(this,pt,new Map);let Yt=_t(this,pt).get(At);if(Yt===null)return null;if(Yt!=null&&Yt.bitmap)return Yt.refCounter+=1,Yt;try{Yt||(Yt={bitmap:null,id:`image_${_t(this,vt)}_${bs(this,dt)._++}`,refCounter:0,isSvg:!1});let cn;if(typeof Ft=="string"){Yt.url=Ft;const vn=await fetch(Ft);if(!vn.ok)throw new Error(vn.statusText);cn=await vn.blob()}else cn=Yt.file=Ft;if(cn.type==="image/svg+xml"){const vn=xt._isSVGFittingCanvas,$n=new FileReader,zn=new Image,nr=new Promise((er,Ar)=>{zn.onload=()=>{Yt.bitmap=zn,Yt.isSvg=!0,er()},$n.onload=async()=>{const ar=Yt.svgUrl=$n.result;zn.src=await vn?`${ar}#svgView(preserveAspectRatio(none))`:ar},zn.onerror=$n.onerror=Ar});$n.readAsDataURL(cn),await nr}else Yt.bitmap=await createImageBitmap(cn);Yt.refCounter=1}catch(cn){console.error(cn),Yt=null}return _t(this,pt).set(At,Yt),Yt&&_t(this,pt).set(Yt.id,Yt),Yt};let st=xt;class lt{constructor(At=128){en(this,yt,[]);en(this,ht,!1);en(this,bt,void 0);en(this,Tt,-1);Pn(this,bt,At)}add({cmd:At,undo:Ft,mustExec:Yt,type:cn=NaN,overwriteIfSameType:vn=!1,keepUndo:$n=!1}){if(Yt&&At(),_t(this,ht))return;const zn={cmd:At,undo:Ft,type:cn};if(_t(this,Tt)===-1){_t(this,yt).length>0&&(_t(this,yt).length=0),Pn(this,Tt,0),_t(this,yt).push(zn);return}if(vn&&_t(this,yt)[_t(this,Tt)].type===cn){$n&&(zn.undo=_t(this,yt)[_t(this,Tt)].undo),_t(this,yt)[_t(this,Tt)]=zn;return}const nr=_t(this,Tt)+1;nr===_t(this,bt)?_t(this,yt).splice(0,1):(Pn(this,Tt,nr),nr<_t(this,yt).length&&_t(this,yt).splice(nr)),_t(this,yt).push(zn)}undo(){_t(this,Tt)!==-1&&(Pn(this,ht,!0),_t(this,yt)[_t(this,Tt)].undo(),Pn(this,ht,!1),Pn(this,Tt,_t(this,Tt)-1))}redo(){_t(this,Tt)<_t(this,yt).length-1&&(Pn(this,Tt,_t(this,Tt)+1),Pn(this,ht,!0),_t(this,yt)[_t(this,Tt)].cmd(),Pn(this,ht,!1))}hasSomethingToUndo(){return _t(this,Tt)!==-1}hasSomethingToRedo(){return _t(this,Tt)<_t(this,yt).length-1}destroy(){Pn(this,yt,null)}}yt=new WeakMap,ht=new WeakMap,bt=new WeakMap,Tt=new WeakMap,_e.CommandManager=lt;class at{constructor(At){en(this,Pt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ft}=tt.FeatureTest.platform;for(const[Yt,cn,vn={}]of At)for(const $n of Yt){const zn=$n.startsWith("mac+");Ft&&zn?(this.callbacks.set($n.slice(4),{callback:cn,options:vn}),this.allKeys.add($n.split("+").at(-1))):!Ft&&!zn&&(this.callbacks.set($n,{callback:cn,options:vn}),this.allKeys.add($n.split("+").at(-1)))}}exec(At,Ft){if(!this.allKeys.has(Ft.key))return;const Yt=this.callbacks.get(gn(this,Pt,pu).call(this,Ft));if(!Yt)return;const{callback:cn,options:{bubbles:vn=!1,args:$n=[],checker:zn=null}}=Yt;zn&&!zn(At,Ft)||(cn.bind(At,...$n)(),vn||(Ft.stopPropagation(),Ft.preventDefault()))}}Pt=new WeakSet,pu=function(At){At.altKey&&this.buffer.push("alt"),At.ctrlKey&&this.buffer.push("ctrl"),At.metaKey&&this.buffer.push("meta"),At.shiftKey&&this.buffer.push("shift"),this.buffer.push(At.key);const Ft=this.buffer.join("+");return this.buffer.length=0,Ft},_e.KeyboardManager=at;const kt=class kt{get _colors(){const At=new Map([["CanvasText",null],["Canvas",null]]);return(0,nt.getColorValues)(At),(0,tt.shadow)(this,"_colors",At)}convert(At){const Ft=(0,nt.getRGB)(At);if(!window.matchMedia("(forced-colors: active)").matches)return Ft;for(const[Yt,cn]of this._colors)if(cn.every((vn,$n)=>vn===Ft[$n]))return kt._colorsMapping.get(Yt);return Ft}getHexCode(At){const Ft=this._colors.get(At);return Ft?tt.Util.makeHexColor(...Ft):At}};Eo(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let mt=kt;_e.ColorManager=mt;const hr=class hr{constructor(At,Ft,Yt,cn,vn,$n){en(this,jn);en(this,Xn);en(this,Sr);en(this,kr);en(this,xr);en(this,On);en(this,an);en(this,Ln);en(this,ro);en(this,Qn);en(this,Zn);en(this,gr);en(this,Vn);en(this,Mt,null);en(this,Dt,new Map);en(this,Ht,new Map);en(this,Nt,null);en(this,Vt,null);en(this,qt,new lt);en(this,un,0);en(this,Bt,new Set);en(this,nn,null);en(this,tn,null);en(this,_n,new Set);en(this,Nn,null);en(this,Lt,new ot);en(this,Et,!1);en(this,Ct,!1);en(this,St,null);en(this,Rt,tt.AnnotationEditorType.NONE);en(this,jt,new Set);en(this,It,null);en(this,zt,this.blur.bind(this));en(this,Wt,this.focus.bind(this));en(this,Zt,this.copy.bind(this));en(this,Kt,this.cut.bind(this));en(this,Xt,this.paste.bind(this));en(this,rn,this.keydown.bind(this));en(this,bn,this.onEditingAction.bind(this));en(this,En,this.onPageChanging.bind(this));en(this,Tn,this.onScaleChanging.bind(this));en(this,In,this.onRotationChanging.bind(this));en(this,Fn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});en(this,qn,[0,0]);en(this,An,null);en(this,hn,null);en(this,pn,null);Pn(this,hn,At),Pn(this,pn,Ft),Pn(this,Nt,Yt),this._eventBus=cn,this._eventBus._on("editingaction",_t(this,bn)),this._eventBus._on("pagechanging",_t(this,En)),this._eventBus._on("scalechanging",_t(this,Tn)),this._eventBus._on("rotationchanging",_t(this,In)),Pn(this,Vt,vn.annotationStorage),Pn(this,Nn,vn.filterFactory),Pn(this,It,$n),this.viewParameters={realScale:nt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const At=hr.prototype,Ft=vn=>{const{activeElement:$n}=document;return $n&&_t(vn,hn).contains($n)&&vn.hasSomethingToControl()},Yt=this.TRANSLATE_SMALL,cn=this.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new at([[["ctrl+a","mac+meta+a"],At.selectAll],[["ctrl+z","mac+meta+z"],At.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],At.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],At.delete],[["Escape","mac+Escape"],At.unselectAll],[["ArrowLeft","mac+ArrowLeft"],At.translateSelectedEditors,{args:[-Yt,0],checker:Ft}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],At.translateSelectedEditors,{args:[-cn,0],checker:Ft}],[["ArrowRight","mac+ArrowRight"],At.translateSelectedEditors,{args:[Yt,0],checker:Ft}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],At.translateSelectedEditors,{args:[cn,0],checker:Ft}],[["ArrowUp","mac+ArrowUp"],At.translateSelectedEditors,{args:[0,-Yt],checker:Ft}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],At.translateSelectedEditors,{args:[0,-cn],checker:Ft}],[["ArrowDown","mac+ArrowDown"],At.translateSelectedEditors,{args:[0,Yt],checker:Ft}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],At.translateSelectedEditors,{args:[0,cn],checker:Ft}]]))}destroy(){gn(this,kr,Ns).call(this),gn(this,Xn,_l).call(this),this._eventBus._off("editingaction",_t(this,bn)),this._eventBus._off("pagechanging",_t(this,En)),this._eventBus._off("scalechanging",_t(this,Tn)),this._eventBus._off("rotationchanging",_t(this,In));for(const At of _t(this,Ht).values())At.destroy();_t(this,Ht).clear(),_t(this,Dt).clear(),_t(this,_n).clear(),Pn(this,Mt,null),_t(this,jt).clear(),_t(this,qt).destroy(),_t(this,Nt).destroy()}get hcmFilter(){return(0,tt.shadow)(this,"hcmFilter",_t(this,It)?_t(this,Nn).addHCMFilter(_t(this,It).foreground,_t(this,It).background):"none")}get direction(){return(0,tt.shadow)(this,"direction",getComputedStyle(_t(this,hn)).direction)}editAltText(At){var Ft;(Ft=_t(this,Nt))==null||Ft.editAltText(this,At)}onPageChanging({pageNumber:At}){Pn(this,un,At-1)}focusMainContainer(){_t(this,hn).focus()}findParent(At,Ft){for(const Yt of _t(this,Ht).values()){const{x:cn,y:vn,width:$n,height:zn}=Yt.div.getBoundingClientRect();if(At>=cn&&At<=cn+$n&&Ft>=vn&&Ft<=vn+zn)return Yt}return null}disableUserSelect(At=!1){_t(this,pn).classList.toggle("noUserSelect",At)}addShouldRescale(At){_t(this,_n).add(At)}removeShouldRescale(At){_t(this,_n).delete(At)}onScaleChanging({scale:At}){this.commitOrRemove(),this.viewParameters.realScale=At*nt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ft of _t(this,_n))Ft.onScaleChanging()}onRotationChanging({pagesRotation:At}){this.commitOrRemove(),this.viewParameters.rotation=At}addToAnnotationStorage(At){!At.isEmpty()&&_t(this,Vt)&&!_t(this,Vt).has(At.id)&&_t(this,Vt).setValue(At.id,At)}blur(){if(!this.hasSelection)return;const{activeElement:At}=document;for(const Ft of _t(this,jt))if(Ft.div.contains(At)){Pn(this,St,[Ft,At]),Ft._focusEventsAllowed=!1;break}}focus(){if(!_t(this,St))return;const[At,Ft]=_t(this,St);Pn(this,St,null),Ft.addEventListener("focusin",()=>{At._focusEventsAllowed=!0},{once:!0}),Ft.focus()}addEditListeners(){gn(this,Sr,wl).call(this),gn(this,xr,Cl).call(this)}removeEditListeners(){gn(this,kr,Ns).call(this),gn(this,On,Rl).call(this)}copy(At){var Yt;if(At.preventDefault(),(Yt=_t(this,Mt))==null||Yt.commitOrRemove(),!this.hasSelection)return;const Ft=[];for(const cn of _t(this,jt)){const vn=cn.serialize(!0);vn&&Ft.push(vn)}Ft.length!==0&&At.clipboardData.setData("application/pdfjs",JSON.stringify(Ft))}cut(At){this.copy(At),this.delete()}paste(At){At.preventDefault();const{clipboardData:Ft}=At;for(const vn of Ft.items)for(const $n of _t(this,tn))if($n.isHandlingMimeForPasting(vn.type)){$n.paste(vn,this.currentLayer);return}let Yt=Ft.getData("application/pdfjs");if(!Yt)return;try{Yt=JSON.parse(Yt)}catch(vn){(0,tt.warn)(`paste: "${vn.message}".`);return}if(!Array.isArray(Yt))return;this.unselectAll();const cn=this.currentLayer;try{const vn=[];for(const nr of Yt){const er=cn.deserialize(nr);if(!er)return;vn.push(er)}const $n=()=>{for(const nr of vn)gn(this,Zn,Al).call(this,nr);gn(this,Vn,Pl).call(this,vn)},zn=()=>{for(const nr of vn)nr.remove()};this.addCommands({cmd:$n,undo:zn,mustExec:!0})}catch(vn){(0,tt.warn)(`paste: "${vn.message}".`)}}keydown(At){var Ft;(Ft=this.getActive())!=null&&Ft.shouldGetKeyboardEvents()||hr._keyboardManager.exec(this,At)}onEditingAction(At){["undo","redo","delete","selectAll"].includes(At.name)&&this[At.name]()}setEditingState(At){At?(gn(this,jn,mu).call(this),gn(this,Sr,wl).call(this),gn(this,xr,Cl).call(this),gn(this,an,Go).call(this,{isEditing:_t(this,Rt)!==tt.AnnotationEditorType.NONE,isEmpty:gn(this,gr,Ss).call(this),hasSomethingToUndo:_t(this,qt).hasSomethingToUndo(),hasSomethingToRedo:_t(this,qt).hasSomethingToRedo(),hasSelectedEditor:!1})):(gn(this,Xn,_l).call(this),gn(this,kr,Ns).call(this),gn(this,On,Rl).call(this),gn(this,an,Go).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(At){if(!_t(this,tn)){Pn(this,tn,At);for(const Ft of _t(this,tn))gn(this,Ln,Es).call(this,Ft.defaultPropertiesToUpdate)}}getId(){return _t(this,Lt).getId()}get currentLayer(){return _t(this,Ht).get(_t(this,un))}getLayer(At){return _t(this,Ht).get(At)}get currentPageIndex(){return _t(this,un)}addLayer(At){_t(this,Ht).set(At.pageIndex,At),_t(this,Et)?At.enable():At.disable()}removeLayer(At){_t(this,Ht).delete(At.pageIndex)}updateMode(At,Ft=null){if(_t(this,Rt)!==At){if(Pn(this,Rt,At),At===tt.AnnotationEditorType.NONE){this.setEditingState(!1),gn(this,Qn,vu).call(this);return}this.setEditingState(!0),gn(this,ro,gu).call(this),this.unselectAll();for(const Yt of _t(this,Ht).values())Yt.updateMode(At);if(Ft){for(const Yt of _t(this,Dt).values())if(Yt.annotationElementId===Ft){this.setSelected(Yt),Yt.enterInEditMode();break}}}}updateToolbar(At){At!==_t(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:At})}updateParams(At,Ft){if(_t(this,tn)){if(At===tt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(At);return}for(const Yt of _t(this,jt))Yt.updateParams(At,Ft);for(const Yt of _t(this,tn))Yt.updateDefaultParams(At,Ft)}}enableWaiting(At=!1){if(_t(this,Ct)!==At){Pn(this,Ct,At);for(const Ft of _t(this,Ht).values())At?Ft.disableClick():Ft.enableClick(),Ft.div.classList.toggle("waiting",At)}}getEditors(At){const Ft=[];for(const Yt of _t(this,Dt).values())Yt.pageIndex===At&&Ft.push(Yt);return Ft}getEditor(At){return _t(this,Dt).get(At)}addEditor(At){_t(this,Dt).set(At.id,At)}removeEditor(At){var Ft;_t(this,Dt).delete(At.id),this.unselect(At),(!At.annotationElementId||!_t(this,Bt).has(At.annotationElementId))&&((Ft=_t(this,Vt))==null||Ft.remove(At.id))}addDeletedAnnotationElement(At){_t(this,Bt).add(At.annotationElementId),At.deleted=!0}isDeletedAnnotationElement(At){return _t(this,Bt).has(At)}removeDeletedAnnotationElement(At){_t(this,Bt).delete(At.annotationElementId),At.deleted=!1}setActiveEditor(At){_t(this,Mt)!==At&&(Pn(this,Mt,At),At&&gn(this,Ln,Es).call(this,At.propertiesToUpdate))}toggleSelected(At){if(_t(this,jt).has(At)){_t(this,jt).delete(At),At.unselect(),gn(this,an,Go).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,jt).add(At),At.select(),gn(this,Ln,Es).call(this,At.propertiesToUpdate),gn(this,an,Go).call(this,{hasSelectedEditor:!0})}setSelected(At){for(const Ft of _t(this,jt))Ft!==At&&Ft.unselect();_t(this,jt).clear(),_t(this,jt).add(At),At.select(),gn(this,Ln,Es).call(this,At.propertiesToUpdate),gn(this,an,Go).call(this,{hasSelectedEditor:!0})}isSelected(At){return _t(this,jt).has(At)}unselect(At){At.unselect(),_t(this,jt).delete(At),gn(this,an,Go).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,jt).size!==0}undo(){_t(this,qt).undo(),gn(this,an,Go).call(this,{hasSomethingToUndo:_t(this,qt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:gn(this,gr,Ss).call(this)})}redo(){_t(this,qt).redo(),gn(this,an,Go).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,qt).hasSomethingToRedo(),isEmpty:gn(this,gr,Ss).call(this)})}addCommands(At){_t(this,qt).add(At),gn(this,an,Go).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:gn(this,gr,Ss).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const At=[..._t(this,jt)],Ft=()=>{for(const cn of At)cn.remove()},Yt=()=>{for(const cn of At)gn(this,Zn,Al).call(this,cn)};this.addCommands({cmd:Ft,undo:Yt,mustExec:!0})}commitOrRemove(){var At;(At=_t(this,Mt))==null||At.commitOrRemove()}hasSomethingToControl(){return _t(this,Mt)||this.hasSelection}selectAll(){for(const At of _t(this,jt))At.commit();gn(this,Vn,Pl).call(this,_t(this,Dt).values())}unselectAll(){if(_t(this,Mt)){_t(this,Mt).commitOrRemove();return}if(this.hasSelection){for(const At of _t(this,jt))At.unselect();_t(this,jt).clear(),gn(this,an,Go).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(At,Ft,Yt=!1){if(Yt||this.commitOrRemove(),!this.hasSelection)return;_t(this,qn)[0]+=At,_t(this,qn)[1]+=Ft;const[cn,vn]=_t(this,qn),$n=[..._t(this,jt)],zn=1e3;_t(this,An)&&clearTimeout(_t(this,An)),Pn(this,An,setTimeout(()=>{Pn(this,An,null),_t(this,qn)[0]=_t(this,qn)[1]=0,this.addCommands({cmd:()=>{for(const nr of $n)_t(this,Dt).has(nr.id)&&nr.translateInPage(cn,vn)},undo:()=>{for(const nr of $n)_t(this,Dt).has(nr.id)&&nr.translateInPage(-cn,-vn)},mustExec:!1})},zn));for(const nr of $n)nr.translateInPage(At,Ft)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Pn(this,nn,new Map);for(const At of _t(this,jt))_t(this,nn).set(At,{savedX:At.x,savedY:At.y,savedPageIndex:At.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,nn))return!1;this.disableUserSelect(!1);const At=_t(this,nn);Pn(this,nn,null);let Ft=!1;for(const[{x:cn,y:vn,pageIndex:$n},zn]of At)zn.newX=cn,zn.newY=vn,zn.newPageIndex=$n,Ft||(Ft=cn!==zn.savedX||vn!==zn.savedY||$n!==zn.savedPageIndex);if(!Ft)return!1;const Yt=(cn,vn,$n,zn)=>{if(_t(this,Dt).has(cn.id)){const nr=_t(this,Ht).get(zn);nr?cn._setParentAndPosition(nr,vn,$n):(cn.pageIndex=zn,cn.x=vn,cn.y=$n)}};return this.addCommands({cmd:()=>{for(const[cn,{newX:vn,newY:$n,newPageIndex:zn}]of At)Yt(cn,vn,$n,zn)},undo:()=>{for(const[cn,{savedX:vn,savedY:$n,savedPageIndex:zn}]of At)Yt(cn,vn,$n,zn)},mustExec:!0}),!0}dragSelectedEditors(At,Ft){if(_t(this,nn))for(const Yt of _t(this,nn).keys())Yt.drag(At,Ft)}rebuild(At){if(At.parent===null){const Ft=this.getLayer(At.pageIndex);Ft?(Ft.changeParent(At),Ft.addOrRebuild(At)):(this.addEditor(At),this.addToAnnotationStorage(At),At.rebuild())}else At.parent.addOrRebuild(At)}isActive(At){return _t(this,Mt)===At}getActive(){return _t(this,Mt)}getMode(){return _t(this,Rt)}get imageManager(){return(0,tt.shadow)(this,"imageManager",new st)}};Mt=new WeakMap,Dt=new WeakMap,Ht=new WeakMap,Nt=new WeakMap,Vt=new WeakMap,qt=new WeakMap,un=new WeakMap,Bt=new WeakMap,nn=new WeakMap,tn=new WeakMap,_n=new WeakMap,Nn=new WeakMap,Lt=new WeakMap,Et=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,jt=new WeakMap,It=new WeakMap,zt=new WeakMap,Wt=new WeakMap,Zt=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,rn=new WeakMap,bn=new WeakMap,En=new WeakMap,Tn=new WeakMap,In=new WeakMap,Fn=new WeakMap,qn=new WeakMap,An=new WeakMap,hn=new WeakMap,pn=new WeakMap,jn=new WeakSet,mu=function(){window.addEventListener("focus",_t(this,Wt)),window.addEventListener("blur",_t(this,zt))},Xn=new WeakSet,_l=function(){window.removeEventListener("focus",_t(this,Wt)),window.removeEventListener("blur",_t(this,zt))},Sr=new WeakSet,wl=function(){window.addEventListener("keydown",_t(this,rn),{capture:!0})},kr=new WeakSet,Ns=function(){window.removeEventListener("keydown",_t(this,rn),{capture:!0})},xr=new WeakSet,Cl=function(){document.addEventListener("copy",_t(this,Zt)),document.addEventListener("cut",_t(this,Kt)),document.addEventListener("paste",_t(this,Xt))},On=new WeakSet,Rl=function(){document.removeEventListener("copy",_t(this,Zt)),document.removeEventListener("cut",_t(this,Kt)),document.removeEventListener("paste",_t(this,Xt))},an=new WeakSet,Go=function(At){Object.entries(At).some(([Yt,cn])=>_t(this,Fn)[Yt]!==cn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,Fn),At)})},Ln=new WeakSet,Es=function(At){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:At})},ro=new WeakSet,gu=function(){if(!_t(this,Et)){Pn(this,Et,!0);for(const At of _t(this,Ht).values())At.enable()}},Qn=new WeakSet,vu=function(){if(this.unselectAll(),_t(this,Et)){Pn(this,Et,!1);for(const At of _t(this,Ht).values())At.disable()}},Zn=new WeakSet,Al=function(At){const Ft=_t(this,Ht).get(At.pageIndex);Ft?Ft.addOrRebuild(At):this.addEditor(At)},gr=new WeakSet,Ss=function(){if(_t(this,Dt).size===0)return!0;if(_t(this,Dt).size===1)for(const At of _t(this,Dt).values())return At.isEmpty();return!1},Vn=new WeakSet,Pl=function(At){_t(this,jt).clear();for(const Ft of At)Ft.isEmpty()||(_t(this,jt).add(Ft),Ft.select());gn(this,an,Go).call(this,{hasSelectedEditor:!0})},Eo(hr,"TRANSLATE_SMALL",1),Eo(hr,"TRANSLATE_BIG",10);let ft=hr;_e.AnnotationEditorUIManager=ft},($,_e,et)=>{var un,Bt,nn,tn,_n,Nn,Lt,Et,Ct,St,Rt,jt,fs,zt,ps,Zt,Tl,Xt,Is,bn,Os,Tn,_s,Fn,ws;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StatTimer=_e.RenderingCancelledException=_e.PixelsPerInch=_e.PageViewport=_e.PDFDateString=_e.DOMStandardFontDataFactory=_e.DOMSVGFactory=_e.DOMFilterFactory=_e.DOMCanvasFactory=_e.DOMCMapReaderFactory=void 0,_e.deprecated=Tt,_e.getColorValues=Dt,_e.getCurrentTransform=Ht,_e.getCurrentTransformInverse=Nt,_e.getFilenameFromUrl=ut,_e.getPdfFilenameFromUrl=ct,_e.getRGB=Mt,_e.getXfaPageViewport=kt,_e.isDataScheme=dt,_e.isPdfFile=pt,_e.isValidFetchUrl=yt,_e.loadScript=bt,_e.noContextMenu=ht,_e.setLayerDimensions=Vt;var tt=et(7),nt=et(1);const rt="http://www.w3.org/2000/svg",qt=class qt{};Eo(qt,"CSS",96),Eo(qt,"PDF",72),Eo(qt,"PDF_TO_CSS_UNITS",qt.CSS/qt.PDF);let it=qt;_e.PixelsPerInch=it;class ot extends tt.BaseFilterFactory{constructor({docId:pn,ownerDocument:jn=globalThis.document}={}){super();en(this,jt);en(this,zt);en(this,Zt);en(this,Xt);en(this,bn);en(this,Tn);en(this,Fn);en(this,un,void 0);en(this,Bt,void 0);en(this,nn,void 0);en(this,tn,void 0);en(this,_n,void 0);en(this,Nn,void 0);en(this,Lt,void 0);en(this,Et,void 0);en(this,Ct,void 0);en(this,St,void 0);en(this,Rt,0);Pn(this,nn,pn),Pn(this,tn,jn)}addFilter(pn){if(!pn)return"none";let jn=_t(this,jt,fs).get(pn);if(jn)return jn;let Gn,Xn,mr,Sr;if(pn.length===1){const xr=pn[0],Nr=new Array(256);for(let On=0;On<256;On++)Nr[On]=xr[On]/255;Sr=Gn=Xn=mr=Nr.join(",")}else{const[xr,Nr,On]=pn,mn=new Array(256),an=new Array(256),Un=new Array(256);for(let Ln=0;Ln<256;Ln++)mn[Ln]=xr[Ln]/255,an[Ln]=Nr[Ln]/255,Un[Ln]=On[Ln]/255;Gn=mn.join(","),Xn=an.join(","),mr=Un.join(","),Sr=`${Gn}${Xn}${mr}`}if(jn=_t(this,jt,fs).get(Sr),jn)return _t(this,jt,fs).set(pn,jn),jn;const br=`g_${_t(this,nn)}_transfer_map_${bs(this,Rt)._++}`,kr=`url(#${br})`;_t(this,jt,fs).set(pn,kr),_t(this,jt,fs).set(Sr,kr);const Rr=gn(this,Xt,Is).call(this,br);return gn(this,Tn,_s).call(this,Gn,Xn,mr,Rr),kr}addHCMFilter(pn,jn){var Nr;const Gn=`${pn}-${jn}`;if(_t(this,Nn)===Gn)return _t(this,Lt);if(Pn(this,Nn,Gn),Pn(this,Lt,"none"),(Nr=_t(this,_n))==null||Nr.remove(),!pn||!jn)return _t(this,Lt);const Xn=gn(this,Fn,ws).call(this,pn);pn=nt.Util.makeHexColor(...Xn);const mr=gn(this,Fn,ws).call(this,jn);if(jn=nt.Util.makeHexColor(...mr),_t(this,zt,ps).style.color="",pn==="#000000"&&jn==="#ffffff"||pn===jn)return _t(this,Lt);const Sr=new Array(256);for(let On=0;On<=255;On++){const mn=On/255;Sr[On]=mn<=.03928?mn/12.92:((mn+.055)/1.055)**2.4}const br=Sr.join(","),kr=`g_${_t(this,nn)}_hcm_filter`,Rr=Pn(this,Et,gn(this,Xt,Is).call(this,kr));gn(this,Tn,_s).call(this,br,br,br,Rr),gn(this,Zt,Tl).call(this,Rr);const xr=(On,mn)=>{const an=Xn[On]/255,Un=mr[On]/255,Ln=new Array(mn+1);for(let ur=0;ur<=mn;ur++)Ln[ur]=an+ur/mn*(Un-an);return Ln.join(",")};return gn(this,Tn,_s).call(this,xr(0,5),xr(1,5),xr(2,5),Rr),Pn(this,Lt,`url(#${kr})`),_t(this,Lt)}addHighlightHCMFilter(pn,jn,Gn,Xn){var Un;const mr=`${pn}-${jn}-${Gn}-${Xn}`;if(_t(this,Ct)===mr)return _t(this,St);if(Pn(this,Ct,mr),Pn(this,St,"none"),(Un=_t(this,Et))==null||Un.remove(),!pn||!jn)return _t(this,St);const[Sr,br]=[pn,jn].map(gn(this,Fn,ws).bind(this));let kr=Math.round(.2126*Sr[0]+.7152*Sr[1]+.0722*Sr[2]),Rr=Math.round(.2126*br[0]+.7152*br[1]+.0722*br[2]),[xr,Nr]=[Gn,Xn].map(gn(this,Fn,ws).bind(this));Rr<kr&&([kr,Rr,xr,Nr]=[Rr,kr,Nr,xr]),_t(this,zt,ps).style.color="";const On=(Ln,ur,ro)=>{const xn=new Array(256),Qn=(Rr-kr)/ro,vr=Ln/255,Zn=(ur-Ln)/(255*ro);let fr=0;for(let gr=0;gr<=ro;gr++){const zr=Math.round(kr+gr*Qn),Vn=vr+gr*Zn;for(let Hr=fr;Hr<=zr;Hr++)xn[Hr]=Vn;fr=zr+1}for(let gr=fr;gr<256;gr++)xn[gr]=xn[fr-1];return xn.join(",")},mn=`g_${_t(this,nn)}_hcm_highlight_filter`,an=Pn(this,Et,gn(this,Xt,Is).call(this,mn));return gn(this,Zt,Tl).call(this,an),gn(this,Tn,_s).call(this,On(xr[0],Nr[0],5),On(xr[1],Nr[1],5),On(xr[2],Nr[2],5),an),Pn(this,St,`url(#${mn})`),_t(this,St)}destroy(pn=!1){pn&&(_t(this,Lt)||_t(this,St))||(_t(this,Bt)&&(_t(this,Bt).parentNode.parentNode.remove(),Pn(this,Bt,null)),_t(this,un)&&(_t(this,un).clear(),Pn(this,un,null)),Pn(this,Rt,0))}}un=new WeakMap,Bt=new WeakMap,nn=new WeakMap,tn=new WeakMap,_n=new WeakMap,Nn=new WeakMap,Lt=new WeakMap,Et=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,jt=new WeakSet,fs=function(){return _t(this,un)||Pn(this,un,new Map)},zt=new WeakSet,ps=function(){if(!_t(this,Bt)){const pn=_t(this,tn).createElement("div"),{style:jn}=pn;jn.visibility="hidden",jn.contain="strict",jn.width=jn.height=0,jn.position="absolute",jn.top=jn.left=0,jn.zIndex=-1;const Gn=_t(this,tn).createElementNS(rt,"svg");Gn.setAttribute("width",0),Gn.setAttribute("height",0),Pn(this,Bt,_t(this,tn).createElementNS(rt,"defs")),pn.append(Gn),Gn.append(_t(this,Bt)),_t(this,tn).body.append(pn)}return _t(this,Bt)},Zt=new WeakSet,Tl=function(pn){const jn=_t(this,tn).createElementNS(rt,"feColorMatrix");jn.setAttribute("type","matrix"),jn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),pn.append(jn)},Xt=new WeakSet,Is=function(pn){const jn=_t(this,tn).createElementNS(rt,"filter");return jn.setAttribute("color-interpolation-filters","sRGB"),jn.setAttribute("id",pn),_t(this,zt,ps).append(jn),jn},bn=new WeakSet,Os=function(pn,jn,Gn){const Xn=_t(this,tn).createElementNS(rt,jn);Xn.setAttribute("type","discrete"),Xn.setAttribute("tableValues",Gn),pn.append(Xn)},Tn=new WeakSet,_s=function(pn,jn,Gn,Xn){const mr=_t(this,tn).createElementNS(rt,"feComponentTransfer");Xn.append(mr),gn(this,bn,Os).call(this,mr,"feFuncR",pn),gn(this,bn,Os).call(this,mr,"feFuncG",jn),gn(this,bn,Os).call(this,mr,"feFuncB",Gn)},Fn=new WeakSet,ws=function(pn){return _t(this,zt,ps).style.color=pn,Mt(getComputedStyle(_t(this,zt,ps)).getPropertyValue("color"))},_e.DOMFilterFactory=ot;class st extends tt.BaseCanvasFactory{constructor({ownerDocument:hn=globalThis.document}={}){super(),this._document=hn}_createCanvas(hn,pn){const jn=this._document.createElement("canvas");return jn.width=hn,jn.height=pn,jn}}_e.DOMCanvasFactory=st;async function lt(An,hn=!1){if(yt(An,document.baseURI)){const pn=await fetch(An);if(!pn.ok)throw new Error(pn.statusText);return hn?new Uint8Array(await pn.arrayBuffer()):(0,nt.stringToBytes)(await pn.text())}return new Promise((pn,jn)=>{const Gn=new XMLHttpRequest;Gn.open("GET",An,!0),hn&&(Gn.responseType="arraybuffer"),Gn.onreadystatechange=()=>{if(Gn.readyState===XMLHttpRequest.DONE){if(Gn.status===200||Gn.status===0){let Xn;if(hn&&Gn.response?Xn=new Uint8Array(Gn.response):!hn&&Gn.responseText&&(Xn=(0,nt.stringToBytes)(Gn.responseText)),Xn){pn(Xn);return}}jn(new Error(Gn.statusText))}},Gn.send(null)})}class at extends tt.BaseCMapReaderFactory{_fetchData(hn,pn){return lt(hn,this.isCompressed).then(jn=>({cMapData:jn,compressionType:pn}))}}_e.DOMCMapReaderFactory=at;class mt extends tt.BaseStandardFontDataFactory{_fetchData(hn){return lt(hn,!0)}}_e.DOMStandardFontDataFactory=mt;class ft extends tt.BaseSVGFactory{_createSVG(hn){return document.createElementNS(rt,hn)}}_e.DOMSVGFactory=ft;class gt{constructor({viewBox:hn,scale:pn,rotation:jn,offsetX:Gn=0,offsetY:Xn=0,dontFlip:mr=!1}){this.viewBox=hn,this.scale=pn,this.rotation=jn,this.offsetX=Gn,this.offsetY=Xn;const Sr=(hn[2]+hn[0])/2,br=(hn[3]+hn[1])/2;let kr,Rr,xr,Nr;switch(jn%=360,jn<0&&(jn+=360),jn){case 180:kr=-1,Rr=0,xr=0,Nr=1;break;case 90:kr=0,Rr=1,xr=1,Nr=0;break;case 270:kr=0,Rr=-1,xr=-1,Nr=0;break;case 0:kr=1,Rr=0,xr=0,Nr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}mr&&(xr=-xr,Nr=-Nr);let On,mn,an,Un;kr===0?(On=Math.abs(br-hn[1])*pn+Gn,mn=Math.abs(Sr-hn[0])*pn+Xn,an=(hn[3]-hn[1])*pn,Un=(hn[2]-hn[0])*pn):(On=Math.abs(Sr-hn[0])*pn+Gn,mn=Math.abs(br-hn[1])*pn+Xn,an=(hn[2]-hn[0])*pn,Un=(hn[3]-hn[1])*pn),this.transform=[kr*pn,Rr*pn,xr*pn,Nr*pn,On-kr*pn*Sr-xr*pn*br,mn-Rr*pn*Sr-Nr*pn*br],this.width=an,this.height=Un}get rawDims(){const{viewBox:hn}=this;return(0,nt.shadow)(this,"rawDims",{pageWidth:hn[2]-hn[0],pageHeight:hn[3]-hn[1],pageX:hn[0],pageY:hn[1]})}clone({scale:hn=this.scale,rotation:pn=this.rotation,offsetX:jn=this.offsetX,offsetY:Gn=this.offsetY,dontFlip:Xn=!1}={}){return new gt({viewBox:this.viewBox.slice(),scale:hn,rotation:pn,offsetX:jn,offsetY:Gn,dontFlip:Xn})}convertToViewportPoint(hn,pn){return nt.Util.applyTransform([hn,pn],this.transform)}convertToViewportRectangle(hn){const pn=nt.Util.applyTransform([hn[0],hn[1]],this.transform),jn=nt.Util.applyTransform([hn[2],hn[3]],this.transform);return[pn[0],pn[1],jn[0],jn[1]]}convertToPdfPoint(hn,pn){return nt.Util.applyInverseTransform([hn,pn],this.transform)}}_e.PageViewport=gt;class vt extends nt.BaseException{constructor(hn,pn=0){super(hn,"RenderingCancelledException"),this.extraDelay=pn}}_e.RenderingCancelledException=vt;function dt(An){const hn=An.length;let pn=0;for(;pn<hn&&An[pn].trim()==="";)pn++;return An.substring(pn,pn+5).toLowerCase()==="data:"}function pt(An){return typeof An=="string"&&/\.pdf$/i.test(An)}function ut(An,hn=!1){return hn||([An]=An.split(/[#?]/,1)),An.substring(An.lastIndexOf("/")+1)}function ct(An,hn="document.pdf"){if(typeof An!="string")return hn;if(dt(An))return(0,nt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),hn;const pn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,jn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Gn=pn.exec(An);let Xn=jn.exec(Gn[1])||jn.exec(Gn[2])||jn.exec(Gn[3]);if(Xn&&(Xn=Xn[0],Xn.includes("%")))try{Xn=jn.exec(decodeURIComponent(Xn))[0]}catch{}return Xn||hn}class xt{constructor(){Eo(this,"started",Object.create(null));Eo(this,"times",[])}time(hn){hn in this.started&&(0,nt.warn)(`Timer is already running for ${hn}`),this.started[hn]=Date.now()}timeEnd(hn){hn in this.started||(0,nt.warn)(`Timer has not been started for ${hn}`),this.times.push({name:hn,start:this.started[hn],end:Date.now()}),delete this.started[hn]}toString(){const hn=[];let pn=0;for(const{name:jn}of this.times)pn=Math.max(jn.length,pn);for(const{name:jn,start:Gn,end:Xn}of this.times)hn.push(`${jn.padEnd(pn)} ${Xn-Gn}ms
`);return hn.join("")}}_e.StatTimer=xt;function yt(An,hn){try{const{protocol:pn}=hn?new URL(An,hn):new URL(An);return pn==="http:"||pn==="https:"}catch{return!1}}function ht(An){An.preventDefault()}function bt(An,hn=!1){return new Promise((pn,jn)=>{const Gn=document.createElement("script");Gn.src=An,Gn.onload=function(Xn){hn&&Gn.remove(),pn(Xn)},Gn.onerror=function(){jn(new Error(`Cannot load script at: ${Gn.src}`))},(document.head||document.documentElement).append(Gn)})}function Tt(An){console.log("Deprecated API usage: "+An)}let Pt;class wt{static toDateObject(hn){if(!hn||typeof hn!="string")return null;Pt||(Pt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const pn=Pt.exec(hn);if(!pn)return null;const jn=parseInt(pn[1],10);let Gn=parseInt(pn[2],10);Gn=Gn>=1&&Gn<=12?Gn-1:0;let Xn=parseInt(pn[3],10);Xn=Xn>=1&&Xn<=31?Xn:1;let mr=parseInt(pn[4],10);mr=mr>=0&&mr<=23?mr:0;let Sr=parseInt(pn[5],10);Sr=Sr>=0&&Sr<=59?Sr:0;let br=parseInt(pn[6],10);br=br>=0&&br<=59?br:0;const kr=pn[7]||"Z";let Rr=parseInt(pn[8],10);Rr=Rr>=0&&Rr<=23?Rr:0;let xr=parseInt(pn[9],10)||0;return xr=xr>=0&&xr<=59?xr:0,kr==="-"?(mr+=Rr,Sr+=xr):kr==="+"&&(mr-=Rr,Sr-=xr),new Date(Date.UTC(jn,Gn,Xn,mr,Sr,br))}}_e.PDFDateString=wt;function kt(An,{scale:hn=1,rotation:pn=0}){const{width:jn,height:Gn}=An.attributes.style,Xn=[0,0,parseInt(jn),parseInt(Gn)];return new gt({viewBox:Xn,scale:hn,rotation:pn})}function Mt(An){if(An.startsWith("#")){const hn=parseInt(An.slice(1),16);return[(hn&16711680)>>16,(hn&65280)>>8,hn&255]}return An.startsWith("rgb(")?An.slice(4,-1).split(",").map(hn=>parseInt(hn)):An.startsWith("rgba(")?An.slice(5,-1).split(",").map(hn=>parseInt(hn)).slice(0,3):((0,nt.warn)(`Not a valid color format: "${An}"`),[0,0,0])}function Dt(An){const hn=document.createElement("span");hn.style.visibility="hidden",document.body.append(hn);for(const pn of An.keys()){hn.style.color=pn;const jn=window.getComputedStyle(hn).color;An.set(pn,Mt(jn))}hn.remove()}function Ht(An){const{a:hn,b:pn,c:jn,d:Gn,e:Xn,f:mr}=An.getTransform();return[hn,pn,jn,Gn,Xn,mr]}function Nt(An){const{a:hn,b:pn,c:jn,d:Gn,e:Xn,f:mr}=An.getTransform().invertSelf();return[hn,pn,jn,Gn,Xn,mr]}function Vt(An,hn,pn=!1,jn=!0){if(hn instanceof gt){const{pageWidth:Gn,pageHeight:Xn}=hn.rawDims,{style:mr}=An,Sr=nt.FeatureTest.isCSSRoundSupported,br=`var(--scale-factor) * ${Gn}px`,kr=`var(--scale-factor) * ${Xn}px`,Rr=Sr?`round(${br}, 1px)`:`calc(${br})`,xr=Sr?`round(${kr}, 1px)`:`calc(${kr})`;!pn||hn.rotation%180===0?(mr.width=Rr,mr.height=xr):(mr.width=xr,mr.height=Rr)}jn&&An.setAttribute("data-main-rotation",hn.rotation)}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStandardFontDataFactory=_e.BaseSVGFactory=_e.BaseFilterFactory=_e.BaseCanvasFactory=_e.BaseCMapReaderFactory=void 0;var tt=et(1);class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(at){return"none"}addHCMFilter(at,mt){return"none"}addHighlightHCMFilter(at,mt,ft,gt){return"none"}destroy(at=!1){}}_e.BaseFilterFactory=nt;class rt{constructor(){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(at,mt){if(at<=0||mt<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(at,mt);return{canvas:ft,context:ft.getContext("2d")}}reset(at,mt,ft){if(!at.canvas)throw new Error("Canvas is not specified");if(mt<=0||ft<=0)throw new Error("Invalid canvas size");at.canvas.width=mt,at.canvas.height=ft}destroy(at){if(!at.canvas)throw new Error("Canvas is not specified");at.canvas.width=0,at.canvas.height=0,at.canvas=null,at.context=null}_createCanvas(at,mt){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}_e.BaseCanvasFactory=rt;class it{constructor({baseUrl:at=null,isCompressed:mt=!0}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=at,this.isCompressed=mt}async fetch({name:at}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!at)throw new Error("CMap name must be specified.");const mt=this.baseUrl+at+(this.isCompressed?".bcmap":""),ft=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(mt,ft).catch(gt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${mt}`)})}_fetchData(at,mt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseCMapReaderFactory=it;class ot{constructor({baseUrl:at=null}){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=at}async fetch({filename:at}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!at)throw new Error("Font filename must be specified.");const mt=`${this.baseUrl}${at}`;return this._fetchData(mt).catch(ft=>{throw new Error(`Unable to load font data at: ${mt}`)})}_fetchData(at){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}_e.BaseStandardFontDataFactory=ot;class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(at,mt,ft=!1){if(at<=0||mt<=0)throw new Error("Invalid SVG dimensions");const gt=this._createSVG("svg:svg");return gt.setAttribute("version","1.1"),ft||(gt.setAttribute("width",`${at}px`),gt.setAttribute("height",`${mt}px`)),gt.setAttribute("preserveAspectRatio","none"),gt.setAttribute("viewBox",`0 0 ${at} ${mt}`),gt}createElement(at){if(typeof at!="string")throw new Error("Invalid SVG element type");return this._createSVG(at)}_createSVG(at){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}_e.BaseSVGFactory=st},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var tt=et(1);const nt=3285377520,rt=4294901760,it=65535;class ot{constructor(lt){this.h1=lt?lt&4294967295:nt,this.h2=lt?lt&4294967295:nt}update(lt){let at,mt;if(typeof lt=="string"){at=new Uint8Array(lt.length*2),mt=0;for(let Tt=0,Pt=lt.length;Tt<Pt;Tt++){const wt=lt.charCodeAt(Tt);wt<=255?at[mt++]=wt:(at[mt++]=wt>>>8,at[mt++]=wt&255)}}else if((0,tt.isArrayBuffer)(lt))at=lt.slice(),mt=at.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ft=mt>>2,gt=mt-ft*4,vt=new Uint32Array(at.buffer,0,ft);let dt=0,pt=0,ut=this.h1,ct=this.h2;const xt=3432918353,yt=461845907,ht=xt&it,bt=yt&it;for(let Tt=0;Tt<ft;Tt++)Tt&1?(dt=vt[Tt],dt=dt*xt&rt|dt*ht&it,dt=dt<<15|dt>>>17,dt=dt*yt&rt|dt*bt&it,ut^=dt,ut=ut<<13|ut>>>19,ut=ut*5+3864292196):(pt=vt[Tt],pt=pt*xt&rt|pt*ht&it,pt=pt<<15|pt>>>17,pt=pt*yt&rt|pt*bt&it,ct^=pt,ct=ct<<13|ct>>>19,ct=ct*5+3864292196);switch(dt=0,gt){case 3:dt^=at[ft*4+2]<<16;case 2:dt^=at[ft*4+1]<<8;case 1:dt^=at[ft*4],dt=dt*xt&rt|dt*ht&it,dt=dt<<15|dt>>>17,dt=dt*yt&rt|dt*bt&it,ft&1?ut^=dt:ct^=dt}this.h1=ut,this.h2=ct}hexdigest(){let lt=this.h1,at=this.h2;return lt^=at>>>1,lt=lt*3981806797&rt|lt*36045&it,at=at*4283543511&rt|((at<<16|lt>>>16)*2950163797&rt)>>>16,lt^=at>>>1,lt=lt*444984403&rt|lt*60499&it,at=at*3301882366&rt|((at<<16|lt>>>16)*3120437893&rt)>>>16,lt^=at>>>1,(lt>>>0).toString(16).padStart(8,"0")+(at>>>0).toString(16).padStart(8,"0")}}_e.MurmurHash3_64=ot},($,_e,et)=>{var it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontLoader=_e.FontFaceObject=void 0;var tt=et(1);class nt{constructor({ownerDocument:st=globalThis.document,styleElement:lt=null}){en(this,it,new Set);this._document=st,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(st){this.nativeFontFaces.add(st),this._document.fonts.add(st)}removeNativeFontFace(st){this.nativeFontFaces.delete(st),this._document.fonts.delete(st)}insertRule(st){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const lt=this.styleElement.sheet;lt.insertRule(st,lt.cssRules.length)}clear(){for(const st of this.nativeFontFaces)this._document.fonts.delete(st);this.nativeFontFaces.clear(),_t(this,it).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(st){if(!(!st||_t(this,it).has(st.loadedName))){if((0,tt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:lt,src:at,style:mt}=st,ft=new FontFace(lt,at,mt);this.addNativeFontFace(ft);try{await ft.load(),_t(this,it).add(lt)}catch{(0,tt.warn)(`Cannot load system font: ${st.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ft)}return}(0,tt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(st){if(st.attached||st.missingFile&&!st.systemFontInfo)return;if(st.attached=!0,st.systemFontInfo){await this.loadSystemFont(st.systemFontInfo);return}if(this.isFontLoadingAPISupported){const at=st.createNativeFontFace();if(at){this.addNativeFontFace(at);try{await at.loaded}catch(mt){throw(0,tt.warn)(`Failed to load font '${at.family}': '${mt}'.`),st.disableFontFace=!0,mt}}return}const lt=st.createFontFaceRule();if(lt){if(this.insertRule(lt),this.isSyncFontLoadingSupported)return;await new Promise(at=>{const mt=this._queueLoadingCallback(at);this._prepareFontLoadEvent(st,mt)})}}get isFontLoadingAPISupported(){var lt;const st=!!((lt=this._document)!=null&&lt.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",st)}get isSyncFontLoadingSupported(){let st=!1;return(tt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(st=!0),(0,tt.shadow)(this,"isSyncFontLoadingSupported",st)}_queueLoadingCallback(st){function lt(){for((0,tt.assert)(!mt.done,"completeRequest() cannot be called twice."),mt.done=!0;at.length>0&&at[0].done;){const ft=at.shift();setTimeout(ft.callback,0)}}const{loadingRequests:at}=this,mt={done:!1,complete:lt,callback:st};return at.push(mt),mt}get _loadTestFont(){const st=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tt.shadow)(this,"_loadTestFont",st)}_prepareFontLoadEvent(st,lt){function at(Mt,Dt){return Mt.charCodeAt(Dt)<<24|Mt.charCodeAt(Dt+1)<<16|Mt.charCodeAt(Dt+2)<<8|Mt.charCodeAt(Dt+3)&255}function mt(Mt,Dt,Ht,Nt){const Vt=Mt.substring(0,Dt),qt=Mt.substring(Dt+Ht);return Vt+Nt+qt}let ft,gt;const vt=this._document.createElement("canvas");vt.width=1,vt.height=1;const dt=vt.getContext("2d");let pt=0;function ut(Mt,Dt){if(++pt>30){(0,tt.warn)("Load test font never loaded."),Dt();return}if(dt.font="30px "+Mt,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){Dt();return}setTimeout(ut.bind(null,Mt,Dt))}const ct=`lt${Date.now()}${this.loadTestFontId++}`;let xt=this._loadTestFont;xt=mt(xt,976,ct.length,ct);const ht=16,bt=1482184792;let Tt=at(xt,ht);for(ft=0,gt=ct.length-3;ft<gt;ft+=4)Tt=Tt-bt+at(ct,ft)|0;ft<ct.length&&(Tt=Tt-bt+at(ct+"XXX",ft)|0),xt=mt(xt,ht,4,(0,tt.string32)(Tt));const Pt=`url(data:font/opentype;base64,${btoa(xt)});`,wt=`@font-face {font-family:"${ct}";src:${Pt}}`;this.insertRule(wt);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const Mt of[st.loadedName,ct]){const Dt=this._document.createElement("span");Dt.textContent="Hi",Dt.style.fontFamily=Mt,kt.append(Dt)}this._document.body.append(kt),ut(ct,()=>{kt.remove(),lt.complete()})}}it=new WeakMap,_e.FontLoader=nt;class rt{constructor(st,{isEvalSupported:lt=!0,disableFontFace:at=!1,ignoreErrors:mt=!1,inspectFont:ft=null}){this.compiledGlyphs=Object.create(null);for(const gt in st)this[gt]=st[gt];this.isEvalSupported=lt!==!1,this.disableFontFace=at===!0,this.ignoreErrors=mt===!0,this._inspectFont=ft}createNativeFontFace(){var lt;if(!this.data||this.disableFontFace)return null;let st;if(!this.cssFontInfo)st=new FontFace(this.loadedName,this.data,{});else{const at={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(at.style=`oblique ${this.cssFontInfo.italicAngle}deg`),st=new FontFace(this.cssFontInfo.fontFamily,this.data,at)}return(lt=this._inspectFont)==null||lt.call(this,this),st}createFontFaceRule(){var mt;if(!this.data||this.disableFontFace)return null;const st=(0,tt.bytesToString)(this.data),lt=`url(data:${this.mimetype};base64,${btoa(st)});`;let at;if(!this.cssFontInfo)at=`@font-face {font-family:"${this.loadedName}";src:${lt}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),at=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${lt}}`}return(mt=this._inspectFont)==null||mt.call(this,this,lt),at}getPathGenerator(st,lt){if(this.compiledGlyphs[lt]!==void 0)return this.compiledGlyphs[lt];let at;try{at=st.get(this.loadedName+"_path_"+lt)}catch(mt){if(!this.ignoreErrors)throw mt;return(0,tt.warn)(`getPathGenerator - ignoring character: "${mt}".`),this.compiledGlyphs[lt]=function(ft,gt){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const mt=[];for(const ft of at){const gt=ft.args!==void 0?ft.args.join(","):"";mt.push("c.",ft.cmd,"(",gt,`);
`)}return this.compiledGlyphs[lt]=new Function("c","size",mt.join(""))}return this.compiledGlyphs[lt]=function(mt,ft){for(const gt of at)gt.cmd==="scale"&&(gt.args=[ft,-ft]),mt[gt.cmd].apply(mt,gt.args)}}}_e.FontFaceObject=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NodeStandardFontDataFactory=_e.NodeFilterFactory=_e.NodeCanvasFactory=_e.NodeCMapReaderFactory=void 0;var tt=et(7);et(1);const nt=function(lt){return new Promise((at,mt)=>{require$$5.readFile(lt,(gt,vt)=>{if(gt||!vt){mt(new Error(gt));return}at(new Uint8Array(vt))})})};class rt extends tt.BaseFilterFactory{}_e.NodeFilterFactory=rt;class it extends tt.BaseCanvasFactory{_createCanvas(at,mt){return require$$5.createCanvas(at,mt)}}_e.NodeCanvasFactory=it;class ot extends tt.BaseCMapReaderFactory{_fetchData(at,mt){return nt(at).then(ft=>({cMapData:ft,compressionType:mt}))}}_e.NodeCMapReaderFactory=ot;class st extends tt.BaseStandardFontDataFactory{_fetchData(at){return nt(at)}}_e.NodeStandardFontDataFactory=st},($,_e,et)=>{var Bt,$l,tn,Ml;Object.defineProperty(_e,"__esModule",{value:!0}),_e.CanvasGraphics=void 0;var tt=et(1),nt=et(6),rt=et(12),it=et(13);const ot=16,st=100,lt=4096,at=15,mt=10,ft=1e3,gt=16;function vt(Lt,Et){if(Lt._removeMirroring)throw new Error("Context is already forwarding operations.");Lt.__originalSave=Lt.save,Lt.__originalRestore=Lt.restore,Lt.__originalRotate=Lt.rotate,Lt.__originalScale=Lt.scale,Lt.__originalTranslate=Lt.translate,Lt.__originalTransform=Lt.transform,Lt.__originalSetTransform=Lt.setTransform,Lt.__originalResetTransform=Lt.resetTransform,Lt.__originalClip=Lt.clip,Lt.__originalMoveTo=Lt.moveTo,Lt.__originalLineTo=Lt.lineTo,Lt.__originalBezierCurveTo=Lt.bezierCurveTo,Lt.__originalRect=Lt.rect,Lt.__originalClosePath=Lt.closePath,Lt.__originalBeginPath=Lt.beginPath,Lt._removeMirroring=()=>{Lt.save=Lt.__originalSave,Lt.restore=Lt.__originalRestore,Lt.rotate=Lt.__originalRotate,Lt.scale=Lt.__originalScale,Lt.translate=Lt.__originalTranslate,Lt.transform=Lt.__originalTransform,Lt.setTransform=Lt.__originalSetTransform,Lt.resetTransform=Lt.__originalResetTransform,Lt.clip=Lt.__originalClip,Lt.moveTo=Lt.__originalMoveTo,Lt.lineTo=Lt.__originalLineTo,Lt.bezierCurveTo=Lt.__originalBezierCurveTo,Lt.rect=Lt.__originalRect,Lt.closePath=Lt.__originalClosePath,Lt.beginPath=Lt.__originalBeginPath,delete Lt._removeMirroring},Lt.save=function(){Et.save(),this.__originalSave()},Lt.restore=function(){Et.restore(),this.__originalRestore()},Lt.translate=function(St,Rt){Et.translate(St,Rt),this.__originalTranslate(St,Rt)},Lt.scale=function(St,Rt){Et.scale(St,Rt),this.__originalScale(St,Rt)},Lt.transform=function(St,Rt,jt,It,zt,Wt){Et.transform(St,Rt,jt,It,zt,Wt),this.__originalTransform(St,Rt,jt,It,zt,Wt)},Lt.setTransform=function(St,Rt,jt,It,zt,Wt){Et.setTransform(St,Rt,jt,It,zt,Wt),this.__originalSetTransform(St,Rt,jt,It,zt,Wt)},Lt.resetTransform=function(){Et.resetTransform(),this.__originalResetTransform()},Lt.rotate=function(St){Et.rotate(St),this.__originalRotate(St)},Lt.clip=function(St){Et.clip(St),this.__originalClip(St)},Lt.moveTo=function(Ct,St){Et.moveTo(Ct,St),this.__originalMoveTo(Ct,St)},Lt.lineTo=function(Ct,St){Et.lineTo(Ct,St),this.__originalLineTo(Ct,St)},Lt.bezierCurveTo=function(Ct,St,Rt,jt,It,zt){Et.bezierCurveTo(Ct,St,Rt,jt,It,zt),this.__originalBezierCurveTo(Ct,St,Rt,jt,It,zt)},Lt.rect=function(Ct,St,Rt,jt){Et.rect(Ct,St,Rt,jt),this.__originalRect(Ct,St,Rt,jt)},Lt.closePath=function(){Et.closePath(),this.__originalClosePath()},Lt.beginPath=function(){Et.beginPath(),this.__originalBeginPath()}}class dt{constructor(Et){this.canvasFactory=Et,this.cache=Object.create(null)}getCanvas(Et,Ct,St){let Rt;return this.cache[Et]!==void 0?(Rt=this.cache[Et],this.canvasFactory.reset(Rt,Ct,St)):(Rt=this.canvasFactory.create(Ct,St),this.cache[Et]=Rt),Rt}delete(Et){delete this.cache[Et]}clear(){for(const Et in this.cache){const Ct=this.cache[Et];this.canvasFactory.destroy(Ct),delete this.cache[Et]}}}function pt(Lt,Et,Ct,St,Rt,jt,It,zt,Wt,Zt){const[Kt,Xt,rn,bn,En,Tn]=(0,nt.getCurrentTransform)(Lt);if(Xt===0&&rn===0){const qn=It*Kt+En,An=Math.round(qn),hn=zt*bn+Tn,pn=Math.round(hn),jn=(It+Wt)*Kt+En,Gn=Math.abs(Math.round(jn)-An)||1,Xn=(zt+Zt)*bn+Tn,mr=Math.abs(Math.round(Xn)-pn)||1;return Lt.setTransform(Math.sign(Kt),0,0,Math.sign(bn),An,pn),Lt.drawImage(Et,Ct,St,Rt,jt,0,0,Gn,mr),Lt.setTransform(Kt,Xt,rn,bn,En,Tn),[Gn,mr]}if(Kt===0&&bn===0){const qn=zt*rn+En,An=Math.round(qn),hn=It*Xt+Tn,pn=Math.round(hn),jn=(zt+Zt)*rn+En,Gn=Math.abs(Math.round(jn)-An)||1,Xn=(It+Wt)*Xt+Tn,mr=Math.abs(Math.round(Xn)-pn)||1;return Lt.setTransform(0,Math.sign(Xt),Math.sign(rn),0,An,pn),Lt.drawImage(Et,Ct,St,Rt,jt,0,0,mr,Gn),Lt.setTransform(Kt,Xt,rn,bn,En,Tn),[mr,Gn]}Lt.drawImage(Et,Ct,St,Rt,jt,It,zt,Wt,Zt);const In=Math.hypot(Kt,Xt),Fn=Math.hypot(rn,bn);return[In*Wt,Fn*Zt]}function ut(Lt){const{width:Et,height:Ct}=Lt;if(Et>ft||Ct>ft)return null;const St=1e3,Rt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),jt=Et+1;let It=new Uint8Array(jt*(Ct+1)),zt,Wt,Zt;const Kt=Et+7&-8;let Xt=new Uint8Array(Kt*Ct),rn=0;for(const Fn of Lt.data){let qn=128;for(;qn>0;)Xt[rn++]=Fn&qn?0:255,qn>>=1}let bn=0;for(rn=0,Xt[rn]!==0&&(It[0]=1,++bn),Wt=1;Wt<Et;Wt++)Xt[rn]!==Xt[rn+1]&&(It[Wt]=Xt[rn]?2:1,++bn),rn++;for(Xt[rn]!==0&&(It[Wt]=2,++bn),zt=1;zt<Ct;zt++){rn=zt*Kt,Zt=zt*jt,Xt[rn-Kt]!==Xt[rn]&&(It[Zt]=Xt[rn]?1:8,++bn);let Fn=(Xt[rn]?4:0)+(Xt[rn-Kt]?8:0);for(Wt=1;Wt<Et;Wt++)Fn=(Fn>>2)+(Xt[rn+1]?4:0)+(Xt[rn-Kt+1]?8:0),Rt[Fn]&&(It[Zt+Wt]=Rt[Fn],++bn),rn++;if(Xt[rn-Kt]!==Xt[rn]&&(It[Zt+Wt]=Xt[rn]?2:4,++bn),bn>St)return null}for(rn=Kt*(Ct-1),Zt=zt*jt,Xt[rn]!==0&&(It[Zt]=8,++bn),Wt=1;Wt<Et;Wt++)Xt[rn]!==Xt[rn+1]&&(It[Zt+Wt]=Xt[rn]?4:8,++bn),rn++;if(Xt[rn]!==0&&(It[Zt+Wt]=4,++bn),bn>St)return null;const En=new Int32Array([0,jt,-1,0,-jt,0,0,0,1]),Tn=new Path2D;for(zt=0;bn&&zt<=Ct;zt++){let Fn=zt*jt;const qn=Fn+Et;for(;Fn<qn&&!It[Fn];)Fn++;if(Fn===qn)continue;Tn.moveTo(Fn%jt,zt);const An=Fn;let hn=It[Fn];do{const pn=En[hn];do Fn+=pn;while(!It[Fn]);const jn=It[Fn];jn!==5&&jn!==10?(hn=jn,It[Fn]=0):(hn=jn&51*hn>>4,It[Fn]&=hn>>2|hn<<2),Tn.lineTo(Fn%jt,Fn/jt|0),It[Fn]||--bn}while(An!==Fn);--zt}return Xt=null,It=null,function(Fn){Fn.save(),Fn.scale(1/Et,-1/Ct),Fn.translate(0,-Ct),Fn.fill(Tn),Fn.beginPath(),Fn.restore()}}class ct{constructor(Et,Ct){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Et,Ct])}clone(){const Et=Object.create(this);return Et.clipBox=this.clipBox.slice(),Et}setCurrentPoint(Et,Ct){this.x=Et,this.y=Ct}updatePathMinMax(Et,Ct,St){[Ct,St]=tt.Util.applyTransform([Ct,St],Et),this.minX=Math.min(this.minX,Ct),this.minY=Math.min(this.minY,St),this.maxX=Math.max(this.maxX,Ct),this.maxY=Math.max(this.maxY,St)}updateRectMinMax(Et,Ct){const St=tt.Util.applyTransform(Ct,Et),Rt=tt.Util.applyTransform(Ct.slice(2),Et);this.minX=Math.min(this.minX,St[0],Rt[0]),this.minY=Math.min(this.minY,St[1],Rt[1]),this.maxX=Math.max(this.maxX,St[0],Rt[0]),this.maxY=Math.max(this.maxY,St[1],Rt[1])}updateScalingPathMinMax(Et,Ct){tt.Util.scaleMinMax(Et,Ct),this.minX=Math.min(this.minX,Ct[0]),this.maxX=Math.max(this.maxX,Ct[1]),this.minY=Math.min(this.minY,Ct[2]),this.maxY=Math.max(this.maxY,Ct[3])}updateCurvePathMinMax(Et,Ct,St,Rt,jt,It,zt,Wt,Zt,Kt){const Xt=tt.Util.bezierBoundingBox(Ct,St,Rt,jt,It,zt,Wt,Zt);if(Kt){Kt[0]=Math.min(Kt[0],Xt[0],Xt[2]),Kt[1]=Math.max(Kt[1],Xt[0],Xt[2]),Kt[2]=Math.min(Kt[2],Xt[1],Xt[3]),Kt[3]=Math.max(Kt[3],Xt[1],Xt[3]);return}this.updateRectMinMax(Et,Xt)}getPathBoundingBox(Et=rt.PathType.FILL,Ct=null){const St=[this.minX,this.minY,this.maxX,this.maxY];if(Et===rt.PathType.STROKE){Ct||(0,tt.unreachable)("Stroke bounding box must include transform.");const Rt=tt.Util.singularValueDecompose2dScale(Ct),jt=Rt[0]*this.lineWidth/2,It=Rt[1]*this.lineWidth/2;St[0]-=jt,St[1]-=It,St[2]+=jt,St[3]+=It}return St}updateClipFromPath(){const Et=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Et){this.clipBox=Et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Et=rt.PathType.FILL,Ct=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(Et,Ct))}}function xt(Lt,Et){if(typeof ImageData<"u"&&Et instanceof ImageData){Lt.putImageData(Et,0,0);return}const Ct=Et.height,St=Et.width,Rt=Ct%gt,jt=(Ct-Rt)/gt,It=Rt===0?jt:jt+1,zt=Lt.createImageData(St,gt);let Wt=0,Zt;const Kt=Et.data,Xt=zt.data;let rn,bn,En,Tn;if(Et.kind===tt.ImageKind.GRAYSCALE_1BPP){const In=Kt.byteLength,Fn=new Uint32Array(Xt.buffer,0,Xt.byteLength>>2),qn=Fn.length,An=St+7>>3,hn=4294967295,pn=tt.FeatureTest.isLittleEndian?4278190080:255;for(rn=0;rn<It;rn++){for(En=rn<jt?gt:Rt,Zt=0,bn=0;bn<En;bn++){const jn=In-Wt;let Gn=0;const Xn=jn>An?St:jn*8-7,mr=Xn&-8;let Sr=0,br=0;for(;Gn<mr;Gn+=8)br=Kt[Wt++],Fn[Zt++]=br&128?hn:pn,Fn[Zt++]=br&64?hn:pn,Fn[Zt++]=br&32?hn:pn,Fn[Zt++]=br&16?hn:pn,Fn[Zt++]=br&8?hn:pn,Fn[Zt++]=br&4?hn:pn,Fn[Zt++]=br&2?hn:pn,Fn[Zt++]=br&1?hn:pn;for(;Gn<Xn;Gn++)Sr===0&&(br=Kt[Wt++],Sr=128),Fn[Zt++]=br&Sr?hn:pn,Sr>>=1}for(;Zt<qn;)Fn[Zt++]=0;Lt.putImageData(zt,0,rn*gt)}}else if(Et.kind===tt.ImageKind.RGBA_32BPP){for(bn=0,Tn=St*gt*4,rn=0;rn<jt;rn++)Xt.set(Kt.subarray(Wt,Wt+Tn)),Wt+=Tn,Lt.putImageData(zt,0,bn),bn+=gt;rn<It&&(Tn=St*Rt*4,Xt.set(Kt.subarray(Wt,Wt+Tn)),Lt.putImageData(zt,0,bn))}else if(Et.kind===tt.ImageKind.RGB_24BPP)for(En=gt,Tn=St*En,rn=0;rn<It;rn++){for(rn>=jt&&(En=Rt,Tn=St*En),Zt=0,bn=Tn;bn--;)Xt[Zt++]=Kt[Wt++],Xt[Zt++]=Kt[Wt++],Xt[Zt++]=Kt[Wt++],Xt[Zt++]=255;Lt.putImageData(zt,0,rn*gt)}else throw new Error(`bad image kind: ${Et.kind}`)}function yt(Lt,Et){if(Et.bitmap){Lt.drawImage(Et.bitmap,0,0);return}const Ct=Et.height,St=Et.width,Rt=Ct%gt,jt=(Ct-Rt)/gt,It=Rt===0?jt:jt+1,zt=Lt.createImageData(St,gt);let Wt=0;const Zt=Et.data,Kt=zt.data;for(let Xt=0;Xt<It;Xt++){const rn=Xt<jt?gt:Rt;({srcPos:Wt}=(0,it.convertBlackAndWhiteToRGBA)({src:Zt,srcPos:Wt,dest:Kt,width:St,height:rn,nonBlackColor:0})),Lt.putImageData(zt,0,Xt*gt)}}function ht(Lt,Et){const Ct=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const St of Ct)Lt[St]!==void 0&&(Et[St]=Lt[St]);Lt.setLineDash!==void 0&&(Et.setLineDash(Lt.getLineDash()),Et.lineDashOffset=Lt.lineDashOffset)}function bt(Lt){if(Lt.strokeStyle=Lt.fillStyle="#000000",Lt.fillRule="nonzero",Lt.globalAlpha=1,Lt.lineWidth=1,Lt.lineCap="butt",Lt.lineJoin="miter",Lt.miterLimit=10,Lt.globalCompositeOperation="source-over",Lt.font="10px sans-serif",Lt.setLineDash!==void 0&&(Lt.setLineDash([]),Lt.lineDashOffset=0),!tt.isNodeJS){const{filter:Et}=Lt;Et!=="none"&&Et!==""&&(Lt.filter="none")}}function Tt(Lt,Et,Ct,St){const Rt=Lt.length;for(let jt=3;jt<Rt;jt+=4){const It=Lt[jt];if(It===0)Lt[jt-3]=Et,Lt[jt-2]=Ct,Lt[jt-1]=St;else if(It<255){const zt=255-It;Lt[jt-3]=Lt[jt-3]*It+Et*zt>>8,Lt[jt-2]=Lt[jt-2]*It+Ct*zt>>8,Lt[jt-1]=Lt[jt-1]*It+St*zt>>8}}}function Pt(Lt,Et,Ct){const St=Lt.length,Rt=1/255;for(let jt=3;jt<St;jt+=4){const It=Ct?Ct[Lt[jt]]:Lt[jt];Et[jt]=Et[jt]*It*Rt|0}}function wt(Lt,Et,Ct){const St=Lt.length;for(let Rt=3;Rt<St;Rt+=4){const jt=Lt[Rt-3]*77+Lt[Rt-2]*152+Lt[Rt-1]*28;Et[Rt]=Ct?Et[Rt]*Ct[jt>>8]>>8:Et[Rt]*jt>>16}}function kt(Lt,Et,Ct,St,Rt,jt,It,zt,Wt,Zt,Kt){const Xt=!!jt,rn=Xt?jt[0]:0,bn=Xt?jt[1]:0,En=Xt?jt[2]:0,Tn=Rt==="Luminosity"?wt:Pt,Fn=Math.min(St,Math.ceil(1048576/Ct));for(let qn=0;qn<St;qn+=Fn){const An=Math.min(Fn,St-qn),hn=Lt.getImageData(zt-Zt,qn+(Wt-Kt),Ct,An),pn=Et.getImageData(zt,qn+Wt,Ct,An);Xt&&Tt(hn.data,rn,bn,En),Tn(hn.data,pn.data,It),Et.putImageData(pn,zt,qn+Wt)}}function Mt(Lt,Et,Ct,St){const Rt=St[0],jt=St[1],It=St[2]-Rt,zt=St[3]-jt;It===0||zt===0||(kt(Et.context,Ct,It,zt,Et.subtype,Et.backdrop,Et.transferMap,Rt,jt,Et.offsetX,Et.offsetY),Lt.save(),Lt.globalAlpha=1,Lt.globalCompositeOperation="source-over",Lt.setTransform(1,0,0,1,0,0),Lt.drawImage(Ct.canvas,0,0),Lt.restore())}function Dt(Lt,Et){const Ct=tt.Util.singularValueDecompose2dScale(Lt);Ct[0]=Math.fround(Ct[0]),Ct[1]=Math.fround(Ct[1]);const St=Math.fround((globalThis.devicePixelRatio||1)*nt.PixelsPerInch.PDF_TO_CSS_UNITS);return Et!==void 0?Et:Ct[0]<=St||Ct[1]<=St}const Ht=["butt","round","square"],Nt=["miter","round","bevel"],Vt={},qt={},Nn=class Nn{constructor(Et,Ct,St,Rt,jt,{optionalContentConfig:It,markedContentStack:zt=null},Wt,Zt){en(this,Bt);en(this,tn);this.ctx=Et,this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ct,this.objs=St,this.canvasFactory=Rt,this.filterFactory=jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=zt||[],this.optionalContentConfig=It,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Zt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Et,Ct=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):Ct}beginDrawing({transform:Et,viewport:Ct,transparency:St=!1,background:Rt=null}){const jt=this.ctx.canvas.width,It=this.ctx.canvas.height,zt=this.ctx.fillStyle;if(this.ctx.fillStyle=Rt||"#ffffff",this.ctx.fillRect(0,0,jt,It),this.ctx.fillStyle=zt,St){const Wt=this.cachedCanvases.getCanvas("transparent",jt,It);this.compositeCtx=this.ctx,this.transparentCanvas=Wt.canvas,this.ctx=Wt.context,this.ctx.save(),this.ctx.transform(...(0,nt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),bt(this.ctx),Et&&(this.ctx.transform(...Et),this.outputScaleX=Et[0],this.outputScaleY=Et[0]),this.ctx.transform(...Ct.transform),this.viewportScale=Ct.scale,this.baseTransform=(0,nt.getCurrentTransform)(this.ctx)}executeOperatorList(Et,Ct,St,Rt){const jt=Et.argsArray,It=Et.fnArray;let zt=Ct||0;const Wt=jt.length;if(Wt===zt)return zt;const Zt=Wt-zt>mt&&typeof St=="function",Kt=Zt?Date.now()+at:0;let Xt=0;const rn=this.commonObjs,bn=this.objs;let En;for(;;){if(Rt!==void 0&&zt===Rt.nextBreakPoint)return Rt.breakIt(zt,St),zt;if(En=It[zt],En!==tt.OPS.dependency)this[En].apply(this,jt[zt]);else for(const Tn of jt[zt]){const In=Tn.startsWith("g_")?rn:bn;if(!In.has(Tn))return In.get(Tn,St),zt}if(zt++,zt===Wt)return zt;if(Zt&&++Xt>mt){if(Date.now()>Kt)return St(),zt;Xt=0}}}endDrawing(){gn(this,Bt,$l).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Et of this._cachedBitmapsMap.values()){for(const Ct of Et.values())typeof HTMLCanvasElement<"u"&&Ct instanceof HTMLCanvasElement&&(Ct.width=Ct.height=0);Et.clear()}this._cachedBitmapsMap.clear(),gn(this,tn,Ml).call(this)}_scaleImage(Et,Ct){const St=Et.width,Rt=Et.height;let jt=Math.max(Math.hypot(Ct[0],Ct[1]),1),It=Math.max(Math.hypot(Ct[2],Ct[3]),1),zt=St,Wt=Rt,Zt="prescale1",Kt,Xt;for(;jt>2&&zt>1||It>2&&Wt>1;){let rn=zt,bn=Wt;jt>2&&zt>1&&(rn=zt>=16384?Math.floor(zt/2)-1||1:Math.ceil(zt/2),jt/=zt/rn),It>2&&Wt>1&&(bn=Wt>=16384?Math.floor(Wt/2)-1||1:Math.ceil(Wt)/2,It/=Wt/bn),Kt=this.cachedCanvases.getCanvas(Zt,rn,bn),Xt=Kt.context,Xt.clearRect(0,0,rn,bn),Xt.drawImage(Et,0,0,zt,Wt,0,0,rn,bn),Et=Kt.canvas,zt=rn,Wt=bn,Zt=Zt==="prescale1"?"prescale2":"prescale1"}return{img:Et,paintWidth:zt,paintHeight:Wt}}_createMaskCanvas(Et){const Ct=this.ctx,{width:St,height:Rt}=Et,jt=this.current.fillColor,It=this.current.patternFill,zt=(0,nt.getCurrentTransform)(Ct);let Wt,Zt,Kt,Xt;if((Et.bitmap||Et.data)&&Et.count>1){const Gn=Et.bitmap||Et.data.buffer;Zt=JSON.stringify(It?zt:[zt.slice(0,4),jt]),Wt=this._cachedBitmapsMap.get(Gn),Wt||(Wt=new Map,this._cachedBitmapsMap.set(Gn,Wt));const Xn=Wt.get(Zt);if(Xn&&!It){const mr=Math.round(Math.min(zt[0],zt[2])+zt[4]),Sr=Math.round(Math.min(zt[1],zt[3])+zt[5]);return{canvas:Xn,offsetX:mr,offsetY:Sr}}Kt=Xn}Kt||(Xt=this.cachedCanvases.getCanvas("maskCanvas",St,Rt),yt(Xt.context,Et));let rn=tt.Util.transform(zt,[1/St,0,0,-1/Rt,0,0]);rn=tt.Util.transform(rn,[1,0,0,1,0,-Rt]);const bn=tt.Util.applyTransform([0,0],rn),En=tt.Util.applyTransform([St,Rt],rn),Tn=tt.Util.normalizeRect([bn[0],bn[1],En[0],En[1]]),In=Math.round(Tn[2]-Tn[0])||1,Fn=Math.round(Tn[3]-Tn[1])||1,qn=this.cachedCanvases.getCanvas("fillCanvas",In,Fn),An=qn.context,hn=Math.min(bn[0],En[0]),pn=Math.min(bn[1],En[1]);An.translate(-hn,-pn),An.transform(...rn),Kt||(Kt=this._scaleImage(Xt.canvas,(0,nt.getCurrentTransformInverse)(An)),Kt=Kt.img,Wt&&It&&Wt.set(Zt,Kt)),An.imageSmoothingEnabled=Dt((0,nt.getCurrentTransform)(An),Et.interpolate),pt(An,Kt,0,0,Kt.width,Kt.height,0,0,St,Rt),An.globalCompositeOperation="source-in";const jn=tt.Util.transform((0,nt.getCurrentTransformInverse)(An),[1,0,0,1,-hn,-pn]);return An.fillStyle=It?jt.getPattern(Ct,this,jn,rt.PathType.FILL):jt,An.fillRect(0,0,St,Rt),Wt&&!It&&(this.cachedCanvases.delete("fillCanvas"),Wt.set(Zt,qn.canvas)),{canvas:qn.canvas,offsetX:Math.round(hn),offsetY:Math.round(pn)}}setLineWidth(Et){Et!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Et,this.ctx.lineWidth=Et}setLineCap(Et){this.ctx.lineCap=Ht[Et]}setLineJoin(Et){this.ctx.lineJoin=Nt[Et]}setMiterLimit(Et){this.ctx.miterLimit=Et}setDash(Et,Ct){const St=this.ctx;St.setLineDash!==void 0&&(St.setLineDash(Et),St.lineDashOffset=Ct)}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[Ct,St]of Et)switch(Ct){case"LW":this.setLineWidth(St);break;case"LC":this.setLineCap(St);break;case"LJ":this.setLineJoin(St);break;case"ML":this.setMiterLimit(St);break;case"D":this.setDash(St[0],St[1]);break;case"RI":this.setRenderingIntent(St);break;case"FL":this.setFlatness(St);break;case"Font":this.setFont(St[0],St[1]);break;case"CA":this.current.strokeAlpha=St;break;case"ca":this.current.fillAlpha=St,this.ctx.globalAlpha=St;break;case"BM":this.ctx.globalCompositeOperation=St;break;case"SMask":this.current.activeSMask=St?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(St);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Et=this.inSMaskMode;this.current.activeSMask&&!Et?this.beginSMaskMode():!this.current.activeSMask&&Et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Et=this.ctx.canvas.width,Ct=this.ctx.canvas.height,St="smaskGroupAt"+this.groupLevel,Rt=this.cachedCanvases.getCanvas(St,Et,Ct);this.suspendedCtx=this.ctx,this.ctx=Rt.context;const jt=this.ctx;jt.setTransform(...(0,nt.getCurrentTransform)(this.suspendedCtx)),ht(this.suspendedCtx,jt),vt(jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ht(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Et){if(!this.current.activeSMask)return;Et?(Et[0]=Math.floor(Et[0]),Et[1]=Math.floor(Et[1]),Et[2]=Math.ceil(Et[2]),Et[3]=Math.ceil(Et[3])):Et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ct=this.current.activeSMask,St=this.suspendedCtx;Mt(St,Ct,this.ctx,Et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ht(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Et=this.current;this.stateStack.push(Et),this.current=Et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ht(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Et,Ct,St,Rt,jt,It){this.ctx.transform(Et,Ct,St,Rt,jt,It),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Et,Ct,St){const Rt=this.ctx,jt=this.current;let It=jt.x,zt=jt.y,Wt,Zt;const Kt=(0,nt.getCurrentTransform)(Rt),Xt=Kt[0]===0&&Kt[3]===0||Kt[1]===0&&Kt[2]===0,rn=Xt?St.slice(0):null;for(let bn=0,En=0,Tn=Et.length;bn<Tn;bn++)switch(Et[bn]|0){case tt.OPS.rectangle:It=Ct[En++],zt=Ct[En++];const In=Ct[En++],Fn=Ct[En++],qn=It+In,An=zt+Fn;Rt.moveTo(It,zt),In===0||Fn===0?Rt.lineTo(qn,An):(Rt.lineTo(qn,zt),Rt.lineTo(qn,An),Rt.lineTo(It,An)),Xt||jt.updateRectMinMax(Kt,[It,zt,qn,An]),Rt.closePath();break;case tt.OPS.moveTo:It=Ct[En++],zt=Ct[En++],Rt.moveTo(It,zt),Xt||jt.updatePathMinMax(Kt,It,zt);break;case tt.OPS.lineTo:It=Ct[En++],zt=Ct[En++],Rt.lineTo(It,zt),Xt||jt.updatePathMinMax(Kt,It,zt);break;case tt.OPS.curveTo:Wt=It,Zt=zt,It=Ct[En+4],zt=Ct[En+5],Rt.bezierCurveTo(Ct[En],Ct[En+1],Ct[En+2],Ct[En+3],It,zt),jt.updateCurvePathMinMax(Kt,Wt,Zt,Ct[En],Ct[En+1],Ct[En+2],Ct[En+3],It,zt,rn),En+=6;break;case tt.OPS.curveTo2:Wt=It,Zt=zt,Rt.bezierCurveTo(It,zt,Ct[En],Ct[En+1],Ct[En+2],Ct[En+3]),jt.updateCurvePathMinMax(Kt,Wt,Zt,It,zt,Ct[En],Ct[En+1],Ct[En+2],Ct[En+3],rn),It=Ct[En+2],zt=Ct[En+3],En+=4;break;case tt.OPS.curveTo3:Wt=It,Zt=zt,It=Ct[En+2],zt=Ct[En+3],Rt.bezierCurveTo(Ct[En],Ct[En+1],It,zt,It,zt),jt.updateCurvePathMinMax(Kt,Wt,Zt,Ct[En],Ct[En+1],It,zt,It,zt,rn),En+=4;break;case tt.OPS.closePath:Rt.closePath();break}Xt&&jt.updateScalingPathMinMax(Kt,rn),jt.setCurrentPoint(It,zt)}closePath(){this.ctx.closePath()}stroke(Et=!0){const Ct=this.ctx,St=this.current.strokeColor;Ct.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof St=="object"&&(St!=null&&St.getPattern)?(Ct.save(),Ct.strokeStyle=St.getPattern(Ct,this,(0,nt.getCurrentTransformInverse)(Ct),rt.PathType.STROKE),this.rescaleAndStroke(!1),Ct.restore()):this.rescaleAndStroke(!0)),Et&&this.consumePath(this.current.getClippedPathBoundingBox()),Ct.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Et=!0){const Ct=this.ctx,St=this.current.fillColor,Rt=this.current.patternFill;let jt=!1;Rt&&(Ct.save(),Ct.fillStyle=St.getPattern(Ct,this,(0,nt.getCurrentTransformInverse)(Ct),rt.PathType.FILL),jt=!0);const It=this.current.getClippedPathBoundingBox();this.contentVisible&&It!==null&&(this.pendingEOFill?(Ct.fill("evenodd"),this.pendingEOFill=!1):Ct.fill()),jt&&Ct.restore(),Et&&this.consumePath(It)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Vt}eoClip(){this.pendingClip=qt}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Et=this.pendingTextPaths,Ct=this.ctx;if(Et===void 0){Ct.beginPath();return}Ct.save(),Ct.beginPath();for(const St of Et)Ct.setTransform(...St.transform),Ct.translate(St.x,St.y),St.addToPath(Ct,St.fontSize);Ct.restore(),Ct.clip(),Ct.beginPath(),delete this.pendingTextPaths}setCharSpacing(Et){this.current.charSpacing=Et}setWordSpacing(Et){this.current.wordSpacing=Et}setHScale(Et){this.current.textHScale=Et/100}setLeading(Et){this.current.leading=-Et}setFont(Et,Ct){var Kt;const St=this.commonObjs.get(Et),Rt=this.current;if(!St)throw new Error(`Can't find font for ${Et}`);if(Rt.fontMatrix=St.fontMatrix||tt.FONT_IDENTITY_MATRIX,(Rt.fontMatrix[0]===0||Rt.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+Et),Ct<0?(Ct=-Ct,Rt.fontDirection=-1):Rt.fontDirection=1,this.current.font=St,this.current.fontSize=Ct,St.isType3Font)return;const jt=St.loadedName||"sans-serif",It=((Kt=St.systemFontInfo)==null?void 0:Kt.css)||`"${jt}", ${St.fallbackName}`;let zt="normal";St.black?zt="900":St.bold&&(zt="bold");const Wt=St.italic?"italic":"normal";let Zt=Ct;Ct<ot?Zt=ot:Ct>st&&(Zt=st),this.current.fontSizeScale=Ct/Zt,this.ctx.font=`${Wt} ${zt} ${Zt}px ${It}`}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setTextRise(Et){this.current.textRise=Et}moveText(Et,Ct){this.current.x=this.current.lineX+=Et,this.current.y=this.current.lineY+=Ct}setLeadingMoveText(Et,Ct){this.setLeading(-Ct),this.moveText(Et,Ct)}setTextMatrix(Et,Ct,St,Rt,jt,It){this.current.textMatrix=[Et,Ct,St,Rt,jt,It],this.current.textMatrixScale=Math.hypot(Et,Ct),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Et,Ct,St,Rt){const jt=this.ctx,It=this.current,zt=It.font,Wt=It.textRenderingMode,Zt=It.fontSize/It.fontSizeScale,Kt=Wt&tt.TextRenderingMode.FILL_STROKE_MASK,Xt=!!(Wt&tt.TextRenderingMode.ADD_TO_PATH_FLAG),rn=It.patternFill&&!zt.missingFile;let bn;(zt.disableFontFace||Xt||rn)&&(bn=zt.getPathGenerator(this.commonObjs,Et)),zt.disableFontFace||rn?(jt.save(),jt.translate(Ct,St),jt.beginPath(),bn(jt,Zt),Rt&&jt.setTransform(...Rt),(Kt===tt.TextRenderingMode.FILL||Kt===tt.TextRenderingMode.FILL_STROKE)&&jt.fill(),(Kt===tt.TextRenderingMode.STROKE||Kt===tt.TextRenderingMode.FILL_STROKE)&&jt.stroke(),jt.restore()):((Kt===tt.TextRenderingMode.FILL||Kt===tt.TextRenderingMode.FILL_STROKE)&&jt.fillText(Et,Ct,St),(Kt===tt.TextRenderingMode.STROKE||Kt===tt.TextRenderingMode.FILL_STROKE)&&jt.strokeText(Et,Ct,St)),Xt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nt.getCurrentTransform)(jt),x:Ct,y:St,fontSize:Zt,addToPath:bn})}get isFontSubpixelAAEnabled(){const{context:Et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Et.scale(1.5,1),Et.fillText("I",0,10);const Ct=Et.getImageData(0,0,10,10).data;let St=!1;for(let Rt=3;Rt<Ct.length;Rt+=4)if(Ct[Rt]>0&&Ct[Rt]<255){St=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",St)}showText(Et){const Ct=this.current,St=Ct.font;if(St.isType3Font)return this.showType3Text(Et);const Rt=Ct.fontSize;if(Rt===0)return;const jt=this.ctx,It=Ct.fontSizeScale,zt=Ct.charSpacing,Wt=Ct.wordSpacing,Zt=Ct.fontDirection,Kt=Ct.textHScale*Zt,Xt=Et.length,rn=St.vertical,bn=rn?1:-1,En=St.defaultVMetrics,Tn=Rt*Ct.fontMatrix[0],In=Ct.textRenderingMode===tt.TextRenderingMode.FILL&&!St.disableFontFace&&!Ct.patternFill;jt.save(),jt.transform(...Ct.textMatrix),jt.translate(Ct.x,Ct.y+Ct.textRise),Zt>0?jt.scale(Kt,-1):jt.scale(Kt,1);let Fn;if(Ct.patternFill){jt.save();const jn=Ct.fillColor.getPattern(jt,this,(0,nt.getCurrentTransformInverse)(jt),rt.PathType.FILL);Fn=(0,nt.getCurrentTransform)(jt),jt.restore(),jt.fillStyle=jn}let qn=Ct.lineWidth;const An=Ct.textMatrixScale;if(An===0||qn===0){const jn=Ct.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(jn===tt.TextRenderingMode.STROKE||jn===tt.TextRenderingMode.FILL_STROKE)&&(qn=this.getSinglePixelWidth())}else qn/=An;if(It!==1&&(jt.scale(It,It),qn/=It),jt.lineWidth=qn,St.isInvalidPDFjsFont){const jn=[];let Gn=0;for(const Xn of Et)jn.push(Xn.unicode),Gn+=Xn.width;jt.fillText(jn.join(""),0,0),Ct.x+=Gn*Tn*Kt,jt.restore(),this.compose();return}let hn=0,pn;for(pn=0;pn<Xt;++pn){const jn=Et[pn];if(typeof jn=="number"){hn+=bn*jn*Rt/1e3;continue}let Gn=!1;const Xn=(jn.isSpace?Wt:0)+zt,mr=jn.fontChar,Sr=jn.accent;let br,kr,Rr=jn.width;if(rn){const Nr=jn.vmetric||En,On=-(jn.vmetric?Nr[1]:Rr*.5)*Tn,mn=Nr[2]*Tn;Rr=Nr?-Nr[0]:Rr,br=On/It,kr=(hn+mn)/It}else br=hn/It,kr=0;if(St.remeasure&&Rr>0){const Nr=jt.measureText(mr).width*1e3/Rt*It;if(Rr<Nr&&this.isFontSubpixelAAEnabled){const On=Rr/Nr;Gn=!0,jt.save(),jt.scale(On,1),br/=On}else Rr!==Nr&&(br+=(Rr-Nr)/2e3*Rt/It)}if(this.contentVisible&&(jn.isInFont||St.missingFile)){if(In&&!Sr)jt.fillText(mr,br,kr);else if(this.paintChar(mr,br,kr,Fn),Sr){const Nr=br+Rt*Sr.offset.x/It,On=kr-Rt*Sr.offset.y/It;this.paintChar(Sr.fontChar,Nr,On,Fn)}}const xr=rn?Rr*Tn-Xn*Zt:Rr*Tn+Xn*Zt;hn+=xr,Gn&&jt.restore()}rn?Ct.y-=hn:Ct.x+=hn*Kt,jt.restore(),this.compose()}showType3Text(Et){const Ct=this.ctx,St=this.current,Rt=St.font,jt=St.fontSize,It=St.fontDirection,zt=Rt.vertical?1:-1,Wt=St.charSpacing,Zt=St.wordSpacing,Kt=St.textHScale*It,Xt=St.fontMatrix||tt.FONT_IDENTITY_MATRIX,rn=Et.length,bn=St.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let En,Tn,In,Fn;if(!(bn||jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Ct.save(),Ct.transform(...St.textMatrix),Ct.translate(St.x,St.y),Ct.scale(Kt,It),En=0;En<rn;++En){if(Tn=Et[En],typeof Tn=="number"){Fn=zt*Tn*jt/1e3,this.ctx.translate(Fn,0),St.x+=Fn*Kt;continue}const qn=(Tn.isSpace?Zt:0)+Wt,An=Rt.charProcOperatorList[Tn.operatorListId];if(!An){(0,tt.warn)(`Type3 character "${Tn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Tn,this.save(),Ct.scale(jt,jt),Ct.transform(...Xt),this.executeOperatorList(An),this.restore()),In=tt.Util.applyTransform([Tn.width,0],Xt)[0]*jt+qn,Ct.translate(In,0),St.x+=In*Kt}Ct.restore(),this.processingType3=null}}setCharWidth(Et,Ct){}setCharWidthAndBounds(Et,Ct,St,Rt,jt,It){this.ctx.rect(St,Rt,jt-St,It-Rt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Et){let Ct;if(Et[0]==="TilingPattern"){const St=Et[1],Rt=this.baseTransform||(0,nt.getCurrentTransform)(this.ctx),jt={createCanvasGraphics:It=>new Nn(It,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Ct=new rt.TilingPattern(Et,St,this.ctx,jt,Rt)}else Ct=this._getPattern(Et[1],Et[2]);return Ct}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Et,Ct,St){const Rt=tt.Util.makeHexColor(Et,Ct,St);this.ctx.strokeStyle=Rt,this.current.strokeColor=Rt}setFillRGBColor(Et,Ct,St){const Rt=tt.Util.makeHexColor(Et,Ct,St);this.ctx.fillStyle=Rt,this.current.fillColor=Rt,this.current.patternFill=!1}_getPattern(Et,Ct=null){let St;return this.cachedPatterns.has(Et)?St=this.cachedPatterns.get(Et):(St=(0,rt.getShadingPattern)(this.getObject(Et)),this.cachedPatterns.set(Et,St)),Ct&&(St.matrix=Ct),St}shadingFill(Et){if(!this.contentVisible)return;const Ct=this.ctx;this.save();const St=this._getPattern(Et);Ct.fillStyle=St.getPattern(Ct,this,(0,nt.getCurrentTransformInverse)(Ct),rt.PathType.SHADING);const Rt=(0,nt.getCurrentTransformInverse)(Ct);if(Rt){const{width:jt,height:It}=Ct.canvas,[zt,Wt,Zt,Kt]=tt.Util.getAxialAlignedBoundingBox([0,0,jt,It],Rt);this.ctx.fillRect(zt,Wt,Zt-zt,Kt-Wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Et,Ct){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Et)&&Et.length===6&&this.transform(...Et),this.baseTransform=(0,nt.getCurrentTransform)(this.ctx),Ct)){const St=Ct[2]-Ct[0],Rt=Ct[3]-Ct[1];this.ctx.rect(Ct[0],Ct[1],St,Rt),this.current.updateRectMinMax((0,nt.getCurrentTransform)(this.ctx),Ct),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ct=this.ctx;Et.isolated||(0,tt.info)("TODO: Support non-isolated groups."),Et.knockout&&(0,tt.warn)("Knockout groups not supported.");const St=(0,nt.getCurrentTransform)(Ct);if(Et.matrix&&Ct.transform(...Et.matrix),!Et.bbox)throw new Error("Bounding box is required.");let Rt=tt.Util.getAxialAlignedBoundingBox(Et.bbox,(0,nt.getCurrentTransform)(Ct));const jt=[0,0,Ct.canvas.width,Ct.canvas.height];Rt=tt.Util.intersect(Rt,jt)||[0,0,0,0];const It=Math.floor(Rt[0]),zt=Math.floor(Rt[1]);let Wt=Math.max(Math.ceil(Rt[2])-It,1),Zt=Math.max(Math.ceil(Rt[3])-zt,1),Kt=1,Xt=1;Wt>lt&&(Kt=Wt/lt,Wt=lt),Zt>lt&&(Xt=Zt/lt,Zt=lt),this.current.startNewPathAndClipBox([0,0,Wt,Zt]);let rn="groupAt"+this.groupLevel;Et.smask&&(rn+="_smask_"+this.smaskCounter++%2);const bn=this.cachedCanvases.getCanvas(rn,Wt,Zt),En=bn.context;En.scale(1/Kt,1/Xt),En.translate(-It,-zt),En.transform(...St),Et.smask?this.smaskStack.push({canvas:bn.canvas,context:En,offsetX:It,offsetY:zt,scaleX:Kt,scaleY:Xt,subtype:Et.smask.subtype,backdrop:Et.smask.backdrop,transferMap:Et.smask.transferMap||null,startTransformInverse:null}):(Ct.setTransform(1,0,0,1,0,0),Ct.translate(It,zt),Ct.scale(Kt,Xt),Ct.save()),ht(Ct,En),this.ctx=En,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ct),this.groupLevel++}endGroup(Et){if(!this.contentVisible)return;this.groupLevel--;const Ct=this.ctx,St=this.groupStack.pop();if(this.ctx=St,this.ctx.imageSmoothingEnabled=!1,Et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Rt=(0,nt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Rt);const jt=tt.Util.getAxialAlignedBoundingBox([0,0,Ct.canvas.width,Ct.canvas.height],Rt);this.ctx.drawImage(Ct.canvas,0,0),this.ctx.restore(),this.compose(jt)}}beginAnnotation(Et,Ct,St,Rt,jt){if(gn(this,Bt,$l).call(this),bt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ct)&&Ct.length===4){const It=Ct[2]-Ct[0],zt=Ct[3]-Ct[1];if(jt&&this.annotationCanvasMap){St=St.slice(),St[4]-=Ct[0],St[5]-=Ct[1],Ct=Ct.slice(),Ct[0]=Ct[1]=0,Ct[2]=It,Ct[3]=zt;const[Wt,Zt]=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(this.ctx)),{viewportScale:Kt}=this,Xt=Math.ceil(It*this.outputScaleX*Kt),rn=Math.ceil(zt*this.outputScaleY*Kt);this.annotationCanvas=this.canvasFactory.create(Xt,rn);const{canvas:bn,context:En}=this.annotationCanvas;this.annotationCanvasMap.set(Et,bn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=En,this.ctx.save(),this.ctx.setTransform(Wt,0,0,-Zt,0,zt*Zt),bt(this.ctx)}else bt(this.ctx),this.ctx.rect(Ct[0],Ct[1],It,zt),this.ctx.clip(),this.endPath()}this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...St),this.transform(...Rt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),gn(this,tn,Ml).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Et){if(!this.contentVisible)return;const Ct=Et.count;Et=this.getObject(Et.data,Et),Et.count=Ct;const St=this.ctx,Rt=this.processingType3;if(Rt&&(Rt.compiled===void 0&&(Rt.compiled=ut(Et)),Rt.compiled)){Rt.compiled(St);return}const jt=this._createMaskCanvas(Et),It=jt.canvas;St.save(),St.setTransform(1,0,0,1,0,0),St.drawImage(It,jt.offsetX,jt.offsetY),St.restore(),this.compose()}paintImageMaskXObjectRepeat(Et,Ct,St=0,Rt=0,jt,It){if(!this.contentVisible)return;Et=this.getObject(Et.data,Et);const zt=this.ctx;zt.save();const Wt=(0,nt.getCurrentTransform)(zt);zt.transform(Ct,St,Rt,jt,0,0);const Zt=this._createMaskCanvas(Et);zt.setTransform(1,0,0,1,Zt.offsetX-Wt[4],Zt.offsetY-Wt[5]);for(let Kt=0,Xt=It.length;Kt<Xt;Kt+=2){const rn=tt.Util.transform(Wt,[Ct,St,Rt,jt,It[Kt],It[Kt+1]]),[bn,En]=tt.Util.applyTransform([0,0],rn);zt.drawImage(Zt.canvas,bn,En)}zt.restore(),this.compose()}paintImageMaskXObjectGroup(Et){if(!this.contentVisible)return;const Ct=this.ctx,St=this.current.fillColor,Rt=this.current.patternFill;for(const jt of Et){const{data:It,width:zt,height:Wt,transform:Zt}=jt,Kt=this.cachedCanvases.getCanvas("maskCanvas",zt,Wt),Xt=Kt.context;Xt.save();const rn=this.getObject(It,jt);yt(Xt,rn),Xt.globalCompositeOperation="source-in",Xt.fillStyle=Rt?St.getPattern(Xt,this,(0,nt.getCurrentTransformInverse)(Ct),rt.PathType.FILL):St,Xt.fillRect(0,0,zt,Wt),Xt.restore(),Ct.save(),Ct.transform(...Zt),Ct.scale(1,-1),pt(Ct,Kt.canvas,0,0,zt,Wt,0,-1,1,1),Ct.restore()}this.compose()}paintImageXObject(Et){if(!this.contentVisible)return;const Ct=this.getObject(Et);if(!Ct){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ct)}paintImageXObjectRepeat(Et,Ct,St,Rt){if(!this.contentVisible)return;const jt=this.getObject(Et);if(!jt){(0,tt.warn)("Dependent image isn't ready yet");return}const It=jt.width,zt=jt.height,Wt=[];for(let Zt=0,Kt=Rt.length;Zt<Kt;Zt+=2)Wt.push({transform:[Ct,0,0,St,Rt[Zt],Rt[Zt+1]],x:0,y:0,w:It,h:zt});this.paintInlineImageXObjectGroup(jt,Wt)}applyTransferMapsToCanvas(Et){return this.current.transferMaps!=="none"&&(Et.filter=this.current.transferMaps,Et.drawImage(Et.canvas,0,0),Et.filter="none"),Et.canvas}applyTransferMapsToBitmap(Et){if(this.current.transferMaps==="none")return Et.bitmap;const{bitmap:Ct,width:St,height:Rt}=Et,jt=this.cachedCanvases.getCanvas("inlineImage",St,Rt),It=jt.context;return It.filter=this.current.transferMaps,It.drawImage(Ct,0,0),It.filter="none",jt.canvas}paintInlineImageXObject(Et){if(!this.contentVisible)return;const Ct=Et.width,St=Et.height,Rt=this.ctx;if(this.save(),!tt.isNodeJS){const{filter:zt}=Rt;zt!=="none"&&zt!==""&&(Rt.filter="none")}Rt.scale(1/Ct,-1/St);let jt;if(Et.bitmap)jt=this.applyTransferMapsToBitmap(Et);else if(typeof HTMLElement=="function"&&Et instanceof HTMLElement||!Et.data)jt=Et;else{const Wt=this.cachedCanvases.getCanvas("inlineImage",Ct,St).context;xt(Wt,Et),jt=this.applyTransferMapsToCanvas(Wt)}const It=this._scaleImage(jt,(0,nt.getCurrentTransformInverse)(Rt));Rt.imageSmoothingEnabled=Dt((0,nt.getCurrentTransform)(Rt),Et.interpolate),pt(Rt,It.img,0,0,It.paintWidth,It.paintHeight,0,-St,Ct,St),this.compose(),this.restore()}paintInlineImageXObjectGroup(Et,Ct){if(!this.contentVisible)return;const St=this.ctx;let Rt;if(Et.bitmap)Rt=Et.bitmap;else{const jt=Et.width,It=Et.height,Wt=this.cachedCanvases.getCanvas("inlineImage",jt,It).context;xt(Wt,Et),Rt=this.applyTransferMapsToCanvas(Wt)}for(const jt of Ct)St.save(),St.transform(...jt.transform),St.scale(1,-1),pt(St,Rt,jt.x,jt.y,jt.w,jt.h,0,-1,1,1),St.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Et){}markPointProps(Et,Ct){}beginMarkedContent(Et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Et,Ct){Et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ct)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Et){const Ct=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Et);const St=this.ctx;this.pendingClip&&(Ct||(this.pendingClip===qt?St.clip("evenodd"):St.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),St.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Et=(0,nt.getCurrentTransform)(this.ctx);if(Et[1]===0&&Et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Et[0]),Math.abs(Et[3]));else{const Ct=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),St=Math.hypot(Et[0],Et[2]),Rt=Math.hypot(Et[1],Et[3]);this._cachedGetSinglePixelWidth=Math.max(St,Rt)/Ct}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Et}=this.current,{a:Ct,b:St,c:Rt,d:jt}=this.ctx.getTransform();let It,zt;if(St===0&&Rt===0){const Wt=Math.abs(Ct),Zt=Math.abs(jt);if(Wt===Zt)if(Et===0)It=zt=1/Wt;else{const Kt=Wt*Et;It=zt=Kt<1?1/Kt:1}else if(Et===0)It=1/Wt,zt=1/Zt;else{const Kt=Wt*Et,Xt=Zt*Et;It=Kt<1?1/Kt:1,zt=Xt<1?1/Xt:1}}else{const Wt=Math.abs(Ct*jt-St*Rt),Zt=Math.hypot(Ct,St),Kt=Math.hypot(Rt,jt);if(Et===0)It=Kt/Wt,zt=Zt/Wt;else{const Xt=Et*Wt;It=Kt>Xt?Kt/Xt:1,zt=Zt>Xt?Zt/Xt:1}}this._cachedScaleForStroking[0]=It,this._cachedScaleForStroking[1]=zt}return this._cachedScaleForStroking}rescaleAndStroke(Et){const{ctx:Ct}=this,{lineWidth:St}=this.current,[Rt,jt]=this.getScaleForStroking();if(Ct.lineWidth=St||1,Rt===1&&jt===1){Ct.stroke();return}const It=Ct.getLineDash();if(Et&&Ct.save(),Ct.scale(Rt,jt),It.length>0){const zt=Math.max(Rt,jt);Ct.setLineDash(It.map(Wt=>Wt/zt)),Ct.lineDashOffset/=zt}Ct.stroke(),Et&&Ct.restore()}isContentVisible(){for(let Et=this.markedContentStack.length-1;Et>=0;Et--)if(!this.markedContentStack[Et].visible)return!1;return!0}};Bt=new WeakSet,$l=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tn=new WeakSet,Ml=function(){if(this.pageColors){const Et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Et!=="none"){const Ct=this.ctx.filter;this.ctx.filter=Et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Ct}}};let un=Nn;_e.CanvasGraphics=un;for(const Lt in tt.OPS)un.prototype[Lt]!==void 0&&(un.prototype[tt.OPS[Lt]]=un.prototype[Lt])},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TilingPattern=_e.PathType=void 0,_e.getShadingPattern=gt;var tt=et(1),nt=et(6);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};_e.PathType=rt;function it(ut,ct){if(!ct)return;const xt=ct[2]-ct[0],yt=ct[3]-ct[1],ht=new Path2D;ht.rect(ct[0],ct[1],xt,yt),ut.clip(ht)}class ot{constructor(){this.constructor===ot&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class st extends ot{constructor(ct){super(),this._type=ct[1],this._bbox=ct[2],this._colorStops=ct[3],this._p0=ct[4],this._p1=ct[5],this._r0=ct[6],this._r1=ct[7],this.matrix=null}_createGradient(ct){let xt;this._type==="axial"?xt=ct.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xt=ct.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const yt of this._colorStops)xt.addColorStop(yt[0],yt[1]);return xt}getPattern(ct,xt,yt,ht){let bt;if(ht===rt.STROKE||ht===rt.FILL){const Tt=xt.current.getClippedPathBoundingBox(ht,(0,nt.getCurrentTransform)(ct))||[0,0,0,0],Pt=Math.ceil(Tt[2]-Tt[0])||1,wt=Math.ceil(Tt[3]-Tt[1])||1,kt=xt.cachedCanvases.getCanvas("pattern",Pt,wt,!0),Mt=kt.context;Mt.clearRect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.beginPath(),Mt.rect(0,0,Mt.canvas.width,Mt.canvas.height),Mt.translate(-Tt[0],-Tt[1]),yt=tt.Util.transform(yt,[1,0,0,1,Tt[0],Tt[1]]),Mt.transform(...xt.baseTransform),this.matrix&&Mt.transform(...this.matrix),it(Mt,this._bbox),Mt.fillStyle=this._createGradient(Mt),Mt.fill(),bt=ct.createPattern(kt.canvas,"no-repeat");const Dt=new DOMMatrix(yt);bt.setTransform(Dt)}else it(ct,this._bbox),bt=this._createGradient(ct);return bt}}function lt(ut,ct,xt,yt,ht,bt,Tt,Pt){const wt=ct.coords,kt=ct.colors,Mt=ut.data,Dt=ut.width*4;let Ht;wt[xt+1]>wt[yt+1]&&(Ht=xt,xt=yt,yt=Ht,Ht=bt,bt=Tt,Tt=Ht),wt[yt+1]>wt[ht+1]&&(Ht=yt,yt=ht,ht=Ht,Ht=Tt,Tt=Pt,Pt=Ht),wt[xt+1]>wt[yt+1]&&(Ht=xt,xt=yt,yt=Ht,Ht=bt,bt=Tt,Tt=Ht);const Nt=(wt[xt]+ct.offsetX)*ct.scaleX,Vt=(wt[xt+1]+ct.offsetY)*ct.scaleY,qt=(wt[yt]+ct.offsetX)*ct.scaleX,un=(wt[yt+1]+ct.offsetY)*ct.scaleY,Bt=(wt[ht]+ct.offsetX)*ct.scaleX,nn=(wt[ht+1]+ct.offsetY)*ct.scaleY;if(Vt>=nn)return;const tn=kt[bt],_n=kt[bt+1],Nn=kt[bt+2],Lt=kt[Tt],Et=kt[Tt+1],Ct=kt[Tt+2],St=kt[Pt],Rt=kt[Pt+1],jt=kt[Pt+2],It=Math.round(Vt),zt=Math.round(nn);let Wt,Zt,Kt,Xt,rn,bn,En,Tn;for(let In=It;In<=zt;In++){if(In<un){const pn=In<Vt?0:(Vt-In)/(Vt-un);Wt=Nt-(Nt-qt)*pn,Zt=tn-(tn-Lt)*pn,Kt=_n-(_n-Et)*pn,Xt=Nn-(Nn-Ct)*pn}else{let pn;In>nn?pn=1:un===nn?pn=0:pn=(un-In)/(un-nn),Wt=qt-(qt-Bt)*pn,Zt=Lt-(Lt-St)*pn,Kt=Et-(Et-Rt)*pn,Xt=Ct-(Ct-jt)*pn}let Fn;In<Vt?Fn=0:In>nn?Fn=1:Fn=(Vt-In)/(Vt-nn),rn=Nt-(Nt-Bt)*Fn,bn=tn-(tn-St)*Fn,En=_n-(_n-Rt)*Fn,Tn=Nn-(Nn-jt)*Fn;const qn=Math.round(Math.min(Wt,rn)),An=Math.round(Math.max(Wt,rn));let hn=Dt*In+qn*4;for(let pn=qn;pn<=An;pn++)Fn=(Wt-pn)/(Wt-rn),Fn<0?Fn=0:Fn>1&&(Fn=1),Mt[hn++]=Zt-(Zt-bn)*Fn|0,Mt[hn++]=Kt-(Kt-En)*Fn|0,Mt[hn++]=Xt-(Xt-Tn)*Fn|0,Mt[hn++]=255}}function at(ut,ct,xt){const yt=ct.coords,ht=ct.colors;let bt,Tt;switch(ct.type){case"lattice":const Pt=ct.verticesPerRow,wt=Math.floor(yt.length/Pt)-1,kt=Pt-1;for(bt=0;bt<wt;bt++){let Mt=bt*Pt;for(let Dt=0;Dt<kt;Dt++,Mt++)lt(ut,xt,yt[Mt],yt[Mt+1],yt[Mt+Pt],ht[Mt],ht[Mt+1],ht[Mt+Pt]),lt(ut,xt,yt[Mt+Pt+1],yt[Mt+1],yt[Mt+Pt],ht[Mt+Pt+1],ht[Mt+1],ht[Mt+Pt])}break;case"triangles":for(bt=0,Tt=yt.length;bt<Tt;bt+=3)lt(ut,xt,yt[bt],yt[bt+1],yt[bt+2],ht[bt],ht[bt+1],ht[bt+2]);break;default:throw new Error("illegal figure")}}class mt extends ot{constructor(ct){super(),this._coords=ct[2],this._colors=ct[3],this._figures=ct[4],this._bounds=ct[5],this._bbox=ct[7],this._background=ct[8],this.matrix=null}_createMeshCanvas(ct,xt,yt){const Pt=Math.floor(this._bounds[0]),wt=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-Pt,Mt=Math.ceil(this._bounds[3])-wt,Dt=Math.min(Math.ceil(Math.abs(kt*ct[0]*1.1)),3e3),Ht=Math.min(Math.ceil(Math.abs(Mt*ct[1]*1.1)),3e3),Nt=kt/Dt,Vt=Mt/Ht,qt={coords:this._coords,colors:this._colors,offsetX:-Pt,offsetY:-wt,scaleX:1/Nt,scaleY:1/Vt},un=Dt+2*2,Bt=Ht+2*2,nn=yt.getCanvas("mesh",un,Bt,!1),tn=nn.context,_n=tn.createImageData(Dt,Ht);if(xt){const Lt=_n.data;for(let Et=0,Ct=Lt.length;Et<Ct;Et+=4)Lt[Et]=xt[0],Lt[Et+1]=xt[1],Lt[Et+2]=xt[2],Lt[Et+3]=255}for(const Lt of this._figures)at(_n,Lt,qt);return tn.putImageData(_n,2,2),{canvas:nn.canvas,offsetX:Pt-2*Nt,offsetY:wt-2*Vt,scaleX:Nt,scaleY:Vt}}getPattern(ct,xt,yt,ht){it(ct,this._bbox);let bt;if(ht===rt.SHADING)bt=tt.Util.singularValueDecompose2dScale((0,nt.getCurrentTransform)(ct));else if(bt=tt.Util.singularValueDecompose2dScale(xt.baseTransform),this.matrix){const Pt=tt.Util.singularValueDecompose2dScale(this.matrix);bt=[bt[0]*Pt[0],bt[1]*Pt[1]]}const Tt=this._createMeshCanvas(bt,ht===rt.SHADING?null:this._background,xt.cachedCanvases);return ht!==rt.SHADING&&(ct.setTransform(...xt.baseTransform),this.matrix&&ct.transform(...this.matrix)),ct.translate(Tt.offsetX,Tt.offsetY),ct.scale(Tt.scaleX,Tt.scaleY),ct.createPattern(Tt.canvas,"no-repeat")}}class ft extends ot{getPattern(){return"hotpink"}}function gt(ut){switch(ut[0]){case"RadialAxial":return new st(ut);case"Mesh":return new mt(ut);case"Dummy":return new ft}throw new Error(`Unknown IR type: ${ut[0]}`)}const vt={COLORED:1,UNCOLORED:2},pt=class pt{constructor(ct,xt,yt,ht,bt){this.operatorList=ct[2],this.matrix=ct[3]||[1,0,0,1,0,0],this.bbox=ct[4],this.xstep=ct[5],this.ystep=ct[6],this.paintType=ct[7],this.tilingType=ct[8],this.color=xt,this.ctx=yt,this.canvasGraphicsFactory=ht,this.baseTransform=bt}createPatternCanvas(ct){const xt=this.operatorList,yt=this.bbox,ht=this.xstep,bt=this.ystep,Tt=this.paintType,Pt=this.tilingType,wt=this.color,kt=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+Pt);const Mt=yt[0],Dt=yt[1],Ht=yt[2],Nt=yt[3],Vt=tt.Util.singularValueDecompose2dScale(this.matrix),qt=tt.Util.singularValueDecompose2dScale(this.baseTransform),un=[Vt[0]*qt[0],Vt[1]*qt[1]],Bt=this.getSizeAndScale(ht,this.ctx.canvas.width,un[0]),nn=this.getSizeAndScale(bt,this.ctx.canvas.height,un[1]),tn=ct.cachedCanvases.getCanvas("pattern",Bt.size,nn.size,!0),_n=tn.context,Nn=kt.createCanvasGraphics(_n);Nn.groupLevel=ct.groupLevel,this.setFillAndStrokeStyleToContext(Nn,Tt,wt);let Lt=Mt,Et=Dt,Ct=Ht,St=Nt;return Mt<0&&(Lt=0,Ct+=Math.abs(Mt)),Dt<0&&(Et=0,St+=Math.abs(Dt)),_n.translate(-(Bt.scale*Lt),-(nn.scale*Et)),Nn.transform(Bt.scale,0,0,nn.scale,0,0),_n.save(),this.clipBbox(Nn,Lt,Et,Ct,St),Nn.baseTransform=(0,nt.getCurrentTransform)(Nn.ctx),Nn.executeOperatorList(xt),Nn.endDrawing(),{canvas:tn.canvas,scaleX:Bt.scale,scaleY:nn.scale,offsetX:Lt,offsetY:Et}}getSizeAndScale(ct,xt,yt){ct=Math.abs(ct);const ht=Math.max(pt.MAX_PATTERN_SIZE,xt);let bt=Math.ceil(ct*yt);return bt>=ht?bt=ht:yt=bt/ct,{scale:yt,size:bt}}clipBbox(ct,xt,yt,ht,bt){const Tt=ht-xt,Pt=bt-yt;ct.ctx.rect(xt,yt,Tt,Pt),ct.current.updateRectMinMax((0,nt.getCurrentTransform)(ct.ctx),[xt,yt,ht,bt]),ct.clip(),ct.endPath()}setFillAndStrokeStyleToContext(ct,xt,yt){const ht=ct.ctx,bt=ct.current;switch(xt){case vt.COLORED:const Tt=this.ctx;ht.fillStyle=Tt.fillStyle,ht.strokeStyle=Tt.strokeStyle,bt.fillColor=Tt.fillStyle,bt.strokeColor=Tt.strokeStyle;break;case vt.UNCOLORED:const Pt=tt.Util.makeHexColor(yt[0],yt[1],yt[2]);ht.fillStyle=Pt,ht.strokeStyle=Pt,bt.fillColor=Pt,bt.strokeColor=Pt;break;default:throw new tt.FormatError(`Unsupported paint type: ${xt}`)}}getPattern(ct,xt,yt,ht){let bt=yt;ht!==rt.SHADING&&(bt=tt.Util.transform(bt,xt.baseTransform),this.matrix&&(bt=tt.Util.transform(bt,this.matrix)));const Tt=this.createPatternCanvas(xt);let Pt=new DOMMatrix(bt);Pt=Pt.translate(Tt.offsetX,Tt.offsetY),Pt=Pt.scale(1/Tt.scaleX,1/Tt.scaleY);const wt=ct.createPattern(Tt.canvas,"repeat");return wt.setTransform(Pt),wt}};Eo(pt,"MAX_PATTERN_SIZE",3e3);let dt=pt;_e.TilingPattern=dt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertBlackAndWhiteToRGBA=rt,_e.convertToRGBA=nt,_e.grayToRGBA=ot;var tt=et(1);function nt(st){switch(st.kind){case tt.ImageKind.GRAYSCALE_1BPP:return rt(st);case tt.ImageKind.RGB_24BPP:return it(st)}return null}function rt({src:st,srcPos:lt=0,dest:at,width:mt,height:ft,nonBlackColor:gt=4294967295,inverseDecode:vt=!1}){const dt=tt.FeatureTest.isLittleEndian?4278190080:255,[pt,ut]=vt?[gt,dt]:[dt,gt],ct=mt>>3,xt=mt&7,yt=st.length;at=new Uint32Array(at.buffer);let ht=0;for(let bt=0;bt<ft;bt++){for(const Pt=lt+ct;lt<Pt;lt++){const wt=lt<yt?st[lt]:255;at[ht++]=wt&128?ut:pt,at[ht++]=wt&64?ut:pt,at[ht++]=wt&32?ut:pt,at[ht++]=wt&16?ut:pt,at[ht++]=wt&8?ut:pt,at[ht++]=wt&4?ut:pt,at[ht++]=wt&2?ut:pt,at[ht++]=wt&1?ut:pt}if(xt===0)continue;const Tt=lt<yt?st[lt++]:255;for(let Pt=0;Pt<xt;Pt++)at[ht++]=Tt&1<<7-Pt?ut:pt}return{srcPos:lt,destPos:ht}}function it({src:st,srcPos:lt=0,dest:at,destPos:mt=0,width:ft,height:gt}){let vt=0;const dt=st.length>>2,pt=new Uint32Array(st.buffer,lt,dt);if(tt.FeatureTest.isLittleEndian){for(;vt<dt-2;vt+=3,mt+=4){const ut=pt[vt],ct=pt[vt+1],xt=pt[vt+2];at[mt]=ut|4278190080,at[mt+1]=ut>>>24|ct<<8|4278190080,at[mt+2]=ct>>>16|xt<<16|4278190080,at[mt+3]=xt>>>8|4278190080}for(let ut=vt*4,ct=st.length;ut<ct;ut+=3)at[mt++]=st[ut]|st[ut+1]<<8|st[ut+2]<<16|4278190080}else{for(;vt<dt-2;vt+=3,mt+=4){const ut=pt[vt],ct=pt[vt+1],xt=pt[vt+2];at[mt]=ut|255,at[mt+1]=ut<<24|ct>>>8|255,at[mt+2]=ct<<16|xt>>>16|255,at[mt+3]=xt<<8|255}for(let ut=vt*4,ct=st.length;ut<ct;ut+=3)at[mt++]=st[ut]<<24|st[ut+1]<<16|st[ut+2]<<8|255}return{srcPos:lt,destPos:mt}}function ot(st,lt){if(tt.FeatureTest.isLittleEndian)for(let at=0,mt=st.length;at<mt;at++)lt[at]=st[at]*65793|4278190080;else for(let at=0,mt=st.length;at<mt;at++)lt[at]=st[at]*16843008|255}},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlobalWorkerOptions=void 0;const et=Object.create(null);_e.GlobalWorkerOptions=et,et.workerPort=null,et.workerSrc=""},($,_e,et)=>{var st,xu,at,yu,ft,Ds;Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var tt=et(1);const nt={UNKNOWN:0,DATA:1,ERROR:2},rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(vt){switch(vt instanceof Error||typeof vt=="object"&&vt!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),vt.name){case"AbortException":return new tt.AbortException(vt.message);case"MissingPDFException":return new tt.MissingPDFException(vt.message);case"PasswordException":return new tt.PasswordException(vt.message,vt.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(vt.message,vt.status);case"UnknownErrorException":return new tt.UnknownErrorException(vt.message,vt.details);default:return new tt.UnknownErrorException(vt.message,vt.toString())}}class ot{constructor(dt,pt,ut){en(this,st);en(this,at);en(this,ft);this.sourceName=dt,this.targetName=pt,this.comObj=ut,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ct=>{const xt=ct.data;if(xt.targetName!==this.sourceName)return;if(xt.stream){gn(this,at,yu).call(this,xt);return}if(xt.callback){const ht=xt.callbackId,bt=this.callbackCapabilities[ht];if(!bt)throw new Error(`Cannot resolve callback ${ht}`);if(delete this.callbackCapabilities[ht],xt.callback===nt.DATA)bt.resolve(xt.data);else if(xt.callback===nt.ERROR)bt.reject(it(xt.reason));else throw new Error("Unexpected callback case");return}const yt=this.actionHandler[xt.action];if(!yt)throw new Error(`Unknown action from worker: ${xt.action}`);if(xt.callbackId){const ht=this.sourceName,bt=xt.sourceName;new Promise(function(Tt){Tt(yt(xt.data))}).then(function(Tt){ut.postMessage({sourceName:ht,targetName:bt,callback:nt.DATA,callbackId:xt.callbackId,data:Tt})},function(Tt){ut.postMessage({sourceName:ht,targetName:bt,callback:nt.ERROR,callbackId:xt.callbackId,reason:it(Tt)})});return}if(xt.streamId){gn(this,st,xu).call(this,xt);return}yt(xt.data)},ut.addEventListener("message",this._onComObjOnMessage)}on(dt,pt){const ut=this.actionHandler;if(ut[dt])throw new Error(`There is already an actionName called "${dt}"`);ut[dt]=pt}send(dt,pt,ut){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:pt},ut)}sendWithPromise(dt,pt,ut){const ct=this.callbackId++,xt=new tt.PromiseCapability;this.callbackCapabilities[ct]=xt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:ct,data:pt},ut)}catch(yt){xt.reject(yt)}return xt.promise}sendWithStream(dt,pt,ut,ct){const xt=this.streamId++,yt=this.sourceName,ht=this.targetName,bt=this.comObj;return new ReadableStream({start:Tt=>{const Pt=new tt.PromiseCapability;return this.streamControllers[xt]={controller:Tt,startCall:Pt,pullCall:null,cancelCall:null,isClosed:!1},bt.postMessage({sourceName:yt,targetName:ht,action:dt,streamId:xt,data:pt,desiredSize:Tt.desiredSize},ct),Pt.promise},pull:Tt=>{const Pt=new tt.PromiseCapability;return this.streamControllers[xt].pullCall=Pt,bt.postMessage({sourceName:yt,targetName:ht,stream:rt.PULL,streamId:xt,desiredSize:Tt.desiredSize}),Pt.promise},cancel:Tt=>{(0,tt.assert)(Tt instanceof Error,"cancel must have a valid reason");const Pt=new tt.PromiseCapability;return this.streamControllers[xt].cancelCall=Pt,this.streamControllers[xt].isClosed=!0,bt.postMessage({sourceName:yt,targetName:ht,stream:rt.CANCEL,streamId:xt,reason:it(Tt)}),Pt.promise}},ut)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}st=new WeakSet,xu=function(dt){const pt=dt.streamId,ut=this.sourceName,ct=dt.sourceName,xt=this.comObj,yt=this,ht=this.actionHandler[dt.action],bt={enqueue(Tt,Pt=1,wt){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=Pt,kt>0&&this.desiredSize<=0&&(this.sinkCapability=new tt.PromiseCapability,this.ready=this.sinkCapability.promise),xt.postMessage({sourceName:ut,targetName:ct,stream:rt.ENQUEUE,streamId:pt,chunk:Tt},wt)},close(){this.isCancelled||(this.isCancelled=!0,xt.postMessage({sourceName:ut,targetName:ct,stream:rt.CLOSE,streamId:pt}),delete yt.streamSinks[pt])},error(Tt){(0,tt.assert)(Tt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xt.postMessage({sourceName:ut,targetName:ct,stream:rt.ERROR,streamId:pt,reason:it(Tt)}))},sinkCapability:new tt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};bt.sinkCapability.resolve(),bt.ready=bt.sinkCapability.promise,this.streamSinks[pt]=bt,new Promise(function(Tt){Tt(ht(dt.data,bt))}).then(function(){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.START_COMPLETE,streamId:pt,success:!0})},function(Tt){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.START_COMPLETE,streamId:pt,reason:it(Tt)})})},at=new WeakSet,yu=function(dt){const pt=dt.streamId,ut=this.sourceName,ct=dt.sourceName,xt=this.comObj,yt=this.streamControllers[pt],ht=this.streamSinks[pt];switch(dt.stream){case rt.START_COMPLETE:dt.success?yt.startCall.resolve():yt.startCall.reject(it(dt.reason));break;case rt.PULL_COMPLETE:dt.success?yt.pullCall.resolve():yt.pullCall.reject(it(dt.reason));break;case rt.PULL:if(!ht){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.PULL_COMPLETE,streamId:pt,success:!0});break}ht.desiredSize<=0&&dt.desiredSize>0&&ht.sinkCapability.resolve(),ht.desiredSize=dt.desiredSize,new Promise(function(bt){var Tt;bt((Tt=ht.onPull)==null?void 0:Tt.call(ht))}).then(function(){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.PULL_COMPLETE,streamId:pt,success:!0})},function(bt){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.PULL_COMPLETE,streamId:pt,reason:it(bt)})});break;case rt.ENQUEUE:if((0,tt.assert)(yt,"enqueue should have stream controller"),yt.isClosed)break;yt.controller.enqueue(dt.chunk);break;case rt.CLOSE:if((0,tt.assert)(yt,"close should have stream controller"),yt.isClosed)break;yt.isClosed=!0,yt.controller.close(),gn(this,ft,Ds).call(this,yt,pt);break;case rt.ERROR:(0,tt.assert)(yt,"error should have stream controller"),yt.controller.error(it(dt.reason)),gn(this,ft,Ds).call(this,yt,pt);break;case rt.CANCEL_COMPLETE:dt.success?yt.cancelCall.resolve():yt.cancelCall.reject(it(dt.reason)),gn(this,ft,Ds).call(this,yt,pt);break;case rt.CANCEL:if(!ht)break;new Promise(function(bt){var Tt;bt((Tt=ht.onCancel)==null?void 0:Tt.call(ht,it(dt.reason)))}).then(function(){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.CANCEL_COMPLETE,streamId:pt,success:!0})},function(bt){xt.postMessage({sourceName:ut,targetName:ct,stream:rt.CANCEL_COMPLETE,streamId:pt,reason:it(bt)})}),ht.sinkCapability.reject(it(dt.reason)),ht.isCancelled=!0,delete this.streamSinks[pt];break;default:throw new Error("Unexpected stream case")}},ft=new WeakSet,Ds=async function(dt,pt){var ut,ct,xt;await Promise.allSettled([(ut=dt.startCall)==null?void 0:ut.promise,(ct=dt.pullCall)==null?void 0:ct.promise,(xt=dt.cancelCall)==null?void 0:xt.promise]),delete this.streamControllers[pt]},_e.MessageHandler=ot},($,_e,et)=>{var rt,it;Object.defineProperty(_e,"__esModule",{value:!0}),_e.Metadata=void 0;var tt=et(1);class nt{constructor({parsedData:st,rawData:lt}){en(this,rt,void 0);en(this,it,void 0);Pn(this,rt,st),Pn(this,it,lt)}getRaw(){return _t(this,it)}get(st){return _t(this,rt).get(st)??null}getAll(){return(0,tt.objectFromMap)(_t(this,rt))}has(st){return _t(this,rt).has(st)}}rt=new WeakMap,it=new WeakMap,_e.Metadata=nt},($,_e,et)=>{var st,lt,at,mt,ft,gt,Nl;Object.defineProperty(_e,"__esModule",{value:!0}),_e.OptionalContentConfig=void 0;var tt=et(1),nt=et(8);const rt=Symbol("INTERNAL");class it{constructor(pt,ut){en(this,st,!0);this.name=pt,this.intent=ut}get visible(){return _t(this,st)}_setVisible(pt,ut){pt!==rt&&(0,tt.unreachable)("Internal method `_setVisible` called."),Pn(this,st,ut)}}st=new WeakMap;class ot{constructor(pt){en(this,gt);en(this,lt,null);en(this,at,new Map);en(this,mt,null);en(this,ft,null);if(this.name=null,this.creator=null,pt!==null){this.name=pt.name,this.creator=pt.creator,Pn(this,ft,pt.order);for(const ut of pt.groups)_t(this,at).set(ut.id,new it(ut.name,ut.intent));if(pt.baseState==="OFF")for(const ut of _t(this,at).values())ut._setVisible(rt,!1);for(const ut of pt.on)_t(this,at).get(ut)._setVisible(rt,!0);for(const ut of pt.off)_t(this,at).get(ut)._setVisible(rt,!1);Pn(this,mt,this.getHash())}}isVisible(pt){if(_t(this,at).size===0)return!0;if(!pt)return(0,tt.warn)("Optional content group not defined."),!0;if(pt.type==="OCG")return _t(this,at).has(pt.id)?_t(this,at).get(pt.id).visible:((0,tt.warn)(`Optional content group not found: ${pt.id}`),!0);if(pt.type==="OCMD"){if(pt.expression)return gn(this,gt,Nl).call(this,pt.expression);if(!pt.policy||pt.policy==="AnyOn"){for(const ut of pt.ids){if(!_t(this,at).has(ut))return(0,tt.warn)(`Optional content group not found: ${ut}`),!0;if(_t(this,at).get(ut).visible)return!0}return!1}else if(pt.policy==="AllOn"){for(const ut of pt.ids){if(!_t(this,at).has(ut))return(0,tt.warn)(`Optional content group not found: ${ut}`),!0;if(!_t(this,at).get(ut).visible)return!1}return!0}else if(pt.policy==="AnyOff"){for(const ut of pt.ids){if(!_t(this,at).has(ut))return(0,tt.warn)(`Optional content group not found: ${ut}`),!0;if(!_t(this,at).get(ut).visible)return!0}return!1}else if(pt.policy==="AllOff"){for(const ut of pt.ids){if(!_t(this,at).has(ut))return(0,tt.warn)(`Optional content group not found: ${ut}`),!0;if(_t(this,at).get(ut).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${pt.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${pt.type}.`),!0}setVisibility(pt,ut=!0){if(!_t(this,at).has(pt)){(0,tt.warn)(`Optional content group not found: ${pt}`);return}_t(this,at).get(pt)._setVisible(rt,!!ut),Pn(this,lt,null)}get hasInitialVisibility(){return _t(this,mt)===null||this.getHash()===_t(this,mt)}getOrder(){return _t(this,at).size?_t(this,ft)?_t(this,ft).slice():[..._t(this,at).keys()]:null}getGroups(){return _t(this,at).size>0?(0,tt.objectFromMap)(_t(this,at)):null}getGroup(pt){return _t(this,at).get(pt)||null}getHash(){if(_t(this,lt)!==null)return _t(this,lt);const pt=new nt.MurmurHash3_64;for(const[ut,ct]of _t(this,at))pt.update(`${ut}:${ct.visible}`);return Pn(this,lt,pt.hexdigest())}}lt=new WeakMap,at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakSet,Nl=function(pt){const ut=pt.length;if(ut<2)return!0;const ct=pt[0];for(let xt=1;xt<ut;xt++){const yt=pt[xt];let ht;if(Array.isArray(yt))ht=gn(this,gt,Nl).call(this,yt);else if(_t(this,at).has(yt))ht=_t(this,at).get(yt).visible;else return(0,tt.warn)(`Optional content group not found: ${yt}`),!0;switch(ct){case"And":if(!ht)return!1;break;case"Or":if(ht)return!0;break;case"Not":return!ht;default:return!0}}return ct==="And"},_e.OptionalContentConfig=ot},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFDataTransportStream=void 0;var tt=et(1),nt=et(6);class rt{constructor({length:lt,initialData:at,progressiveDone:mt=!1,contentDispositionFilename:ft=null,disableRange:gt=!1,disableStream:vt=!1},dt){if((0,tt.assert)(dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=mt,this._contentDispositionFilename=ft,(at==null?void 0:at.length)>0){const pt=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;this._queuedChunks.push(pt)}this._pdfDataRangeTransport=dt,this._isStreamingSupported=!vt,this._isRangeSupported=!gt,this._contentLength=lt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pt,ut)=>{this._onReceiveData({begin:pt,chunk:ut})}),this._pdfDataRangeTransport.addProgressListener((pt,ut)=>{this._onProgress({loaded:pt,total:ut})}),this._pdfDataRangeTransport.addProgressiveReadListener(pt=>{this._onReceiveData({chunk:pt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:lt,chunk:at}){const mt=at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength?at.buffer:new Uint8Array(at).buffer;if(lt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(mt):this._queuedChunks.push(mt);else{const ft=this._rangeReaders.some(function(gt){return gt._begin!==lt?!1:(gt._enqueue(mt),!0)});(0,tt.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var lt;return((lt=this._fullRequestReader)==null?void 0:lt._loaded)??0}_onProgress(lt){var at,mt,ft,gt;lt.total===void 0?(mt=(at=this._rangeReaders[0])==null?void 0:at.onProgress)==null||mt.call(at,{loaded:lt.loaded}):(gt=(ft=this._fullRequestReader)==null?void 0:ft.onProgress)==null||gt.call(ft,{loaded:lt.loaded,total:lt.total})}_onProgressiveDone(){var lt;(lt=this._fullRequestReader)==null||lt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(lt){const at=this._rangeReaders.indexOf(lt);at>=0&&this._rangeReaders.splice(at,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const lt=this._queuedChunks;return this._queuedChunks=null,new it(this,lt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(lt,at){if(at<=this._progressiveDataLength)return null;const mt=new ot(this,lt,at);return this._pdfDataRangeTransport.requestDataRange(lt,at),this._rangeReaders.push(mt),mt}cancelAllRequests(lt){var at;(at=this._fullRequestReader)==null||at.cancel(lt);for(const mt of this._rangeReaders.slice(0))mt.cancel(lt);this._pdfDataRangeTransport.abort()}}_e.PDFDataTransportStream=rt;class it{constructor(lt,at,mt=!1,ft=null){this._stream=lt,this._done=mt||!1,this._filename=(0,nt.isPdfFile)(ft)?ft:null,this._queuedChunks=at||[],this._loaded=0;for(const gt of this._queuedChunks)this._loaded+=gt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),lt._fullRequestReader=this,this.onProgress=null}_enqueue(lt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunks.push(lt),this._loaded+=lt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=new tt.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ot{constructor(lt,at,mt){this._stream=lt,this._begin=at,this._end=mt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(lt){if(!this._done){if(this._requests.length===0)this._queuedChunk=lt;else{this._requests.shift().resolve({value:lt,done:!1});for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const at=this._queuedChunk;return this._queuedChunk=null,{value:at,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=new tt.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFFetchStream=void 0;var tt=et(1),nt=et(20);function rt(mt,ft,gt){return{method:"GET",headers:mt,signal:gt.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function it(mt){const ft=new Headers;for(const gt in mt){const vt=mt[gt];vt!==void 0&&ft.append(gt,vt)}return ft}function ot(mt){return mt instanceof Uint8Array?mt.buffer:mt instanceof ArrayBuffer?mt:((0,tt.warn)(`getArrayBuffer - unexpected data format: ${mt}`),new Uint8Array(mt).buffer)}class st{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this),this._fullRequestReader}getRangeReader(ft,gt){if(gt<=this._progressiveDataLength)return null;const vt=new at(this,ft,gt);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests(ft){var gt;(gt=this._fullRequestReader)==null||gt.cancel(ft);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel(ft)}}_e.PDFFetchStream=st;class lt{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const gt=ft.source;this._withCredentials=gt.withCredentials||!1,this._contentLength=gt.length,this._headersCapability=new tt.PromiseCapability,this._disableRange=gt.disableRange||!1,this._rangeChunkSize=gt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!gt.disableStream,this._isRangeSupported=!gt.disableRange,this._headers=it(this._stream.httpHeaders);const vt=gt.url;fetch(vt,rt(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,nt.validateResponseStatus)(dt.status))throw(0,nt.createResponseStatusError)(dt.status,vt);this._reader=dt.body.getReader(),this._headersCapability.resolve();const pt=xt=>dt.headers.get(xt),{allowRangeRequests:ut,suggestedLength:ct}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ut,this._contentLength=ct||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(pt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:ft,done:gt}=await this._reader.read();return gt?{value:ft,done:gt}:(this._loaded+=ft.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ot(ft),done:!1})}cancel(ft){var gt;(gt=this._reader)==null||gt.cancel(ft),this._abortController.abort()}}class at{constructor(ft,gt,vt){this._stream=ft,this._reader=null,this._loaded=0;const dt=ft.source;this._withCredentials=dt.withCredentials||!1,this._readCapability=new tt.PromiseCapability,this._isStreamingSupported=!dt.disableStream,this._abortController=new AbortController,this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${gt}-${vt-1}`);const pt=dt.url;fetch(pt,rt(this._headers,this._withCredentials,this._abortController)).then(ut=>{if(!(0,nt.validateResponseStatus)(ut.status))throw(0,nt.createResponseStatusError)(ut.status,pt);this._readCapability.resolve(),this._reader=ut.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:ft,done:gt}=await this._reader.read();return gt?{value:ft,done:gt}:(this._loaded+=ft.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:ot(ft),done:!1})}cancel(ft){var gt;(gt=this._reader)==null||gt.cancel(ft),this._abortController.abort()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createResponseStatusError=st,_e.extractFilenameFromHeader=ot,_e.validateRangeRequestCapabilities=it,_e.validateResponseStatus=lt;var tt=et(1),nt=et(21),rt=et(6);function it({getResponseHeader:at,isHttp:mt,rangeChunkSize:ft,disableRange:gt}){const vt={allowRangeRequests:!1,suggestedLength:void 0},dt=parseInt(at("Content-Length"),10);return!Number.isInteger(dt)||(vt.suggestedLength=dt,dt<=2*ft)||gt||!mt||at("Accept-Ranges")!=="bytes"||(at("Content-Encoding")||"identity")!=="identity"||(vt.allowRangeRequests=!0),vt}function ot(at){const mt=at("Content-Disposition");if(mt){let ft=(0,nt.getFilenameFromContentDispositionHeader)(mt);if(ft.includes("%"))try{ft=decodeURIComponent(ft)}catch{}if((0,rt.isPdfFile)(ft))return ft}return null}function st(at,mt){return at===404||at===0&&mt.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+mt+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${at}) while retrieving PDF "${mt}".`,at)}function lt(at){return at===200||at===206}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFilenameFromContentDispositionHeader=nt;var tt=et(1);function nt(rt){let it=!0,ot=st("filename\\*","i").exec(rt);if(ot){ot=ot[1];let dt=ft(ot);return dt=unescape(dt),dt=gt(dt),dt=vt(dt),at(dt)}if(ot=mt(rt),ot){const dt=vt(ot);return at(dt)}if(ot=st("filename","i").exec(rt),ot){ot=ot[1];let dt=ft(ot);return dt=vt(dt),at(dt)}function st(dt,pt){return new RegExp("(?:^|;)\\s*"+dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pt)}function lt(dt,pt){if(dt){if(!/^[\x00-\xFF]+$/.test(pt))return pt;try{const ut=new TextDecoder(dt,{fatal:!0}),ct=(0,tt.stringToBytes)(pt);pt=ut.decode(ct),it=!1}catch{}}return pt}function at(dt){return it&&/[\x80-\xff]/.test(dt)&&(dt=lt("utf-8",dt),it&&(dt=lt("iso-8859-1",dt))),dt}function mt(dt){const pt=[];let ut;const ct=st("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ut=ct.exec(dt))!==null;){let[,yt,ht,bt]=ut;if(yt=parseInt(yt,10),yt in pt){if(yt===0)break;continue}pt[yt]=[ht,bt]}const xt=[];for(let yt=0;yt<pt.length&&yt in pt;++yt){let[ht,bt]=pt[yt];bt=ft(bt),ht&&(bt=unescape(bt),yt===0&&(bt=gt(bt))),xt.push(bt)}return xt.join("")}function ft(dt){if(dt.startsWith('"')){const pt=dt.slice(1).split('\\"');for(let ut=0;ut<pt.length;++ut){const ct=pt[ut].indexOf('"');ct!==-1&&(pt[ut]=pt[ut].slice(0,ct),pt.length=ut+1),pt[ut]=pt[ut].replaceAll(/\\(.)/g,"$1")}dt=pt.join('"')}return dt}function gt(dt){const pt=dt.indexOf("'");if(pt===-1)return dt;const ut=dt.slice(0,pt),xt=dt.slice(pt+1).replace(/^[^']*'/,"");return lt(ut,xt)}function vt(dt){return!dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dt)?dt:dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pt,ut,ct,xt){if(ct==="q"||ct==="Q")return xt=xt.replaceAll("_"," "),xt=xt.replaceAll(/=([0-9a-fA-F]{2})/g,function(yt,ht){return String.fromCharCode(parseInt(ht,16))}),lt(ut,xt);try{xt=atob(xt)}catch{}return lt(ut,xt)})}return""}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNetworkStream=void 0;var tt=et(1),nt=et(20);const rt=200,it=206;function ot(ft){const gt=ft.response;return typeof gt!="string"?gt:(0,tt.stringToBytes)(gt).buffer}class st{constructor(gt,vt={}){this.url=gt,this.isHttp=/^https?:/i.test(gt),this.httpHeaders=this.isHttp&&vt.httpHeaders||Object.create(null),this.withCredentials=vt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(gt,vt,dt){const pt={begin:gt,end:vt};for(const ut in dt)pt[ut]=dt[ut];return this.request(pt)}requestFull(gt){return this.request(gt)}request(gt){const vt=new XMLHttpRequest,dt=this.currXhrId++,pt=this.pendingRequests[dt]={xhr:vt};vt.open("GET",this.url),vt.withCredentials=this.withCredentials;for(const ut in this.httpHeaders){const ct=this.httpHeaders[ut];ct!==void 0&&vt.setRequestHeader(ut,ct)}return this.isHttp&&"begin"in gt&&"end"in gt?(vt.setRequestHeader("Range",`bytes=${gt.begin}-${gt.end-1}`),pt.expectedStatus=it):pt.expectedStatus=rt,vt.responseType="arraybuffer",gt.onError&&(vt.onerror=function(ut){gt.onError(vt.status)}),vt.onreadystatechange=this.onStateChange.bind(this,dt),vt.onprogress=this.onProgress.bind(this,dt),pt.onHeadersReceived=gt.onHeadersReceived,pt.onDone=gt.onDone,pt.onError=gt.onError,pt.onProgress=gt.onProgress,vt.send(null),dt}onProgress(gt,vt){var pt;const dt=this.pendingRequests[gt];dt&&((pt=dt.onProgress)==null||pt.call(dt,vt))}onStateChange(gt,vt){var yt,ht,bt;const dt=this.pendingRequests[gt];if(!dt)return;const pt=dt.xhr;if(pt.readyState>=2&&dt.onHeadersReceived&&(dt.onHeadersReceived(),delete dt.onHeadersReceived),pt.readyState!==4||!(gt in this.pendingRequests))return;if(delete this.pendingRequests[gt],pt.status===0&&this.isHttp){(yt=dt.onError)==null||yt.call(dt,pt.status);return}const ut=pt.status||rt;if(!(ut===rt&&dt.expectedStatus===it)&&ut!==dt.expectedStatus){(ht=dt.onError)==null||ht.call(dt,pt.status);return}const xt=ot(pt);if(ut===it){const Tt=pt.getResponseHeader("Content-Range"),Pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Tt);dt.onDone({begin:parseInt(Pt[1],10),chunk:xt})}else xt?dt.onDone({begin:0,chunk:xt}):(bt=dt.onError)==null||bt.call(dt,pt.status)}getRequestXhr(gt){return this.pendingRequests[gt].xhr}isPendingRequest(gt){return gt in this.pendingRequests}abortRequest(gt){const vt=this.pendingRequests[gt].xhr;delete this.pendingRequests[gt],vt.abort()}}class lt{constructor(gt){this._source=gt,this._manager=new st(gt.url,{httpHeaders:gt.httpHeaders,withCredentials:gt.withCredentials}),this._rangeChunkSize=gt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(gt){const vt=this._rangeRequestReaders.indexOf(gt);vt>=0&&this._rangeRequestReaders.splice(vt,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new at(this._manager,this._source),this._fullRequestReader}getRangeReader(gt,vt){const dt=new mt(this._manager,gt,vt);return dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dt),dt}cancelAllRequests(gt){var vt;(vt=this._fullRequestReader)==null||vt.cancel(gt);for(const dt of this._rangeRequestReaders.slice(0))dt.cancel(gt)}}_e.PDFNetworkStream=lt;class at{constructor(gt,vt){this._manager=gt;const dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vt.url,this._fullRequestId=gt.requestFull(dt),this._headersReceivedCapability=new tt.PromiseCapability,this._disableRange=vt.disableRange||!1,this._contentLength=vt.length,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const gt=this._fullRequestId,vt=this._manager.getRequestXhr(gt),dt=ct=>vt.getResponseHeader(ct),{allowRangeRequests:pt,suggestedLength:ut}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pt&&(this._isRangeSupported=!0),this._contentLength=ut||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(dt),this._isRangeSupported&&this._manager.abortRequest(gt),this._headersReceivedCapability.resolve()}_onDone(gt){if(gt&&(this._requests.length>0?this._requests.shift().resolve({value:gt.chunk,done:!1}):this._cachedChunks.push(gt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(gt){this._storedError=(0,nt.createResponseStatusError)(gt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const vt of this._requests)vt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(gt){var vt;(vt=this.onProgress)==null||vt.call(this,{loaded:gt.loaded,total:gt.lengthComputable?gt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const gt=new tt.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0,this._headersReceivedCapability.reject(gt);for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mt{constructor(gt,vt,dt){this._manager=gt;const pt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=gt.url,this._requestId=gt.requestRange(vt,dt,pt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var gt;(gt=this.onClosed)==null||gt.call(this,this)}_onDone(gt){const vt=gt.chunk;this._requests.length>0?this._requests.shift().resolve({value:vt,done:!1}):this._queuedChunk=vt,this._done=!0;for(const dt of this._requests)dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(gt){this._storedError=(0,nt.createResponseStatusError)(gt,this._url);for(const vt of this._requests)vt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(gt){var vt;this.isStreamingSupported||(vt=this.onProgress)==null||vt.call(this,{loaded:gt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const vt=this._queuedChunk;return this._queuedChunk=null,{value:vt,done:!1}}if(this._done)return{value:void 0,done:!0};const gt=new tt.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFNodeStream=void 0;var tt=et(1),nt=et(20);const rt=/^file:\/\/\/[a-zA-Z]:\//;function it(dt){const pt=require$$5,ut=pt.parse(dt);return ut.protocol==="file:"||ut.host?ut:/^[a-z]:[/\\]/i.test(dt)?pt.parse(`file:///${dt}`):(ut.host||(ut.protocol="file:"),ut)}class ot{constructor(pt){this.source=pt,this.url=it(pt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pt;return((pt=this._fullRequestReader)==null?void 0:pt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new gt(this):new mt(this),this._fullRequestReader}getRangeReader(pt,ut){if(ut<=this._progressiveDataLength)return null;const ct=this.isFsUrl?new vt(this,pt,ut):new ft(this,pt,ut);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(pt){var ut;(ut=this._fullRequestReader)==null||ut.cancel(pt);for(const ct of this._rangeRequestReaders.slice(0))ct.cancel(pt)}}_e.PDFNodeStream=ot;class st{constructor(pt){this._url=pt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ut=pt.source;this._contentLength=ut.length,this._loaded=0,this._filename=null,this._disableRange=ut.disableRange||!1,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._readableStream=null,this._readCapability=new tt.PromiseCapability,this._headersCapability=new tt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pt=this._readableStream.read();return pt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=pt.length,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){if(!this._readableStream){this._error(pt);return}this._readableStream.destroy(pt)}_error(pt){this._storedError=pt,this._readCapability.resolve()}_setReadableStream(pt){this._readableStream=pt,pt.on("readable",()=>{this._readCapability.resolve()}),pt.on("end",()=>{pt.destroy(),this._done=!0,this._readCapability.resolve()}),pt.on("error",ut=>{this._error(ut)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lt{constructor(pt){this._url=pt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new tt.PromiseCapability;const ut=pt.source;this._isStreamingSupported=!ut.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ct;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pt=this._readableStream.read();return pt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=pt.length,(ct=this.onProgress)==null||ct.call(this,{loaded:this._loaded}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){if(!this._readableStream){this._error(pt);return}this._readableStream.destroy(pt)}_error(pt){this._storedError=pt,this._readCapability.resolve()}_setReadableStream(pt){this._readableStream=pt,pt.on("readable",()=>{this._readCapability.resolve()}),pt.on("end",()=>{pt.destroy(),this._done=!0,this._readCapability.resolve()}),pt.on("error",ut=>{this._error(ut)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function at(dt,pt){return{protocol:dt.protocol,auth:dt.auth,host:dt.hostname,port:dt.port,path:dt.path,method:"GET",headers:pt}}class mt extends st{constructor(pt){super(pt);const ut=ct=>{if(ct.statusCode===404){const bt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=bt,this._headersCapability.reject(bt);return}this._headersCapability.resolve(),this._setReadableStream(ct);const xt=bt=>this._readableStream.headers[bt.toLowerCase()],{allowRangeRequests:yt,suggestedLength:ht}=(0,nt.validateRangeRequestCapabilities)({getResponseHeader:xt,isHttp:pt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=yt,this._contentLength=ht||this._contentLength,this._filename=(0,nt.extractFilenameFromHeader)(xt)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(at(this._url,pt.httpHeaders),ut)}else{const ct=require$$5;this._request=ct.request(at(this._url,pt.httpHeaders),ut)}this._request.on("error",ct=>{this._storedError=ct,this._headersCapability.reject(ct)}),this._request.end()}}class ft extends lt{constructor(pt,ut,ct){super(pt),this._httpHeaders={};for(const yt in pt.httpHeaders){const ht=pt.httpHeaders[yt];ht!==void 0&&(this._httpHeaders[yt]=ht)}this._httpHeaders.Range=`bytes=${ut}-${ct-1}`;const xt=yt=>{if(yt.statusCode===404){const ht=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht;return}this._setReadableStream(yt)};if(this._request=null,this._url.protocol==="http:"){const yt=require$$5;this._request=yt.request(at(this._url,this._httpHeaders),xt)}else{const yt=require$$5;this._request=yt.request(at(this._url,this._httpHeaders),xt)}this._request.on("error",yt=>{this._storedError=yt}),this._request.end()}}class gt extends st{constructor(pt){super(pt);let ut=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(ut=ut.replace(/^\//,""));const ct=require$$5;ct.lstat(ut,(xt,yt)=>{if(xt){xt.code==="ENOENT"&&(xt=new tt.MissingPDFException(`Missing PDF "${ut}".`)),this._storedError=xt,this._headersCapability.reject(xt);return}this._contentLength=yt.size,this._setReadableStream(ct.createReadStream(ut)),this._headersCapability.resolve()})}}class vt extends lt{constructor(pt,ut,ct){super(pt);let xt=decodeURIComponent(this._url.path);rt.test(this._url.href)&&(xt=xt.replace(/^\//,""));const yt=require$$5;this._setReadableStream(yt.createReadStream(xt,{start:ut,end:ct-1}))}}},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SVGGraphics=void 0;var tt=et(6),nt=et(1);const rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/1999/xlink",st=["butt","round","square"],lt=["miter","round","bevel"],at=function(yt,ht="",bt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!bt)return URL.createObjectURL(new Blob([yt],{type:ht}));const Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Pt=`data:${ht};base64,`;for(let wt=0,kt=yt.length;wt<kt;wt+=3){const Mt=yt[wt]&255,Dt=yt[wt+1]&255,Ht=yt[wt+2]&255,Nt=Mt>>2,Vt=(Mt&3)<<4|Dt>>4,qt=wt+1<kt?(Dt&15)<<2|Ht>>6:64,un=wt+2<kt?Ht&63:64;Pt+=Tt[Nt]+Tt[Vt]+Tt[qt]+Tt[un]}return Pt},mt=function(){const yt=new Uint8Array([137,80,78,71,13,10,26,10]),ht=12,bt=new Int32Array(256);for(let Ht=0;Ht<256;Ht++){let Nt=Ht;for(let Vt=0;Vt<8;Vt++)Nt=Nt&1?3988292384^Nt>>1&2147483647:Nt>>1&2147483647;bt[Ht]=Nt}function Tt(Ht,Nt,Vt){let qt=-1;for(let un=Nt;un<Vt;un++){const Bt=(qt^Ht[un])&255,nn=bt[Bt];qt=qt>>>8^nn}return qt^-1}function Pt(Ht,Nt,Vt,qt){let un=qt;const Bt=Nt.length;Vt[un]=Bt>>24&255,Vt[un+1]=Bt>>16&255,Vt[un+2]=Bt>>8&255,Vt[un+3]=Bt&255,un+=4,Vt[un]=Ht.charCodeAt(0)&255,Vt[un+1]=Ht.charCodeAt(1)&255,Vt[un+2]=Ht.charCodeAt(2)&255,Vt[un+3]=Ht.charCodeAt(3)&255,un+=4,Vt.set(Nt,un),un+=Nt.length;const nn=Tt(Vt,qt+4,un);Vt[un]=nn>>24&255,Vt[un+1]=nn>>16&255,Vt[un+2]=nn>>8&255,Vt[un+3]=nn&255}function wt(Ht,Nt,Vt){let qt=1,un=0;for(let Bt=Nt;Bt<Vt;++Bt)qt=(qt+(Ht[Bt]&255))%65521,un=(un+qt)%65521;return un<<16|qt}function kt(Ht){if(!nt.isNodeJS)return Mt(Ht);try{const Nt=parseInt(process.versions.node)>=8?Ht:Buffer.from(Ht),Vt=require$$5.deflateSync(Nt,{level:9});return Vt instanceof Uint8Array?Vt:new Uint8Array(Vt)}catch(Nt){(0,nt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Nt)}return Mt(Ht)}function Mt(Ht){let Nt=Ht.length;const Vt=65535,qt=Math.ceil(Nt/Vt),un=new Uint8Array(2+Nt+qt*5+4);let Bt=0;un[Bt++]=120,un[Bt++]=156;let nn=0;for(;Nt>Vt;)un[Bt++]=0,un[Bt++]=255,un[Bt++]=255,un[Bt++]=0,un[Bt++]=0,un.set(Ht.subarray(nn,nn+Vt),Bt),Bt+=Vt,nn+=Vt,Nt-=Vt;un[Bt++]=1,un[Bt++]=Nt&255,un[Bt++]=Nt>>8&255,un[Bt++]=~Nt&65535&255,un[Bt++]=(~Nt&65535)>>8&255,un.set(Ht.subarray(nn),Bt),Bt+=Ht.length-nn;const tn=wt(Ht,0,Ht.length);return un[Bt++]=tn>>24&255,un[Bt++]=tn>>16&255,un[Bt++]=tn>>8&255,un[Bt++]=tn&255,un}function Dt(Ht,Nt,Vt,qt){const un=Ht.width,Bt=Ht.height;let nn,tn,_n;const Nn=Ht.data;switch(Nt){case nt.ImageKind.GRAYSCALE_1BPP:tn=0,nn=1,_n=un+7>>3;break;case nt.ImageKind.RGB_24BPP:tn=2,nn=8,_n=un*3;break;case nt.ImageKind.RGBA_32BPP:tn=6,nn=8,_n=un*4;break;default:throw new Error("invalid format")}const Lt=new Uint8Array((1+_n)*Bt);let Et=0,Ct=0;for(let Wt=0;Wt<Bt;++Wt)Lt[Et++]=0,Lt.set(Nn.subarray(Ct,Ct+_n),Et),Ct+=_n,Et+=_n;if(Nt===nt.ImageKind.GRAYSCALE_1BPP&&qt){Et=0;for(let Wt=0;Wt<Bt;Wt++){Et++;for(let Zt=0;Zt<_n;Zt++)Lt[Et++]^=255}}const St=new Uint8Array([un>>24&255,un>>16&255,un>>8&255,un&255,Bt>>24&255,Bt>>16&255,Bt>>8&255,Bt&255,nn,tn,0,0,0]),Rt=kt(Lt),jt=yt.length+ht*3+St.length+Rt.length,It=new Uint8Array(jt);let zt=0;return It.set(yt,zt),zt+=yt.length,Pt("IHDR",St,It,zt),zt+=ht+St.length,Pt("IDATA",Rt,It,zt),zt+=ht+Rt.length,Pt("IEND",new Uint8Array(0),It,zt),at(It,"image/png",Vt)}return function(Nt,Vt,qt){const un=Nt.kind===void 0?nt.ImageKind.GRAYSCALE_1BPP:Nt.kind;return Dt(Nt,un,Vt,qt)}}();class ft{constructor(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=nt.IDENTITY_MATRIX,this.fontMatrix=nt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ht,bt){this.x=ht,this.y=bt}}function gt(yt){let ht=[];const bt=[];for(const Tt of yt){if(Tt.fn==="save"){ht.push({fnId:92,fn:"group",items:[]}),bt.push(ht),ht=ht.at(-1).items;continue}Tt.fn==="restore"?ht=bt.pop():ht.push(Tt)}return ht}function vt(yt){if(Number.isInteger(yt))return yt.toString();const ht=yt.toFixed(10);let bt=ht.length-1;if(ht[bt]!=="0")return ht;do bt--;while(ht[bt]==="0");return ht.substring(0,ht[bt]==="."?bt:bt+1)}function dt(yt){if(yt[4]===0&&yt[5]===0){if(yt[1]===0&&yt[2]===0)return yt[0]===1&&yt[3]===1?"":`scale(${vt(yt[0])} ${vt(yt[3])})`;if(yt[0]===yt[3]&&yt[1]===-yt[2]){const ht=Math.acos(yt[0])*180/Math.PI;return`rotate(${vt(ht)})`}}else if(yt[0]===1&&yt[1]===0&&yt[2]===0&&yt[3]===1)return`translate(${vt(yt[4])} ${vt(yt[5])})`;return`matrix(${vt(yt[0])} ${vt(yt[1])} ${vt(yt[2])} ${vt(yt[3])} ${vt(yt[4])} ${vt(yt[5])})`}let pt=0,ut=0,ct=0;class xt{constructor(ht,bt,Tt=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new ft,this.transformMatrix=nt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ht,this.objs=bt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Tt,this._operatorIdMapping=[];for(const Pt in nt.OPS)this._operatorIdMapping[nt.OPS[Pt]]=Pt}getObject(ht,bt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):bt}save(){this.transformStack.push(this.transformMatrix);const ht=this.current;this.extraStack.push(ht),this.current=ht.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ht){this.save(),this.executeOpTree(ht),this.restore()}loadDependencies(ht){const bt=ht.fnArray,Tt=ht.argsArray;for(let Pt=0,wt=bt.length;Pt<wt;Pt++)if(bt[Pt]===nt.OPS.dependency)for(const kt of Tt[Pt]){const Mt=kt.startsWith("g_")?this.commonObjs:this.objs,Dt=new Promise(Ht=>{Mt.get(kt,Ht)});this.current.dependencies.push(Dt)}return Promise.all(this.current.dependencies)}transform(ht,bt,Tt,Pt,wt,kt){const Mt=[ht,bt,Tt,Pt,wt,kt];this.transformMatrix=nt.Util.transform(this.transformMatrix,Mt),this.tgrp=null}getSVG(ht,bt){this.viewport=bt;const Tt=this._initialize(bt);return this.loadDependencies(ht).then(()=>(this.transformMatrix=nt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ht)),Tt))}convertOpList(ht){const bt=this._operatorIdMapping,Tt=ht.argsArray,Pt=ht.fnArray,wt=[];for(let kt=0,Mt=Pt.length;kt<Mt;kt++){const Dt=Pt[kt];wt.push({fnId:Dt,fn:bt[Dt],args:Tt[kt]})}return gt(wt)}executeOpTree(ht){for(const bt of ht){const Tt=bt.fn,Pt=bt.fnId,wt=bt.args;switch(Pt|0){case nt.OPS.beginText:this.beginText();break;case nt.OPS.dependency:break;case nt.OPS.setLeading:this.setLeading(wt);break;case nt.OPS.setLeadingMoveText:this.setLeadingMoveText(wt[0],wt[1]);break;case nt.OPS.setFont:this.setFont(wt);break;case nt.OPS.showText:this.showText(wt[0]);break;case nt.OPS.showSpacedText:this.showText(wt[0]);break;case nt.OPS.endText:this.endText();break;case nt.OPS.moveText:this.moveText(wt[0],wt[1]);break;case nt.OPS.setCharSpacing:this.setCharSpacing(wt[0]);break;case nt.OPS.setWordSpacing:this.setWordSpacing(wt[0]);break;case nt.OPS.setHScale:this.setHScale(wt[0]);break;case nt.OPS.setTextMatrix:this.setTextMatrix(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]);break;case nt.OPS.setTextRise:this.setTextRise(wt[0]);break;case nt.OPS.setTextRenderingMode:this.setTextRenderingMode(wt[0]);break;case nt.OPS.setLineWidth:this.setLineWidth(wt[0]);break;case nt.OPS.setLineJoin:this.setLineJoin(wt[0]);break;case nt.OPS.setLineCap:this.setLineCap(wt[0]);break;case nt.OPS.setMiterLimit:this.setMiterLimit(wt[0]);break;case nt.OPS.setFillRGBColor:this.setFillRGBColor(wt[0],wt[1],wt[2]);break;case nt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(wt[0],wt[1],wt[2]);break;case nt.OPS.setStrokeColorN:this.setStrokeColorN(wt);break;case nt.OPS.setFillColorN:this.setFillColorN(wt);break;case nt.OPS.shadingFill:this.shadingFill(wt[0]);break;case nt.OPS.setDash:this.setDash(wt[0],wt[1]);break;case nt.OPS.setRenderingIntent:this.setRenderingIntent(wt[0]);break;case nt.OPS.setFlatness:this.setFlatness(wt[0]);break;case nt.OPS.setGState:this.setGState(wt[0]);break;case nt.OPS.fill:this.fill();break;case nt.OPS.eoFill:this.eoFill();break;case nt.OPS.stroke:this.stroke();break;case nt.OPS.fillStroke:this.fillStroke();break;case nt.OPS.eoFillStroke:this.eoFillStroke();break;case nt.OPS.clip:this.clip("nonzero");break;case nt.OPS.eoClip:this.clip("evenodd");break;case nt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nt.OPS.paintImageXObject:this.paintImageXObject(wt[0]);break;case nt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(wt[0]);break;case nt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(wt[0]);break;case nt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(wt[0],wt[1]);break;case nt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nt.OPS.closePath:this.closePath();break;case nt.OPS.closeStroke:this.closeStroke();break;case nt.OPS.closeFillStroke:this.closeFillStroke();break;case nt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nt.OPS.nextLine:this.nextLine();break;case nt.OPS.transform:this.transform(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]);break;case nt.OPS.constructPath:this.constructPath(wt[0],wt[1]);break;case nt.OPS.endPath:this.endPath();break;case 92:this.group(bt.items);break;default:(0,nt.warn)(`Unimplemented operator ${Tt}`);break}}}setWordSpacing(ht){this.current.wordSpacing=ht}setCharSpacing(ht){this.current.charSpacing=ht}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ht,bt,Tt,Pt,wt,kt){const Mt=this.current;Mt.textMatrix=Mt.lineMatrix=[ht,bt,Tt,Pt,wt,kt],Mt.textMatrixScale=Math.hypot(ht,bt),Mt.x=Mt.lineX=0,Mt.y=Mt.lineY=0,Mt.xcoords=[],Mt.ycoords=[],Mt.tspan=this.svgFactory.createElement("svg:tspan"),Mt.tspan.setAttributeNS(null,"font-family",Mt.fontFamily),Mt.tspan.setAttributeNS(null,"font-size",`${vt(Mt.fontSize)}px`),Mt.tspan.setAttributeNS(null,"y",vt(-Mt.y)),Mt.txtElement=this.svgFactory.createElement("svg:text"),Mt.txtElement.append(Mt.tspan)}beginText(){const ht=this.current;ht.x=ht.lineX=0,ht.y=ht.lineY=0,ht.textMatrix=nt.IDENTITY_MATRIX,ht.lineMatrix=nt.IDENTITY_MATRIX,ht.textMatrixScale=1,ht.tspan=this.svgFactory.createElement("svg:tspan"),ht.txtElement=this.svgFactory.createElement("svg:text"),ht.txtgrp=this.svgFactory.createElement("svg:g"),ht.xcoords=[],ht.ycoords=[]}moveText(ht,bt){const Tt=this.current;Tt.x=Tt.lineX+=ht,Tt.y=Tt.lineY+=bt,Tt.xcoords=[],Tt.ycoords=[],Tt.tspan=this.svgFactory.createElement("svg:tspan"),Tt.tspan.setAttributeNS(null,"font-family",Tt.fontFamily),Tt.tspan.setAttributeNS(null,"font-size",`${vt(Tt.fontSize)}px`),Tt.tspan.setAttributeNS(null,"y",vt(-Tt.y))}showText(ht){const bt=this.current,Tt=bt.font,Pt=bt.fontSize;if(Pt===0)return;const wt=bt.fontSizeScale,kt=bt.charSpacing,Mt=bt.wordSpacing,Dt=bt.fontDirection,Ht=bt.textHScale*Dt,Nt=Tt.vertical,Vt=Nt?1:-1,qt=Tt.defaultVMetrics,un=Pt*bt.fontMatrix[0];let Bt=0;for(const _n of ht){if(_n===null){Bt+=Dt*Mt;continue}else if(typeof _n=="number"){Bt+=Vt*_n*Pt/1e3;continue}const Nn=(_n.isSpace?Mt:0)+kt,Lt=_n.fontChar;let Et,Ct,St=_n.width;if(Nt){let jt;const It=_n.vmetric||qt;jt=_n.vmetric?It[1]:St*.5,jt=-jt*un;const zt=It[2]*un;St=It?-It[0]:St,Et=jt/wt,Ct=(Bt+zt)/wt}else Et=Bt/wt,Ct=0;(_n.isInFont||Tt.missingFile)&&(bt.xcoords.push(bt.x+Et),Nt&&bt.ycoords.push(-bt.y+Ct),bt.tspan.textContent+=Lt);const Rt=Nt?St*un-Nn*Dt:St*un+Nn*Dt;Bt+=Rt}bt.tspan.setAttributeNS(null,"x",bt.xcoords.map(vt).join(" ")),Nt?bt.tspan.setAttributeNS(null,"y",bt.ycoords.map(vt).join(" ")):bt.tspan.setAttributeNS(null,"y",vt(-bt.y)),Nt?bt.y-=Bt:bt.x+=Bt*Ht,bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${vt(bt.fontSize)}px`),bt.fontStyle!==rt.fontStyle&&bt.tspan.setAttributeNS(null,"font-style",bt.fontStyle),bt.fontWeight!==rt.fontWeight&&bt.tspan.setAttributeNS(null,"font-weight",bt.fontWeight);const nn=bt.textRenderingMode&nt.TextRenderingMode.FILL_STROKE_MASK;if(nn===nt.TextRenderingMode.FILL||nn===nt.TextRenderingMode.FILL_STROKE?(bt.fillColor!==rt.fillColor&&bt.tspan.setAttributeNS(null,"fill",bt.fillColor),bt.fillAlpha<1&&bt.tspan.setAttributeNS(null,"fill-opacity",bt.fillAlpha)):bt.textRenderingMode===nt.TextRenderingMode.ADD_TO_PATH?bt.tspan.setAttributeNS(null,"fill","transparent"):bt.tspan.setAttributeNS(null,"fill","none"),nn===nt.TextRenderingMode.STROKE||nn===nt.TextRenderingMode.FILL_STROKE){const _n=1/(bt.textMatrixScale||1);this._setStrokeAttributes(bt.tspan,_n)}let tn=bt.textMatrix;bt.textRise!==0&&(tn=tn.slice(),tn[5]+=bt.textRise),bt.txtElement.setAttributeNS(null,"transform",`${dt(tn)} scale(${vt(Ht)}, -1)`),bt.txtElement.setAttributeNS(it,"xml:space","preserve"),bt.txtElement.append(bt.tspan),bt.txtgrp.append(bt.txtElement),this._ensureTransformGroup().append(bt.txtElement)}setLeadingMoveText(ht,bt){this.setLeading(-bt),this.moveText(ht,bt)}addFontStyle(ht){if(!ht.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const bt=at(ht.data,ht.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ht.loadedName}"; src: url(${bt}); }
`}setFont(ht){const bt=this.current,Tt=this.commonObjs.get(ht[0]);let Pt=ht[1];bt.font=Tt,this.embedFonts&&!Tt.missingFile&&!this.embeddedFonts[Tt.loadedName]&&(this.addFontStyle(Tt),this.embeddedFonts[Tt.loadedName]=Tt),bt.fontMatrix=Tt.fontMatrix||nt.FONT_IDENTITY_MATRIX;let wt="normal";Tt.black?wt="900":Tt.bold&&(wt="bold");const kt=Tt.italic?"italic":"normal";Pt<0?(Pt=-Pt,bt.fontDirection=-1):bt.fontDirection=1,bt.fontSize=Pt,bt.fontFamily=Tt.loadedName,bt.fontWeight=wt,bt.fontStyle=kt,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"y",vt(-bt.y)),bt.xcoords=[],bt.ycoords=[]}endText(){var bt;const ht=this.current;ht.textRenderingMode&nt.TextRenderingMode.ADD_TO_PATH_FLAG&&((bt=ht.txtElement)!=null&&bt.hasChildNodes())&&(ht.element=ht.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ht){ht>0&&(this.current.lineWidth=ht)}setLineCap(ht){this.current.lineCap=st[ht]}setLineJoin(ht){this.current.lineJoin=lt[ht]}setMiterLimit(ht){this.current.miterLimit=ht}setStrokeAlpha(ht){this.current.strokeAlpha=ht}setStrokeRGBColor(ht,bt,Tt){this.current.strokeColor=nt.Util.makeHexColor(ht,bt,Tt)}setFillAlpha(ht){this.current.fillAlpha=ht}setFillRGBColor(ht,bt,Tt){this.current.fillColor=nt.Util.makeHexColor(ht,bt,Tt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ht){this.current.strokeColor=this._makeColorN_Pattern(ht)}setFillColorN(ht){this.current.fillColor=this._makeColorN_Pattern(ht)}shadingFill(ht){const{width:bt,height:Tt}=this.viewport,Pt=nt.Util.inverseTransform(this.transformMatrix),[wt,kt,Mt,Dt]=nt.Util.getAxialAlignedBoundingBox([0,0,bt,Tt],Pt),Ht=this.svgFactory.createElement("svg:rect");Ht.setAttributeNS(null,"x",wt),Ht.setAttributeNS(null,"y",kt),Ht.setAttributeNS(null,"width",Mt-wt),Ht.setAttributeNS(null,"height",Dt-kt),Ht.setAttributeNS(null,"fill",this._makeShadingPattern(ht)),this.current.fillAlpha<1&&Ht.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ht)}_makeColorN_Pattern(ht){return ht[0]==="TilingPattern"?this._makeTilingPattern(ht):this._makeShadingPattern(ht)}_makeTilingPattern(ht){const bt=ht[1],Tt=ht[2],Pt=ht[3]||nt.IDENTITY_MATRIX,[wt,kt,Mt,Dt]=ht[4],Ht=ht[5],Nt=ht[6],Vt=ht[7],qt=`shading${ct++}`,[un,Bt,nn,tn]=nt.Util.normalizeRect([...nt.Util.applyTransform([wt,kt],Pt),...nt.Util.applyTransform([Mt,Dt],Pt)]),[_n,Nn]=nt.Util.singularValueDecompose2dScale(Pt),Lt=Ht*_n,Et=Nt*Nn,Ct=this.svgFactory.createElement("svg:pattern");Ct.setAttributeNS(null,"id",qt),Ct.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"width",Lt),Ct.setAttributeNS(null,"height",Et),Ct.setAttributeNS(null,"x",`${un}`),Ct.setAttributeNS(null,"y",`${Bt}`);const St=this.svg,Rt=this.transformMatrix,jt=this.current.fillColor,It=this.current.strokeColor,zt=this.svgFactory.create(nn-un,tn-Bt);if(this.svg=zt,this.transformMatrix=Pt,Vt===2){const Wt=nt.Util.makeHexColor(...bt);this.current.fillColor=Wt,this.current.strokeColor=Wt}return this.executeOpTree(this.convertOpList(Tt)),this.svg=St,this.transformMatrix=Rt,this.current.fillColor=jt,this.current.strokeColor=It,Ct.append(zt.childNodes[0]),this.defs.append(Ct),`url(#${qt})`}_makeShadingPattern(ht){switch(typeof ht=="string"&&(ht=this.objs.get(ht)),ht[0]){case"RadialAxial":const bt=`shading${ct++}`,Tt=ht[3];let Pt;switch(ht[1]){case"axial":const wt=ht[4],kt=ht[5];Pt=this.svgFactory.createElement("svg:linearGradient"),Pt.setAttributeNS(null,"id",bt),Pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"x1",wt[0]),Pt.setAttributeNS(null,"y1",wt[1]),Pt.setAttributeNS(null,"x2",kt[0]),Pt.setAttributeNS(null,"y2",kt[1]);break;case"radial":const Mt=ht[4],Dt=ht[5],Ht=ht[6],Nt=ht[7];Pt=this.svgFactory.createElement("svg:radialGradient"),Pt.setAttributeNS(null,"id",bt),Pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"cx",Dt[0]),Pt.setAttributeNS(null,"cy",Dt[1]),Pt.setAttributeNS(null,"r",Nt),Pt.setAttributeNS(null,"fx",Mt[0]),Pt.setAttributeNS(null,"fy",Mt[1]),Pt.setAttributeNS(null,"fr",Ht);break;default:throw new Error(`Unknown RadialAxial type: ${ht[1]}`)}for(const wt of Tt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",wt[0]),kt.setAttributeNS(null,"stop-color",wt[1]),Pt.append(kt)}return this.defs.append(Pt),`url(#${bt})`;case"Mesh":return(0,nt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ht[0]}`)}}setDash(ht,bt){this.current.dashArray=ht,this.current.dashPhase=bt}constructPath(ht,bt){const Tt=this.current;let Pt=Tt.x,wt=Tt.y,kt=[],Mt=0;for(const Dt of ht)switch(Dt|0){case nt.OPS.rectangle:Pt=bt[Mt++],wt=bt[Mt++];const Ht=bt[Mt++],Nt=bt[Mt++],Vt=Pt+Ht,qt=wt+Nt;kt.push("M",vt(Pt),vt(wt),"L",vt(Vt),vt(wt),"L",vt(Vt),vt(qt),"L",vt(Pt),vt(qt),"Z");break;case nt.OPS.moveTo:Pt=bt[Mt++],wt=bt[Mt++],kt.push("M",vt(Pt),vt(wt));break;case nt.OPS.lineTo:Pt=bt[Mt++],wt=bt[Mt++],kt.push("L",vt(Pt),vt(wt));break;case nt.OPS.curveTo:Pt=bt[Mt+4],wt=bt[Mt+5],kt.push("C",vt(bt[Mt]),vt(bt[Mt+1]),vt(bt[Mt+2]),vt(bt[Mt+3]),vt(Pt),vt(wt)),Mt+=6;break;case nt.OPS.curveTo2:kt.push("C",vt(Pt),vt(wt),vt(bt[Mt]),vt(bt[Mt+1]),vt(bt[Mt+2]),vt(bt[Mt+3])),Pt=bt[Mt+2],wt=bt[Mt+3],Mt+=4;break;case nt.OPS.curveTo3:Pt=bt[Mt+2],wt=bt[Mt+3],kt.push("C",vt(bt[Mt]),vt(bt[Mt+1]),vt(Pt),vt(wt),vt(Pt),vt(wt)),Mt+=4;break;case nt.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),Tt.path&&ht.length>0&&ht[0]!==nt.OPS.rectangle&&ht[0]!==nt.OPS.moveTo?kt=Tt.path.getAttributeNS(null,"d")+kt:(Tt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Tt.path)),Tt.path.setAttributeNS(null,"d",kt),Tt.path.setAttributeNS(null,"fill","none"),Tt.element=Tt.path,Tt.setCurrentPoint(Pt,wt)}endPath(){const ht=this.current;if(ht.path=null,!this.pendingClip)return;if(!ht.element){this.pendingClip=null;return}const bt=`clippath${pt++}`,Tt=this.svgFactory.createElement("svg:clipPath");Tt.setAttributeNS(null,"id",bt),Tt.setAttributeNS(null,"transform",dt(this.transformMatrix));const Pt=ht.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Pt.setAttributeNS(null,"clip-rule","evenodd"):Pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Tt.append(Pt),this.defs.append(Tt),ht.activeClipUrl){ht.clipGroup=null;for(const wt of this.extraStack)wt.clipGroup=null;Tt.setAttributeNS(null,"clip-path",ht.activeClipUrl)}ht.activeClipUrl=`url(#${bt})`,this.tgrp=null}clip(ht){this.pendingClip=ht}closePath(){const ht=this.current;if(ht.path){const bt=`${ht.path.getAttributeNS(null,"d")}Z`;ht.path.setAttributeNS(null,"d",bt)}}setLeading(ht){this.current.leading=-ht}setTextRise(ht){this.current.textRise=ht}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setHScale(ht){this.current.textHScale=ht/100}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[bt,Tt]of ht)switch(bt){case"LW":this.setLineWidth(Tt);break;case"LC":this.setLineCap(Tt);break;case"LJ":this.setLineJoin(Tt);break;case"ML":this.setMiterLimit(Tt);break;case"D":this.setDash(Tt[0],Tt[1]);break;case"RI":this.setRenderingIntent(Tt);break;case"FL":this.setFlatness(Tt);break;case"Font":this.setFont(Tt);break;case"CA":this.setStrokeAlpha(Tt);break;case"ca":this.setFillAlpha(Tt);break;default:(0,nt.warn)(`Unimplemented graphic state operator ${bt}`);break}}fill(){const ht=this.current;ht.element&&(ht.element.setAttributeNS(null,"fill",ht.fillColor),ht.element.setAttributeNS(null,"fill-opacity",ht.fillAlpha),this.endPath())}stroke(){const ht=this.current;ht.element&&(this._setStrokeAttributes(ht.element),ht.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ht,bt=1){const Tt=this.current;let Pt=Tt.dashArray;bt!==1&&Pt.length>0&&(Pt=Pt.map(function(wt){return bt*wt})),ht.setAttributeNS(null,"stroke",Tt.strokeColor),ht.setAttributeNS(null,"stroke-opacity",Tt.strokeAlpha),ht.setAttributeNS(null,"stroke-miterlimit",vt(Tt.miterLimit)),ht.setAttributeNS(null,"stroke-linecap",Tt.lineCap),ht.setAttributeNS(null,"stroke-linejoin",Tt.lineJoin),ht.setAttributeNS(null,"stroke-width",vt(bt*Tt.lineWidth)+"px"),ht.setAttributeNS(null,"stroke-dasharray",Pt.map(vt).join(" ")),ht.setAttributeNS(null,"stroke-dashoffset",vt(bt*Tt.dashPhase)+"px")}eoFill(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ht;(ht=this.current.element)==null||ht.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width","1px"),ht.setAttributeNS(null,"height","1px"),ht.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ht)}paintImageXObject(ht){const bt=this.getObject(ht);if(!bt){(0,nt.warn)(`Dependent image with object ID ${ht} is not ready yet`);return}this.paintInlineImageXObject(bt)}paintInlineImageXObject(ht,bt){const Tt=ht.width,Pt=ht.height,wt=mt(ht,this.forceDataSchema,!!bt),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",vt(Tt)),kt.setAttributeNS(null,"height",vt(Pt)),this.current.element=kt,this.clip("nonzero");const Mt=this.svgFactory.createElement("svg:image");Mt.setAttributeNS(ot,"xlink:href",wt),Mt.setAttributeNS(null,"x","0"),Mt.setAttributeNS(null,"y",vt(-Pt)),Mt.setAttributeNS(null,"width",vt(Tt)+"px"),Mt.setAttributeNS(null,"height",vt(Pt)+"px"),Mt.setAttributeNS(null,"transform",`scale(${vt(1/Tt)} ${vt(-1/Pt)})`),bt?bt.append(Mt):this._ensureTransformGroup().append(Mt)}paintImageMaskXObject(ht){const bt=this.getObject(ht.data,ht);if(bt.bitmap){(0,nt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Tt=this.current,Pt=bt.width,wt=bt.height,kt=Tt.fillColor;Tt.maskId=`mask${ut++}`;const Mt=this.svgFactory.createElement("svg:mask");Mt.setAttributeNS(null,"id",Tt.maskId);const Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y","0"),Dt.setAttributeNS(null,"width",vt(Pt)),Dt.setAttributeNS(null,"height",vt(wt)),Dt.setAttributeNS(null,"fill",kt),Dt.setAttributeNS(null,"mask",`url(#${Tt.maskId})`),this.defs.append(Mt),this._ensureTransformGroup().append(Dt),this.paintInlineImageXObject(bt,Mt)}paintFormXObjectBegin(ht,bt){if(Array.isArray(ht)&&ht.length===6&&this.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]),bt){const Tt=bt[2]-bt[0],Pt=bt[3]-bt[1],wt=this.svgFactory.createElement("svg:rect");wt.setAttributeNS(null,"x",bt[0]),wt.setAttributeNS(null,"y",bt[1]),wt.setAttributeNS(null,"width",vt(Tt)),wt.setAttributeNS(null,"height",vt(Pt)),this.current.element=wt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ht){const bt=this.svgFactory.create(ht.width,ht.height),Tt=this.svgFactory.createElement("svg:defs");bt.append(Tt),this.defs=Tt;const Pt=this.svgFactory.createElement("svg:g");return Pt.setAttributeNS(null,"transform",dt(ht.transform)),bt.append(Pt),this.svg=Pt,bt}_ensureClipGroup(){if(!this.current.clipGroup){const ht=this.svgFactory.createElement("svg:g");ht.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ht),this.current.clipGroup=ht}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}_e.SVGGraphics=xt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaText=void 0;class et{static textContent(nt){const rt=[],it={items:rt,styles:Object.create(null)};function ot(st){var mt;if(!st)return;let lt=null;const at=st.name;if(at==="#text")lt=st.value;else if(et.shouldBuildText(at))(mt=st==null?void 0:st.attributes)!=null&&mt.textContent?lt=st.attributes.textContent:st.value&&(lt=st.value);else return;if(lt!==null&&rt.push({str:lt}),!!st.children)for(const ft of st.children)ot(ft)}return ot(nt),it}static shouldBuildText(nt){return!(nt==="textarea"||nt==="input"||nt==="option"||nt==="select")}}_e.XfaText=et},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextLayerRenderTask=void 0,_e.renderTextLayer=dt,_e.updateTextLayer=pt;var tt=et(1),nt=et(6);const rt=1e5,it=30,ot=.8,st=new Map;function lt(ut,ct){let xt;if(ct&&tt.FeatureTest.isOffscreenCanvasSupported)xt=new OffscreenCanvas(ut,ut).getContext("2d",{alpha:!1});else{const yt=document.createElement("canvas");yt.width=yt.height=ut,xt=yt.getContext("2d",{alpha:!1})}return xt}function at(ut,ct){const xt=st.get(ut);if(xt)return xt;const yt=lt(it,ct);yt.font=`${it}px ${ut}`;const ht=yt.measureText("");let bt=ht.fontBoundingBoxAscent,Tt=Math.abs(ht.fontBoundingBoxDescent);if(bt){const wt=bt/(bt+Tt);return st.set(ut,wt),yt.canvas.width=yt.canvas.height=0,wt}yt.strokeStyle="red",yt.clearRect(0,0,it,it),yt.strokeText("g",0,0);let Pt=yt.getImageData(0,0,it,it).data;Tt=0;for(let wt=Pt.length-1-3;wt>=0;wt-=4)if(Pt[wt]>0){Tt=Math.ceil(wt/4/it);break}yt.clearRect(0,0,it,it),yt.strokeText("A",0,it),Pt=yt.getImageData(0,0,it,it).data,bt=0;for(let wt=0,kt=Pt.length;wt<kt;wt+=4)if(Pt[wt]>0){bt=it-Math.floor(wt/4/it);break}if(yt.canvas.width=yt.canvas.height=0,bt){const wt=bt/(bt+Tt);return st.set(ut,wt),wt}return st.set(ut,ot),ot}function mt(ut,ct,xt){const yt=document.createElement("span"),ht={angle:0,canvasWidth:0,hasText:ct.str!=="",hasEOL:ct.hasEOL,fontSize:0};ut._textDivs.push(yt);const bt=tt.Util.transform(ut._transform,ct.transform);let Tt=Math.atan2(bt[1],bt[0]);const Pt=xt[ct.fontName];Pt.vertical&&(Tt+=Math.PI/2);const wt=Math.hypot(bt[2],bt[3]),kt=wt*at(Pt.fontFamily,ut._isOffscreenCanvasSupported);let Mt,Dt;Tt===0?(Mt=bt[4],Dt=bt[5]-kt):(Mt=bt[4]+kt*Math.sin(Tt),Dt=bt[5]-kt*Math.cos(Tt));const Ht="calc(var(--scale-factor)*",Nt=yt.style;ut._container===ut._rootContainer?(Nt.left=`${(100*Mt/ut._pageWidth).toFixed(2)}%`,Nt.top=`${(100*Dt/ut._pageHeight).toFixed(2)}%`):(Nt.left=`${Ht}${Mt.toFixed(2)}px)`,Nt.top=`${Ht}${Dt.toFixed(2)}px)`),Nt.fontSize=`${Ht}${wt.toFixed(2)}px)`,Nt.fontFamily=Pt.fontFamily,ht.fontSize=wt,yt.setAttribute("role","presentation"),yt.textContent=ct.str,yt.dir=ct.dir,ut._fontInspectorEnabled&&(yt.dataset.fontName=ct.fontName),Tt!==0&&(ht.angle=Tt*(180/Math.PI));let Vt=!1;if(ct.str.length>1)Vt=!0;else if(ct.str!==" "&&ct.transform[0]!==ct.transform[3]){const qt=Math.abs(ct.transform[0]),un=Math.abs(ct.transform[3]);qt!==un&&Math.max(qt,un)/Math.min(qt,un)>1.5&&(Vt=!0)}Vt&&(ht.canvasWidth=Pt.vertical?ct.height:ct.width),ut._textDivProperties.set(yt,ht),ut._isReadableStream&&ut._layoutText(yt)}function ft(ut){const{div:ct,scale:xt,properties:yt,ctx:ht,prevFontSize:bt,prevFontFamily:Tt}=ut,{style:Pt}=ct;let wt="";if(yt.canvasWidth!==0&&yt.hasText){const{fontFamily:kt}=Pt,{canvasWidth:Mt,fontSize:Dt}=yt;(bt!==Dt||Tt!==kt)&&(ht.font=`${Dt*xt}px ${kt}`,ut.prevFontSize=Dt,ut.prevFontFamily=kt);const{width:Ht}=ht.measureText(ct.textContent);Ht>0&&(wt=`scaleX(${Mt*xt/Ht})`)}yt.angle!==0&&(wt=`rotate(${yt.angle}deg) ${wt}`),wt.length>0&&(Pt.transform=wt)}function gt(ut){if(ut._canceled)return;const ct=ut._textDivs,xt=ut._capability;if(ct.length>rt){xt.resolve();return}if(!ut._isReadableStream)for(const ht of ct)ut._layoutText(ht);xt.resolve()}class vt{constructor({textContentSource:ct,container:xt,viewport:yt,textDivs:ht,textDivProperties:bt,textContentItemsStr:Tt,isOffscreenCanvasSupported:Pt}){var Ht;this._textContentSource=ct,this._isReadableStream=ct instanceof ReadableStream,this._container=this._rootContainer=xt,this._textDivs=ht||[],this._textContentItemsStr=Tt||[],this._isOffscreenCanvasSupported=Pt,this._fontInspectorEnabled=!!((Ht=globalThis.FontInspector)!=null&&Ht.enabled),this._reader=null,this._textDivProperties=bt||new WeakMap,this._canceled=!1,this._capability=new tt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:yt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:lt(0,Pt)};const{pageWidth:wt,pageHeight:kt,pageX:Mt,pageY:Dt}=yt.rawDims;this._transform=[1,0,0,-1,-Mt,Dt+kt],this._pageWidth=wt,this._pageHeight=kt,(0,nt.setLayerDimensions)(xt,yt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new tt.AbortException("TextLayer task cancelled."))}_processItems(ct,xt){for(const yt of ct){if(yt.str===void 0){if(yt.type==="beginMarkedContentProps"||yt.type==="beginMarkedContent"){const ht=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),yt.id!==null&&this._container.setAttribute("id",`${yt.id}`),ht.append(this._container)}else yt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(yt.str),mt(this,yt,xt)}}_layoutText(ct){const xt=this._layoutTextParams.properties=this._textDivProperties.get(ct);if(this._layoutTextParams.div=ct,ft(this._layoutTextParams),xt.hasText&&this._container.append(ct),xt.hasEOL){const yt=document.createElement("br");yt.setAttribute("role","presentation"),this._container.append(yt)}}_render(){const ct=new tt.PromiseCapability;let xt=Object.create(null);if(this._isReadableStream){const yt=()=>{this._reader.read().then(({value:ht,done:bt})=>{if(bt){ct.resolve();return}Object.assign(xt,ht.styles),this._processItems(ht.items,xt),yt()},ct.reject)};this._reader=this._textContentSource.getReader(),yt()}else if(this._textContentSource){const{items:yt,styles:ht}=this._textContentSource;this._processItems(yt,ht),ct.resolve()}else throw new Error('No "textContentSource" parameter specified.');ct.promise.then(()=>{xt=null,gt(this)},this._capability.reject)}}_e.TextLayerRenderTask=vt;function dt(ut){!ut.textContentSource&&(ut.textContent||ut.textContentStream)&&((0,nt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ut.textContentSource=ut.textContent||ut.textContentStream);const{container:ct,viewport:xt}=ut,yt=getComputedStyle(ct),ht=yt.getPropertyValue("visibility"),bt=parseFloat(yt.getPropertyValue("--scale-factor"));ht==="visible"&&(!bt||Math.abs(bt-xt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Tt=new vt(ut);return Tt._render(),Tt}function pt({container:ut,viewport:ct,textDivs:xt,textDivProperties:yt,isOffscreenCanvasSupported:ht,mustRotate:bt=!0,mustRescale:Tt=!0}){if(bt&&(0,nt.setLayerDimensions)(ut,{rotation:ct.rotation}),Tt){const Pt=lt(0,ht),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Pt};for(const Mt of xt)kt.properties=yt.get(Mt),kt.div=Mt,ft(kt)}}},($,_e,et)=>{var at,mt,ft,gt,vt,dt,pt,ut,ct,xt,yt,Il,bt,Ls,Pt,Ol,kt,Dl;Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnnotationEditorLayer=void 0;var tt=et(1),nt=et(4),rt=et(28),it=et(33),ot=et(6),st=et(34);const Dt=class Dt{constructor({uiManager:Nt,pageIndex:Vt,div:qt,accessibilityManager:un,annotationLayer:Bt,viewport:nn,l10n:tn}){en(this,yt);en(this,bt);en(this,Pt);en(this,kt);en(this,at,void 0);en(this,mt,!1);en(this,ft,null);en(this,gt,this.pointerup.bind(this));en(this,vt,this.pointerdown.bind(this));en(this,dt,new Map);en(this,pt,!1);en(this,ut,!1);en(this,ct,!1);en(this,xt,void 0);const _n=[rt.FreeTextEditor,it.InkEditor,st.StampEditor];if(!Dt._initialized){Dt._initialized=!0;for(const Nn of _n)Nn.initialize(tn)}Nt.registerEditorTypes(_n),Pn(this,xt,Nt),this.pageIndex=Vt,this.div=qt,Pn(this,at,un),Pn(this,ft,Bt),this.viewport=nn,_t(this,xt).addLayer(this)}get isEmpty(){return _t(this,dt).size===0}updateToolbar(Nt){_t(this,xt).updateToolbar(Nt)}updateMode(Nt=_t(this,xt).getMode()){gn(this,kt,Dl).call(this),Nt===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Nt!==tt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Nt===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Nt===tt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Nt===tt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Nt){if(!Nt&&_t(this,xt).getMode()!==tt.AnnotationEditorType.INK)return;if(!Nt){for(const qt of _t(this,dt).values())if(qt.isEmpty()){qt.setInBackground();return}}gn(this,bt,Ls).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Nt){_t(this,xt).setEditingState(Nt)}addCommands(Nt){_t(this,xt).addCommands(Nt)}enable(){this.div.style.pointerEvents="auto";const Nt=new Set;for(const qt of _t(this,dt).values())qt.enableEditing(),qt.annotationElementId&&Nt.add(qt.annotationElementId);if(!_t(this,ft))return;const Vt=_t(this,ft).getEditableAnnotations();for(const qt of Vt){if(qt.hide(),_t(this,xt).isDeletedAnnotationElement(qt.data.id)||Nt.has(qt.data.id))continue;const un=this.deserialize(qt);un&&(this.addOrRebuild(un),un.enableEditing())}}disable(){var Vt;Pn(this,ct,!0),this.div.style.pointerEvents="none";const Nt=new Set;for(const qt of _t(this,dt).values()){if(qt.disableEditing(),!qt.annotationElementId||qt.serialize()!==null){Nt.add(qt.annotationElementId);continue}(Vt=this.getEditableAnnotation(qt.annotationElementId))==null||Vt.show(),qt.remove()}if(_t(this,ft)){const qt=_t(this,ft).getEditableAnnotations();for(const un of qt){const{id:Bt}=un.data;Nt.has(Bt)||_t(this,xt).isDeletedAnnotationElement(Bt)||un.show()}}gn(this,kt,Dl).call(this),this.isEmpty&&(this.div.hidden=!0),Pn(this,ct,!1)}getEditableAnnotation(Nt){var Vt;return((Vt=_t(this,ft))==null?void 0:Vt.getEditableAnnotation(Nt))||null}setActiveEditor(Nt){_t(this,xt).getActive()!==Nt&&_t(this,xt).setActiveEditor(Nt)}enableClick(){this.div.addEventListener("pointerdown",_t(this,vt)),this.div.addEventListener("pointerup",_t(this,gt))}disableClick(){this.div.removeEventListener("pointerdown",_t(this,vt)),this.div.removeEventListener("pointerup",_t(this,gt))}attach(Nt){_t(this,dt).set(Nt.id,Nt);const{annotationElementId:Vt}=Nt;Vt&&_t(this,xt).isDeletedAnnotationElement(Vt)&&_t(this,xt).removeDeletedAnnotationElement(Nt)}detach(Nt){var Vt;_t(this,dt).delete(Nt.id),(Vt=_t(this,at))==null||Vt.removePointerInTextLayer(Nt.contentDiv),!_t(this,ct)&&Nt.annotationElementId&&_t(this,xt).addDeletedAnnotationElement(Nt)}remove(Nt){this.detach(Nt),_t(this,xt).removeEditor(Nt),Nt.div.contains(document.activeElement)&&setTimeout(()=>{_t(this,xt).focusMainContainer()},0),Nt.div.remove(),Nt.isAttachedToDOM=!1,_t(this,ut)||this.addInkEditorIfNeeded(!1)}changeParent(Nt){var Vt;Nt.parent!==this&&(Nt.annotationElementId&&(_t(this,xt).addDeletedAnnotationElement(Nt.annotationElementId),nt.AnnotationEditor.deleteAnnotationElement(Nt),Nt.annotationElementId=null),this.attach(Nt),(Vt=Nt.parent)==null||Vt.detach(Nt),Nt.setParent(this),Nt.div&&Nt.isAttachedToDOM&&(Nt.div.remove(),this.div.append(Nt.div)))}add(Nt){if(this.changeParent(Nt),_t(this,xt).addEditor(Nt),this.attach(Nt),!Nt.isAttachedToDOM){const Vt=Nt.render();this.div.append(Vt),Nt.isAttachedToDOM=!0}Nt.fixAndSetPosition(),Nt.onceAdded(),_t(this,xt).addToAnnotationStorage(Nt)}moveEditorInDOM(Nt){var qt;if(!Nt.isAttachedToDOM)return;const{activeElement:Vt}=document;Nt.div.contains(Vt)&&(Nt._focusEventsAllowed=!1,setTimeout(()=>{Nt.div.contains(document.activeElement)?Nt._focusEventsAllowed=!0:(Nt.div.addEventListener("focusin",()=>{Nt._focusEventsAllowed=!0},{once:!0}),Vt.focus())},0)),Nt._structTreeParentId=(qt=_t(this,at))==null?void 0:qt.moveElementInDOM(this.div,Nt.div,Nt.contentDiv,!0)}addOrRebuild(Nt){Nt.needsToBeRebuilt()?Nt.rebuild():this.add(Nt)}addUndoableEditor(Nt){const Vt=()=>Nt._uiManager.rebuild(Nt),qt=()=>{Nt.remove()};this.addCommands({cmd:Vt,undo:qt,mustExec:!1})}getNextId(){return _t(this,xt).getId()}pasteEditor(Nt,Vt){_t(this,xt).updateToolbar(Nt),_t(this,xt).updateMode(Nt);const{offsetX:qt,offsetY:un}=gn(this,Pt,Ol).call(this),Bt=this.getNextId(),nn=gn(this,yt,Il).call(this,{parent:this,id:Bt,x:qt,y:un,uiManager:_t(this,xt),isCentered:!0,...Vt});nn&&this.add(nn)}deserialize(Nt){switch(Nt.annotationType??Nt.annotationEditorType){case tt.AnnotationEditorType.FREETEXT:return rt.FreeTextEditor.deserialize(Nt,this,_t(this,xt));case tt.AnnotationEditorType.INK:return it.InkEditor.deserialize(Nt,this,_t(this,xt));case tt.AnnotationEditorType.STAMP:return st.StampEditor.deserialize(Nt,this,_t(this,xt))}return null}addNewEditor(){gn(this,bt,Ls).call(this,gn(this,Pt,Ol).call(this),!0)}setSelected(Nt){_t(this,xt).setSelected(Nt)}toggleSelected(Nt){_t(this,xt).toggleSelected(Nt)}isSelected(Nt){return _t(this,xt).isSelected(Nt)}unselect(Nt){_t(this,xt).unselect(Nt)}pointerup(Nt){const{isMac:Vt}=tt.FeatureTest.platform;if(!(Nt.button!==0||Nt.ctrlKey&&Vt)&&Nt.target===this.div&&_t(this,pt)){if(Pn(this,pt,!1),!_t(this,mt)){Pn(this,mt,!0);return}if(_t(this,xt).getMode()===tt.AnnotationEditorType.STAMP){_t(this,xt).unselectAll();return}gn(this,bt,Ls).call(this,Nt,!1)}}pointerdown(Nt){if(_t(this,pt)){Pn(this,pt,!1);return}const{isMac:Vt}=tt.FeatureTest.platform;if(Nt.button!==0||Nt.ctrlKey&&Vt||Nt.target!==this.div)return;Pn(this,pt,!0);const qt=_t(this,xt).getActive();Pn(this,mt,!qt||qt.isEmpty())}findNewParent(Nt,Vt,qt){const un=_t(this,xt).findParent(Vt,qt);return un===null||un===this?!1:(un.changeParent(Nt),!0)}destroy(){var Nt,Vt;((Nt=_t(this,xt).getActive())==null?void 0:Nt.parent)===this&&(_t(this,xt).commitOrRemove(),_t(this,xt).setActiveEditor(null));for(const qt of _t(this,dt).values())(Vt=_t(this,at))==null||Vt.removePointerInTextLayer(qt.contentDiv),qt.setParent(null),qt.isAttachedToDOM=!1,qt.div.remove();this.div=null,_t(this,dt).clear(),_t(this,xt).removeLayer(this)}render({viewport:Nt}){this.viewport=Nt,(0,ot.setLayerDimensions)(this.div,Nt);for(const Vt of _t(this,xt).getEditors(this.pageIndex))this.add(Vt);this.updateMode()}update({viewport:Nt}){_t(this,xt).commitOrRemove(),this.viewport=Nt,(0,ot.setLayerDimensions)(this.div,{rotation:Nt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Nt,pageHeight:Vt}=this.viewport.rawDims;return[Nt,Vt]}};at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ct=new WeakMap,xt=new WeakMap,yt=new WeakSet,Il=function(Nt){switch(_t(this,xt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new rt.FreeTextEditor(Nt);case tt.AnnotationEditorType.INK:return new it.InkEditor(Nt);case tt.AnnotationEditorType.STAMP:return new st.StampEditor(Nt)}return null},bt=new WeakSet,Ls=function(Nt,Vt){const qt=this.getNextId(),un=gn(this,yt,Il).call(this,{parent:this,id:qt,x:Nt.offsetX,y:Nt.offsetY,uiManager:_t(this,xt),isCentered:Vt});return un&&this.add(un),un},Pt=new WeakSet,Ol=function(){const{x:Nt,y:Vt,width:qt,height:un}=this.div.getBoundingClientRect(),Bt=Math.max(0,Nt),nn=Math.max(0,Vt),tn=Math.min(window.innerWidth,Nt+qt),_n=Math.min(window.innerHeight,Vt+un),Nn=(Bt+tn)/2-Nt,Lt=(nn+_n)/2-Vt,[Et,Ct]=this.viewport.rotation%180===0?[Nn,Lt]:[Lt,Nn];return{offsetX:Et,offsetY:Ct}},kt=new WeakSet,Dl=function(){Pn(this,ut,!0);for(const Nt of _t(this,dt).values())Nt.isEmpty()&&Nt.remove();Pn(this,ut,!1)},Eo(Dt,"_initialized",!1);let lt=Dt;_e.AnnotationEditorLayer=lt},($,_e,et)=>{var st,lt,at,mt,ft,gt,vt,dt,pt,ut,bu,xt,Eu,ht,Su,Tt,Cs,wt,Ll,Mt,_u,Ht,Fl;Object.defineProperty(_e,"__esModule",{value:!0}),_e.FreeTextEditor=void 0;var tt=et(1),nt=et(5),rt=et(4),it=et(29);const Vt=class Vt extends rt.AnnotationEditor{constructor(Bt){super({...Bt,name:"freeTextEditor"});en(this,ut);en(this,xt);en(this,ht);en(this,Tt);en(this,wt);en(this,Mt);en(this,Ht);en(this,st,this.editorDivBlur.bind(this));en(this,lt,this.editorDivFocus.bind(this));en(this,at,this.editorDivInput.bind(this));en(this,mt,this.editorDivKeydown.bind(this));en(this,ft,void 0);en(this,gt,"");en(this,vt,`${this.id}-editor`);en(this,dt,void 0);en(this,pt,null);Pn(this,ft,Bt.color||Vt._defaultColor||rt.AnnotationEditor._defaultLineColor),Pn(this,dt,Bt.fontSize||Vt._defaultFontSize)}static get _keyboardManager(){const Bt=Vt.prototype,nn=Nn=>Nn.isEmpty(),tn=nt.AnnotationEditorUIManager.TRANSLATE_SMALL,_n=nt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new nt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Bt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Bt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Bt._translateEmpty,{args:[-tn,0],checker:nn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt._translateEmpty,{args:[-_n,0],checker:nn}],[["ArrowRight","mac+ArrowRight"],Bt._translateEmpty,{args:[tn,0],checker:nn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt._translateEmpty,{args:[_n,0],checker:nn}],[["ArrowUp","mac+ArrowUp"],Bt._translateEmpty,{args:[0,-tn],checker:nn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt._translateEmpty,{args:[0,-_n],checker:nn}],[["ArrowDown","mac+ArrowDown"],Bt._translateEmpty,{args:[0,tn],checker:nn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt._translateEmpty,{args:[0,_n],checker:nn}]]))}static initialize(Bt){rt.AnnotationEditor.initialize(Bt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const nn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Bt,nn){switch(Bt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:Vt._defaultFontSize=nn;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:Vt._defaultColor=nn;break}}updateParams(Bt,nn){switch(Bt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:gn(this,ut,bu).call(this,nn);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:gn(this,xt,Eu).call(this,nn);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,Vt._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,Vt._defaultColor||rt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,dt)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,ft)]]}_translateEmpty(Bt,nn){this._uiManager.translateSelectedEditors(Bt,nn,!0)}getInitialTranslation(){const Bt=this.parentScale;return[-Vt._internalPadding*Bt,-(Vt._internalPadding+_t(this,dt))*Bt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,mt)),this.editorDiv.addEventListener("focus",_t(this,lt)),this.editorDiv.addEventListener("blur",_t(this,st)),this.editorDiv.addEventListener("input",_t(this,at)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,vt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,mt)),this.editorDiv.removeEventListener("focus",_t(this,lt)),this.editorDiv.removeEventListener("blur",_t(this,st)),this.editorDiv.removeEventListener("input",_t(this,at)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Bt){this._focusEventsAllowed&&(super.focusin(Bt),Bt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Bt;if(this.width){gn(this,Ht,Fl).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Bt=this._initialOptions)!=null&&Bt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Bt=_t(this,gt),nn=Pn(this,gt,gn(this,ht,Su).call(this).trimEnd());if(Bt===nn)return;const tn=_n=>{if(Pn(this,gt,_n),!_n){this.remove();return}gn(this,wt,Ll).call(this),this._uiManager.rebuild(this),gn(this,Tt,Cs).call(this)};this.addCommands({cmd:()=>{tn(nn)},undo:()=>{tn(Bt)},mustExec:!1}),gn(this,Tt,Cs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Bt){this.enterInEditMode()}keydown(Bt){Bt.target===this.div&&Bt.key==="Enter"&&(this.enterInEditMode(),Bt.preventDefault())}editorDivKeydown(Bt){Vt._keyboardManager.exec(this,Bt)}editorDivFocus(Bt){this.isEditing=!0}editorDivBlur(Bt){this.isEditing=!1}editorDivInput(Bt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Bt,nn;this.width&&(Bt=this.x,nn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,vt)),this.enableEditing(),rt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(_n=>{var Nn;return(Nn=this.editorDiv)==null?void 0:Nn.setAttribute("aria-label",_n)}),rt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(_n=>{var Nn;return(Nn=this.editorDiv)==null?void 0:Nn.setAttribute("default-content",_n)}),this.editorDiv.contentEditable=!0;const{style:tn}=this.editorDiv;if(tn.fontSize=`calc(${_t(this,dt)}px * var(--scale-factor))`,tn.color=_t(this,ft),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_n,Nn]=this.parentDimensions;if(this.annotationElementId){const{position:Lt}=_t(this,pt);let[Et,Ct]=this.getInitialTranslation();[Et,Ct]=this.pageTranslationToScreen(Et,Ct);const[St,Rt]=this.pageDimensions,[jt,It]=this.pageTranslation;let zt,Wt;switch(this.rotation){case 0:zt=Bt+(Lt[0]-jt)/St,Wt=nn+this.height-(Lt[1]-It)/Rt;break;case 90:zt=Bt+(Lt[0]-jt)/St,Wt=nn-(Lt[1]-It)/Rt,[Et,Ct]=[Ct,-Et];break;case 180:zt=Bt-this.width+(Lt[0]-jt)/St,Wt=nn-(Lt[1]-It)/Rt,[Et,Ct]=[-Et,-Ct];break;case 270:zt=Bt+(Lt[0]-jt-this.height*Rt)/St,Wt=nn+(Lt[1]-It-this.width*St)/Rt,[Et,Ct]=[-Ct,Et];break}this.setAt(zt*_n,Wt*Nn,Et,Ct)}else this.setAt(Bt*_n,nn*Nn,this.width*_n,this.height*Nn);gn(this,wt,Ll).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Bt,nn,tn){let _n=null;if(Bt instanceof it.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Lt,fontColor:Et},rect:Ct,rotation:St,id:Rt},textContent:jt,textPosition:It,parent:{page:{pageNumber:zt}}}=Bt;if(!jt||jt.length===0)return null;_n=Bt={annotationType:tt.AnnotationEditorType.FREETEXT,color:Array.from(Et),fontSize:Lt,value:jt.join(`
`),position:It,pageIndex:zt-1,rect:Ct,rotation:St,id:Rt,deleted:!1}}const Nn=super.deserialize(Bt,nn,tn);return Pn(Nn,dt,Bt.fontSize),Pn(Nn,ft,tt.Util.makeHexColor(...Bt.color)),Pn(Nn,gt,Bt.value),Nn.annotationElementId=Bt.id||null,Pn(Nn,pt,_n),Nn}serialize(Bt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const nn=Vt._internalPadding*this.parentScale,tn=this.getRect(nn,nn),_n=rt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,ft)),Nn={annotationType:tt.AnnotationEditorType.FREETEXT,color:_n,fontSize:_t(this,dt),value:_t(this,gt),pageIndex:this.pageIndex,rect:tn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Bt?Nn:this.annotationElementId&&!gn(this,Mt,_u).call(this,Nn)?null:(Nn.id=this.annotationElementId,Nn)}};st=new WeakMap,lt=new WeakMap,at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakSet,bu=function(Bt){const nn=_n=>{this.editorDiv.style.fontSize=`calc(${_n}px * var(--scale-factor))`,this.translate(0,-(_n-_t(this,dt))*this.parentScale),Pn(this,dt,_n),gn(this,Tt,Cs).call(this)},tn=_t(this,dt);this.addCommands({cmd:()=>{nn(Bt)},undo:()=>{nn(tn)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xt=new WeakSet,Eu=function(Bt){const nn=_t(this,ft);this.addCommands({cmd:()=>{Pn(this,ft,this.editorDiv.style.color=Bt)},undo:()=>{Pn(this,ft,this.editorDiv.style.color=nn)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ht=new WeakSet,Su=function(){const Bt=this.editorDiv.getElementsByTagName("div");if(Bt.length===0)return this.editorDiv.innerText;const nn=[];for(const tn of Bt)nn.push(tn.innerText.replace(/\r\n?|\n/,""));return nn.join(`
`)},Tt=new WeakSet,Cs=function(){const[Bt,nn]=this.parentDimensions;let tn;if(this.isAttachedToDOM)tn=this.div.getBoundingClientRect();else{const{currentLayer:_n,div:Nn}=this,Lt=Nn.style.display;Nn.style.display="hidden",_n.div.append(this.div),tn=Nn.getBoundingClientRect(),Nn.remove(),Nn.style.display=Lt}this.rotation%180===this.parentRotation%180?(this.width=tn.width/Bt,this.height=tn.height/nn):(this.width=tn.height/Bt,this.height=tn.width/nn),this.fixAndSetPosition()},wt=new WeakSet,Ll=function(){if(this.editorDiv.replaceChildren(),!!_t(this,gt))for(const Bt of _t(this,gt).split(`
`)){const nn=document.createElement("div");nn.append(Bt?document.createTextNode(Bt):document.createElement("br")),this.editorDiv.append(nn)}},Mt=new WeakSet,_u=function(Bt){const{value:nn,fontSize:tn,color:_n,rect:Nn,pageIndex:Lt}=_t(this,pt);return Bt.value!==nn||Bt.fontSize!==tn||Bt.rect.some((Et,Ct)=>Math.abs(Et-Nn[Ct])>=1)||Bt.color.some((Et,Ct)=>Et!==_n[Ct])||Bt.pageIndex!==Lt},Ht=new WeakSet,Fl=function(Bt=!1){if(!this.annotationElementId)return;if(gn(this,Tt,Cs).call(this),!Bt&&(this.width===0||this.height===0)){setTimeout(()=>gn(this,Ht,Fl).call(this,!0),0);return}const nn=Vt._internalPadding*this.parentScale;_t(this,pt).rect=this.getRect(nn,nn)},Eo(Vt,"_freeTextDefaultContent",""),Eo(Vt,"_internalPadding",0),Eo(Vt,"_defaultColor",null),Eo(Vt,"_defaultFontSize",10),Eo(Vt,"_type","freetext");let ot=Vt;_e.FreeTextEditor=ot},($,_e,et)=>{var Ct,Rt,as,It,wu,Wt,Zt,Kt,Xt,rn,bn,En,Tn,In,Fn,qn,An,hn,pn,jn,Gn,Xn,mr,Cu,br,Fs,Rr,Bl,Nr,zl,mn,an,Un,Ln,ur,ro,xn,Hl,vr,Zn,fr,gr,ku,Vn,Ul;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampAnnotationElement=_e.InkAnnotationElement=_e.FreeTextAnnotationElement=_e.AnnotationLayer=void 0;var tt=et(1),nt=et(6),rt=et(3),it=et(30),ot=et(31),st=et(32);const lt=1e3,at=9,mt=new WeakSet;function ft(hr){return{width:hr[2]-hr[0],height:hr[3]-hr[1]}}class gt{static create(Qt){switch(Qt.data.annotationType){case tt.AnnotationType.LINK:return new dt(Qt);case tt.AnnotationType.TEXT:return new pt(Qt);case tt.AnnotationType.WIDGET:switch(Qt.data.fieldType){case"Tx":return new ct(Qt);case"Btn":return Qt.data.radioButton?new ht(Qt):Qt.data.checkBox?new yt(Qt):new bt(Qt);case"Ch":return new Tt(Qt);case"Sig":return new xt(Qt)}return new ut(Qt);case tt.AnnotationType.POPUP:return new Pt(Qt);case tt.AnnotationType.FREETEXT:return new kt(Qt);case tt.AnnotationType.LINE:return new Mt(Qt);case tt.AnnotationType.SQUARE:return new Dt(Qt);case tt.AnnotationType.CIRCLE:return new Ht(Qt);case tt.AnnotationType.POLYLINE:return new Nt(Qt);case tt.AnnotationType.CARET:return new qt(Qt);case tt.AnnotationType.INK:return new un(Qt);case tt.AnnotationType.POLYGON:return new Vt(Qt);case tt.AnnotationType.HIGHLIGHT:return new Bt(Qt);case tt.AnnotationType.UNDERLINE:return new nn(Qt);case tt.AnnotationType.SQUIGGLY:return new tn(Qt);case tt.AnnotationType.STRIKEOUT:return new _n(Qt);case tt.AnnotationType.STAMP:return new Nn(Qt);case tt.AnnotationType.FILEATTACHMENT:return new Lt(Qt);default:return new vt(Qt)}}}const St=class St{constructor(Qt,{isRenderable:At=!1,ignoreBorder:Ft=!1,createQuadrilaterals:Yt=!1}={}){en(this,Ct,!1);this.isRenderable=At,this.data=Qt.data,this.layer=Qt.layer,this.linkService=Qt.linkService,this.downloadManager=Qt.downloadManager,this.imageResourcesPath=Qt.imageResourcesPath,this.renderForms=Qt.renderForms,this.svgFactory=Qt.svgFactory,this.annotationStorage=Qt.annotationStorage,this.enableScripting=Qt.enableScripting,this.hasJSActions=Qt.hasJSActions,this._fieldObjects=Qt.fieldObjects,this.parent=Qt.parent,At&&(this.container=this._createContainer(Ft)),Yt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Qt,contentsObj:At,richText:Ft}){return!!(Qt!=null&&Qt.str||At!=null&&At.str||Ft!=null&&Ft.str)}get hasPopupData(){return St._hasPopupData(this.data)}_createContainer(Qt){const{data:At,parent:{page:Ft,viewport:Yt}}=this,cn=document.createElement("section");cn.setAttribute("data-annotation-id",At.id),this instanceof ut||(cn.tabIndex=lt),cn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&cn.setAttribute("aria-haspopup","dialog"),At.noRotate&&cn.classList.add("norotate");const{pageWidth:vn,pageHeight:$n,pageX:zn,pageY:nr}=Yt.rawDims;if(!At.rect||this instanceof Pt){const{rotation:Er}=At;return!At.hasOwnCanvas&&Er!==0&&this.setRotation(Er,cn),cn}const{width:er,height:Ar}=ft(At.rect),ar=tt.Util.normalizeRect([At.rect[0],Ft.view[3]-At.rect[1]+Ft.view[1],At.rect[2],Ft.view[3]-At.rect[3]+Ft.view[1]]);if(!Qt&&At.borderStyle.width>0){cn.style.borderWidth=`${At.borderStyle.width}px`;const Er=At.borderStyle.horizontalCornerRadius,Ir=At.borderStyle.verticalCornerRadius;if(Er>0||Ir>0){const Jr=`calc(${Er}px * var(--scale-factor)) / calc(${Ir}px * var(--scale-factor))`;cn.style.borderRadius=Jr}else if(this instanceof ht){const Jr=`calc(${er}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;cn.style.borderRadius=Jr}switch(At.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:cn.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:cn.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:cn.style.borderBottomStyle="solid";break}const Kr=At.borderColor||null;Kr?(Pn(this,Ct,!0),cn.style.borderColor=tt.Util.makeHexColor(Kr[0]|0,Kr[1]|0,Kr[2]|0)):cn.style.borderWidth=0}cn.style.left=`${100*(ar[0]-zn)/vn}%`,cn.style.top=`${100*(ar[1]-nr)/$n}%`;const{rotation:lr}=At;return At.hasOwnCanvas||lr===0?(cn.style.width=`${100*er/vn}%`,cn.style.height=`${100*Ar/$n}%`):this.setRotation(lr,cn),cn}setRotation(Qt,At=this.container){if(!this.data.rect)return;const{pageWidth:Ft,pageHeight:Yt}=this.parent.viewport.rawDims,{width:cn,height:vn}=ft(this.data.rect);let $n,zn;Qt%180===0?($n=100*cn/Ft,zn=100*vn/Yt):($n=100*vn/Ft,zn=100*cn/Yt),At.style.width=`${$n}%`,At.style.height=`${zn}%`,At.setAttribute("data-main-rotation",(360-Qt)%360)}get _commonActions(){const Qt=(At,Ft,Yt)=>{const cn=Yt.detail[At],vn=cn[0],$n=cn.slice(1);Yt.target.style[Ft]=it.ColorConverters[`${vn}_HTML`]($n),this.annotationStorage.setValue(this.data.id,{[Ft]:it.ColorConverters[`${vn}_rgb`]($n)})};return(0,tt.shadow)(this,"_commonActions",{display:At=>{const{display:Ft}=At.detail,Yt=Ft%2===1;this.container.style.visibility=Yt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Yt,noPrint:Ft===1||Ft===2})},print:At=>{this.annotationStorage.setValue(this.data.id,{noPrint:!At.detail.print})},hidden:At=>{const{hidden:Ft}=At.detail;this.container.style.visibility=Ft?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ft,noView:Ft})},focus:At=>{setTimeout(()=>At.target.focus({preventScroll:!1}),0)},userName:At=>{At.target.title=At.detail.userName},readonly:At=>{At.target.disabled=At.detail.readonly},required:At=>{this._setRequired(At.target,At.detail.required)},bgColor:At=>{Qt("bgColor","backgroundColor",At)},fillColor:At=>{Qt("fillColor","backgroundColor",At)},fgColor:At=>{Qt("fgColor","color",At)},textColor:At=>{Qt("textColor","color",At)},borderColor:At=>{Qt("borderColor","borderColor",At)},strokeColor:At=>{Qt("strokeColor","borderColor",At)},rotation:At=>{const Ft=At.detail.rotation;this.setRotation(Ft),this.annotationStorage.setValue(this.data.id,{rotation:Ft})}})}_dispatchEventFromSandbox(Qt,At){const Ft=this._commonActions;for(const Yt of Object.keys(At.detail)){const cn=Qt[Yt]||Ft[Yt];cn==null||cn(At)}}_setDefaultPropertiesFromJS(Qt){if(!this.enableScripting)return;const At=this.annotationStorage.getRawValue(this.data.id);if(!At)return;const Ft=this._commonActions;for(const[Yt,cn]of Object.entries(At)){const vn=Ft[Yt];if(vn){const $n={detail:{[Yt]:cn},target:Qt};vn($n),delete At[Yt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Qt}=this.data;if(!Qt)return;const[At,Ft,Yt,cn]=this.data.rect;if(Qt.length===1){const[,{x:Ir,y:Kr},{x:Jr,y:wo}]=Qt[0];if(Yt===Ir&&cn===Kr&&At===Jr&&Ft===wo)return}const{style:vn}=this.container;let $n;if(_t(this,Ct)){const{borderColor:Ir,borderWidth:Kr}=vn;vn.borderWidth=0,$n=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ir}" stroke-width="${Kr}">`],this.container.classList.add("hasBorder")}const zn=Yt-At,nr=cn-Ft,{svgFactory:er}=this,Ar=er.createElement("svg");Ar.classList.add("quadrilateralsContainer"),Ar.setAttribute("width",0),Ar.setAttribute("height",0);const ar=er.createElement("defs");Ar.append(ar);const lr=er.createElement("clipPath"),Er=`clippath_${this.data.id}`;lr.setAttribute("id",Er),lr.setAttribute("clipPathUnits","objectBoundingBox"),ar.append(lr);for(const[,{x:Ir,y:Kr},{x:Jr,y:wo}]of Qt){const ao=er.createElement("rect"),Po=(Jr-At)/zn,Lo=(cn-Kr)/nr,Dn=(Ir-Jr)/zn,Bn=(Kr-wo)/nr;ao.setAttribute("x",Po),ao.setAttribute("y",Lo),ao.setAttribute("width",Dn),ao.setAttribute("height",Bn),lr.append(ao),$n==null||$n.push(`<rect vector-effect="non-scaling-stroke" x="${Po}" y="${Lo}" width="${Dn}" height="${Bn}"/>`)}_t(this,Ct)&&($n.push("</g></svg>')"),vn.backgroundImage=$n.join("")),this.container.append(Ar),this.container.style.clipPath=`url(#${Er})`}_createPopup(){const{container:Qt,data:At}=this;Qt.setAttribute("aria-haspopup","dialog");const Ft=new Pt({data:{color:At.color,titleObj:At.titleObj,modificationDate:At.modificationDate,contentsObj:At.contentsObj,richText:At.richText,parentRect:At.rect,borderStyle:0,id:`popup_${At.id}`,rotation:At.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ft.render())}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Qt,At=null){const Ft=[];if(this._fieldObjects){const Yt=this._fieldObjects[Qt];if(Yt)for(const{page:cn,id:vn,exportValues:$n}of Yt){if(cn===-1||vn===At)continue;const zn=typeof $n=="string"?$n:null,nr=document.querySelector(`[data-element-id="${vn}"]`);if(nr&&!mt.has(nr)){(0,tt.warn)(`_getElementsByName - element not allowed: ${vn}`);continue}Ft.push({id:vn,exportValue:zn,domElement:nr})}return Ft}for(const Yt of document.getElementsByName(Qt)){const{exportValue:cn}=Yt,vn=Yt.getAttribute("data-element-id");vn!==At&&mt.has(Yt)&&Ft.push({id:vn,exportValue:cn,domElement:Yt})}return Ft}show(){var Qt;this.container&&(this.container.hidden=!1),(Qt=this.popup)==null||Qt.maybeShow()}hide(){var Qt;this.container&&(this.container.hidden=!0),(Qt=this.popup)==null||Qt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Qt=this.getElementsToTriggerPopup();if(Array.isArray(Qt))for(const At of Qt)At.classList.add("highlightArea");else Qt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Qt,data:{id:At}}=this;this.container.addEventListener("dblclick",()=>{var Ft;(Ft=this.linkService.eventBus)==null||Ft.dispatch("switchannotationeditormode",{source:this,mode:Qt,editId:At})})}};Ct=new WeakMap;let vt=St;class dt extends vt{constructor(At,Ft=null){super(At,{isRenderable:!0,ignoreBorder:!!(Ft!=null&&Ft.ignoreBorder),createQuadrilaterals:!0});en(this,Rt);en(this,It);this.isTooltipOnly=At.data.isTooltipOnly}render(){const{data:At,linkService:Ft}=this,Yt=document.createElement("a");Yt.setAttribute("data-element-id",At.id);let cn=!1;return At.url?(Ft.addLinkAttributes(Yt,At.url,At.newWindow),cn=!0):At.action?(this._bindNamedAction(Yt,At.action),cn=!0):At.attachment?(this._bindAttachment(Yt,At.attachment),cn=!0):At.setOCGState?(gn(this,It,wu).call(this,Yt,At.setOCGState),cn=!0):At.dest?(this._bindLink(Yt,At.dest),cn=!0):(At.actions&&(At.actions.Action||At.actions["Mouse Up"]||At.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Yt,At),cn=!0),At.resetForm?(this._bindResetFormAction(Yt,At.resetForm),cn=!0):this.isTooltipOnly&&!cn&&(this._bindLink(Yt,""),cn=!0)),this.container.classList.add("linkAnnotation"),cn&&this.container.append(Yt),this.container}_bindLink(At,Ft){At.href=this.linkService.getDestinationHash(Ft),At.onclick=()=>(Ft&&this.linkService.goToDestination(Ft),!1),(Ft||Ft==="")&&gn(this,Rt,as).call(this)}_bindNamedAction(At,Ft){At.href=this.linkService.getAnchorUrl(""),At.onclick=()=>(this.linkService.executeNamedAction(Ft),!1),gn(this,Rt,as).call(this)}_bindAttachment(At,Ft){At.href=this.linkService.getAnchorUrl(""),At.onclick=()=>{var Yt;return(Yt=this.downloadManager)==null||Yt.openOrDownloadData(this.container,Ft.content,Ft.filename),!1},gn(this,Rt,as).call(this)}_bindJSAction(At,Ft){At.href=this.linkService.getAnchorUrl("");const Yt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const cn of Object.keys(Ft.actions)){const vn=Yt.get(cn);vn&&(At[vn]=()=>{var $n;return($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ft.id,name:cn}}),!1})}At.onclick||(At.onclick=()=>!1),gn(this,Rt,as).call(this)}_bindResetFormAction(At,Ft){const Yt=At.onclick;if(Yt||(At.href=this.linkService.getAnchorUrl("")),gn(this,Rt,as).call(this),!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Yt||(At.onclick=()=>!1);return}At.onclick=()=>{var Ar;Yt==null||Yt();const{fields:cn,refs:vn,include:$n}=Ft,zn=[];if(cn.length!==0||vn.length!==0){const ar=new Set(vn);for(const lr of cn){const Er=this._fieldObjects[lr]||[];for(const{id:Ir}of Er)ar.add(Ir)}for(const lr of Object.values(this._fieldObjects))for(const Er of lr)ar.has(Er.id)===$n&&zn.push(Er)}else for(const ar of Object.values(this._fieldObjects))zn.push(...ar);const nr=this.annotationStorage,er=[];for(const ar of zn){const{id:lr}=ar;switch(er.push(lr),ar.type){case"text":{const Ir=ar.defaultValue||"";nr.setValue(lr,{value:Ir});break}case"checkbox":case"radiobutton":{const Ir=ar.defaultValue===ar.exportValues;nr.setValue(lr,{value:Ir});break}case"combobox":case"listbox":{const Ir=ar.defaultValue||"";nr.setValue(lr,{value:Ir});break}default:continue}const Er=document.querySelector(`[data-element-id="${lr}"]`);if(Er){if(!mt.has(Er)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${lr}`);continue}}else continue;Er.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:er,name:"ResetForm"}})),!1}}}Rt=new WeakSet,as=function(){this.container.setAttribute("data-internal-link","")},It=new WeakSet,wu=function(At,Ft){At.href=this.linkService.getAnchorUrl(""),At.onclick=()=>(this.linkService.executeSetOCGState(Ft),!1),gn(this,Rt,as).call(this)};class pt extends vt{constructor(Qt){super(Qt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Qt=document.createElement("img");return Qt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Qt.alt="[{{type}} Annotation]",Qt.dataset.l10nId="text_annotation_type",Qt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Qt),this.container}}class ut extends vt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Qt){var At;this.data.hasOwnCanvas&&(((At=Qt.previousSibling)==null?void 0:At.nodeName)==="CANVAS"&&(Qt.previousSibling.hidden=!0),Qt.hidden=!1)}_getKeyModifier(Qt){const{isWin:At,isMac:Ft}=tt.FeatureTest.platform;return At&&Qt.ctrlKey||Ft&&Qt.metaKey}_setEventListener(Qt,At,Ft,Yt,cn){Ft.includes("mouse")?Qt.addEventListener(Ft,vn=>{var $n;($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Yt,value:cn(vn),shift:vn.shiftKey,modifier:this._getKeyModifier(vn)}})}):Qt.addEventListener(Ft,vn=>{var $n;if(Ft==="blur"){if(!At.focused||!vn.relatedTarget)return;At.focused=!1}else if(Ft==="focus"){if(At.focused)return;At.focused=!0}cn&&(($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Yt,value:cn(vn)}}))})}_setEventListeners(Qt,At,Ft,Yt){var cn,vn,$n;for(const[zn,nr]of Ft)(nr==="Action"||(cn=this.data.actions)!=null&&cn[nr])&&((nr==="Focus"||nr==="Blur")&&(At||(At={focused:!1})),this._setEventListener(Qt,At,zn,nr,Yt),nr==="Focus"&&!((vn=this.data.actions)!=null&&vn.Blur)?this._setEventListener(Qt,At,"blur","Blur",null):nr==="Blur"&&!(($n=this.data.actions)!=null&&$n.Focus)&&this._setEventListener(Qt,At,"focus","Focus",null))}_setBackgroundColor(Qt){const At=this.data.backgroundColor||null;Qt.style.backgroundColor=At===null?"transparent":tt.Util.makeHexColor(At[0],At[1],At[2])}_setTextStyle(Qt){const At=["left","center","right"],{fontColor:Ft}=this.data.defaultAppearanceData,Yt=this.data.defaultAppearanceData.fontSize||at,cn=Qt.style;let vn;const $n=2,zn=nr=>Math.round(10*nr)/10;if(this.data.multiLine){const nr=Math.abs(this.data.rect[3]-this.data.rect[1]-$n),er=Math.round(nr/(tt.LINE_FACTOR*Yt))||1,Ar=nr/er;vn=Math.min(Yt,zn(Ar/tt.LINE_FACTOR))}else{const nr=Math.abs(this.data.rect[3]-this.data.rect[1]-$n);vn=Math.min(Yt,zn(nr/tt.LINE_FACTOR))}cn.fontSize=`calc(${vn}px * var(--scale-factor))`,cn.color=tt.Util.makeHexColor(Ft[0],Ft[1],Ft[2]),this.data.textAlignment!==null&&(cn.textAlign=At[this.data.textAlignment])}_setRequired(Qt,At){At?Qt.setAttribute("required",!0):Qt.removeAttribute("required"),Qt.setAttribute("aria-required",At)}}class ct extends ut{constructor(Qt){const At=Qt.renderForms||!Qt.data.hasAppearance&&!!Qt.data.fieldValue;super(Qt,{isRenderable:At})}setPropertyOnSiblings(Qt,At,Ft,Yt){const cn=this.annotationStorage;for(const vn of this._getElementsByName(Qt.name,Qt.id))vn.domElement&&(vn.domElement[At]=Ft),cn.setValue(vn.id,{[Yt]:Ft})}render(){var Yt,cn;const Qt=this.annotationStorage,At=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ft=null;if(this.renderForms){const vn=Qt.getValue(At,{value:this.data.fieldValue});let $n=vn.value||"";const zn=Qt.getValue(At,{charLimit:this.data.maxLen}).charLimit;zn&&$n.length>zn&&($n=$n.slice(0,zn));let nr=vn.formattedValue||((Yt=this.data.textContent)==null?void 0:Yt.join(`
`))||null;nr&&this.data.comb&&(nr=nr.replaceAll(/\s+/g,""));const er={userValue:$n,formattedValue:nr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ft=document.createElement("textarea"),Ft.textContent=nr??$n,this.data.doNotScroll&&(Ft.style.overflowY="hidden")):(Ft=document.createElement("input"),Ft.type="text",Ft.setAttribute("value",nr??$n),this.data.doNotScroll&&(Ft.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ft.hidden=!0),mt.add(Ft),Ft.setAttribute("data-element-id",At),Ft.disabled=this.data.readOnly,Ft.name=this.data.fieldName,Ft.tabIndex=lt,this._setRequired(Ft,this.data.required),zn&&(Ft.maxLength=zn),Ft.addEventListener("input",ar=>{Qt.setValue(At,{value:ar.target.value}),this.setPropertyOnSiblings(Ft,"value",ar.target.value,"value"),er.formattedValue=null}),Ft.addEventListener("resetform",ar=>{const lr=this.data.defaultFieldValue??"";Ft.value=er.userValue=lr,er.formattedValue=null});let Ar=ar=>{const{formattedValue:lr}=er;lr!=null&&(ar.target.value=lr),ar.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ft.addEventListener("focus",lr=>{if(er.focused)return;const{target:Er}=lr;er.userValue&&(Er.value=er.userValue),er.lastCommittedValue=Er.value,er.commitKey=1,er.focused=!0}),Ft.addEventListener("updatefromsandbox",lr=>{this.showElementAndHideCanvas(lr.target);const Er={value(Ir){er.userValue=Ir.detail.value??"",Qt.setValue(At,{value:er.userValue.toString()}),Ir.target.value=er.userValue},formattedValue(Ir){const{formattedValue:Kr}=Ir.detail;er.formattedValue=Kr,Kr!=null&&Ir.target!==document.activeElement&&(Ir.target.value=Kr),Qt.setValue(At,{formattedValue:Kr})},selRange(Ir){Ir.target.setSelectionRange(...Ir.detail.selRange)},charLimit:Ir=>{var ao;const{charLimit:Kr}=Ir.detail,{target:Jr}=Ir;if(Kr===0){Jr.removeAttribute("maxLength");return}Jr.setAttribute("maxLength",Kr);let wo=er.userValue;!wo||wo.length<=Kr||(wo=wo.slice(0,Kr),Jr.value=er.userValue=wo,Qt.setValue(At,{value:wo}),(ao=this.linkService.eventBus)==null||ao.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:wo,willCommit:!0,commitKey:1,selStart:Jr.selectionStart,selEnd:Jr.selectionEnd}}))}};this._dispatchEventFromSandbox(Er,lr)}),Ft.addEventListener("keydown",lr=>{var Kr;er.commitKey=1;let Er=-1;if(lr.key==="Escape"?Er=0:lr.key==="Enter"&&!this.data.multiLine?Er=2:lr.key==="Tab"&&(er.commitKey=3),Er===-1)return;const{value:Ir}=lr.target;er.lastCommittedValue!==Ir&&(er.lastCommittedValue=Ir,er.userValue=Ir,(Kr=this.linkService.eventBus)==null||Kr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Ir,willCommit:!0,commitKey:Er,selStart:lr.target.selectionStart,selEnd:lr.target.selectionEnd}}))});const ar=Ar;Ar=null,Ft.addEventListener("blur",lr=>{var Ir;if(!er.focused||!lr.relatedTarget)return;er.focused=!1;const{value:Er}=lr.target;er.userValue=Er,er.lastCommittedValue!==Er&&((Ir=this.linkService.eventBus)==null||Ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Er,willCommit:!0,commitKey:er.commitKey,selStart:lr.target.selectionStart,selEnd:lr.target.selectionEnd}})),ar(lr)}),(cn=this.data.actions)!=null&&cn.Keystroke&&Ft.addEventListener("beforeinput",lr=>{var Lo;er.lastCommittedValue=null;const{data:Er,target:Ir}=lr,{value:Kr,selectionStart:Jr,selectionEnd:wo}=Ir;let ao=Jr,Po=wo;switch(lr.inputType){case"deleteWordBackward":{const Dn=Kr.substring(0,Jr).match(/\w*[^\w]*$/);Dn&&(ao-=Dn[0].length);break}case"deleteWordForward":{const Dn=Kr.substring(Jr).match(/^[^\w]*\w*/);Dn&&(Po+=Dn[0].length);break}case"deleteContentBackward":Jr===wo&&(ao-=1);break;case"deleteContentForward":Jr===wo&&(Po+=1);break}lr.preventDefault(),(Lo=this.linkService.eventBus)==null||Lo.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Kr,change:Er||"",willCommit:!1,selStart:ao,selEnd:Po}})}),this._setEventListeners(Ft,er,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],lr=>lr.target.value)}if(Ar&&Ft.addEventListener("blur",Ar),this.data.comb){const lr=(this.data.rect[2]-this.data.rect[0])/zn;Ft.classList.add("comb"),Ft.style.letterSpacing=`calc(${lr}px * var(--scale-factor) - 1ch)`}}else Ft=document.createElement("div"),Ft.textContent=this.data.fieldValue,Ft.style.verticalAlign="middle",Ft.style.display="table-cell";return this._setTextStyle(Ft),this._setBackgroundColor(Ft),this._setDefaultPropertiesFromJS(Ft),this.container.append(Ft),this.container}}class xt extends ut{constructor(Qt){super(Qt,{isRenderable:!!Qt.data.hasOwnCanvas})}}class yt extends ut{constructor(Qt){super(Qt,{isRenderable:Qt.renderForms})}render(){const Qt=this.annotationStorage,At=this.data,Ft=At.id;let Yt=Qt.getValue(Ft,{value:At.exportValue===At.fieldValue}).value;typeof Yt=="string"&&(Yt=Yt!=="Off",Qt.setValue(Ft,{value:Yt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const cn=document.createElement("input");return mt.add(cn),cn.setAttribute("data-element-id",Ft),cn.disabled=At.readOnly,this._setRequired(cn,this.data.required),cn.type="checkbox",cn.name=At.fieldName,Yt&&cn.setAttribute("checked",!0),cn.setAttribute("exportValue",At.exportValue),cn.tabIndex=lt,cn.addEventListener("change",vn=>{const{name:$n,checked:zn}=vn.target;for(const nr of this._getElementsByName($n,Ft)){const er=zn&&nr.exportValue===At.exportValue;nr.domElement&&(nr.domElement.checked=er),Qt.setValue(nr.id,{value:er})}Qt.setValue(Ft,{value:zn})}),cn.addEventListener("resetform",vn=>{const $n=At.defaultFieldValue||"Off";vn.target.checked=$n===At.exportValue}),this.enableScripting&&this.hasJSActions&&(cn.addEventListener("updatefromsandbox",vn=>{const $n={value(zn){zn.target.checked=zn.detail.value!=="Off",Qt.setValue(Ft,{value:zn.target.checked})}};this._dispatchEventFromSandbox($n,vn)}),this._setEventListeners(cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)),this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class ht extends ut{constructor(Qt){super(Qt,{isRenderable:Qt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Qt=this.annotationStorage,At=this.data,Ft=At.id;let Yt=Qt.getValue(Ft,{value:At.fieldValue===At.buttonValue}).value;typeof Yt=="string"&&(Yt=Yt!==At.buttonValue,Qt.setValue(Ft,{value:Yt}));const cn=document.createElement("input");if(mt.add(cn),cn.setAttribute("data-element-id",Ft),cn.disabled=At.readOnly,this._setRequired(cn,this.data.required),cn.type="radio",cn.name=At.fieldName,Yt&&cn.setAttribute("checked",!0),cn.tabIndex=lt,cn.addEventListener("change",vn=>{const{name:$n,checked:zn}=vn.target;for(const nr of this._getElementsByName($n,Ft))Qt.setValue(nr.id,{value:!1});Qt.setValue(Ft,{value:zn})}),cn.addEventListener("resetform",vn=>{const $n=At.defaultFieldValue;vn.target.checked=$n!=null&&$n===At.buttonValue}),this.enableScripting&&this.hasJSActions){const vn=At.buttonValue;cn.addEventListener("updatefromsandbox",$n=>{const zn={value:nr=>{const er=vn===nr.detail.value;for(const Ar of this._getElementsByName(nr.target.name)){const ar=er&&Ar.id===Ft;Ar.domElement&&(Ar.domElement.checked=ar),Qt.setValue(Ar.id,{value:ar})}}};this._dispatchEventFromSandbox(zn,$n)}),this._setEventListeners(cn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$n=>$n.target.checked)}return this._setBackgroundColor(cn),this._setDefaultPropertiesFromJS(cn),this.container.append(cn),this.container}}class bt extends dt{constructor(Qt){super(Qt,{ignoreBorder:Qt.data.hasAppearance})}render(){const Qt=super.render();Qt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Qt.title=this.data.alternativeText);const At=Qt.lastChild;return this.enableScripting&&this.hasJSActions&&At&&(this._setDefaultPropertiesFromJS(At),At.addEventListener("updatefromsandbox",Ft=>{this._dispatchEventFromSandbox({},Ft)})),Qt}}class Tt extends ut{constructor(Qt){super(Qt,{isRenderable:Qt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Qt=this.annotationStorage,At=this.data.id,Ft=Qt.getValue(At,{value:this.data.fieldValue}),Yt=document.createElement("select");mt.add(Yt),Yt.setAttribute("data-element-id",At),Yt.disabled=this.data.readOnly,this._setRequired(Yt,this.data.required),Yt.name=this.data.fieldName,Yt.tabIndex=lt;let cn=this.data.combo&&this.data.options.length>0;this.data.combo||(Yt.size=this.data.options.length,this.data.multiSelect&&(Yt.multiple=!0)),Yt.addEventListener("resetform",er=>{const Ar=this.data.defaultFieldValue;for(const ar of Yt.options)ar.selected=ar.value===Ar});for(const er of this.data.options){const Ar=document.createElement("option");Ar.textContent=er.displayValue,Ar.value=er.exportValue,Ft.value.includes(er.exportValue)&&(Ar.setAttribute("selected",!0),cn=!1),Yt.append(Ar)}let vn=null;if(cn){const er=document.createElement("option");er.value=" ",er.setAttribute("hidden",!0),er.setAttribute("selected",!0),Yt.prepend(er),vn=()=>{er.remove(),Yt.removeEventListener("input",vn),vn=null},Yt.addEventListener("input",vn)}const $n=er=>{const Ar=er?"value":"textContent",{options:ar,multiple:lr}=Yt;return lr?Array.prototype.filter.call(ar,Er=>Er.selected).map(Er=>Er[Ar]):ar.selectedIndex===-1?null:ar[ar.selectedIndex][Ar]};let zn=$n(!1);const nr=er=>{const Ar=er.target.options;return Array.prototype.map.call(Ar,ar=>({displayValue:ar.textContent,exportValue:ar.value}))};return this.enableScripting&&this.hasJSActions?(Yt.addEventListener("updatefromsandbox",er=>{const Ar={value(ar){vn==null||vn();const lr=ar.detail.value,Er=new Set(Array.isArray(lr)?lr:[lr]);for(const Ir of Yt.options)Ir.selected=Er.has(Ir.value);Qt.setValue(At,{value:$n(!0)}),zn=$n(!1)},multipleSelection(ar){Yt.multiple=!0},remove(ar){const lr=Yt.options,Er=ar.detail.remove;lr[Er].selected=!1,Yt.remove(Er),lr.length>0&&Array.prototype.findIndex.call(lr,Kr=>Kr.selected)===-1&&(lr[0].selected=!0),Qt.setValue(At,{value:$n(!0),items:nr(ar)}),zn=$n(!1)},clear(ar){for(;Yt.length!==0;)Yt.remove(0);Qt.setValue(At,{value:null,items:[]}),zn=$n(!1)},insert(ar){const{index:lr,displayValue:Er,exportValue:Ir}=ar.detail.insert,Kr=Yt.children[lr],Jr=document.createElement("option");Jr.textContent=Er,Jr.value=Ir,Kr?Kr.before(Jr):Yt.append(Jr),Qt.setValue(At,{value:$n(!0),items:nr(ar)}),zn=$n(!1)},items(ar){const{items:lr}=ar.detail;for(;Yt.length!==0;)Yt.remove(0);for(const Er of lr){const{displayValue:Ir,exportValue:Kr}=Er,Jr=document.createElement("option");Jr.textContent=Ir,Jr.value=Kr,Yt.append(Jr)}Yt.options.length>0&&(Yt.options[0].selected=!0),Qt.setValue(At,{value:$n(!0),items:nr(ar)}),zn=$n(!1)},indices(ar){const lr=new Set(ar.detail.indices);for(const Er of ar.target.options)Er.selected=lr.has(Er.index);Qt.setValue(At,{value:$n(!0)}),zn=$n(!1)},editable(ar){ar.target.disabled=!ar.detail.editable}};this._dispatchEventFromSandbox(Ar,er)}),Yt.addEventListener("input",er=>{var ar;const Ar=$n(!0);Qt.setValue(At,{value:Ar}),er.preventDefault(),(ar=this.linkService.eventBus)==null||ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:zn,changeEx:Ar,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Yt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],er=>er.target.value)):Yt.addEventListener("input",function(er){Qt.setValue(At,{value:$n(!0)})}),this.data.combo&&this._setTextStyle(Yt),this._setBackgroundColor(Yt),this._setDefaultPropertiesFromJS(Yt),this.container.append(Yt),this.container}}class Pt extends vt{constructor(Qt){const{data:At,elements:Ft}=Qt;super(Qt,{isRenderable:vt._hasPopupData(At)}),this.elements=Ft}render(){this.container.classList.add("popupAnnotation");const Qt=new wt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),At=[];for(const Ft of this.elements)Ft.popup=Qt,At.push(Ft.data.id),Ft.addHighlightArea();return this.container.setAttribute("aria-controls",At.map(Ft=>`${tt.AnnotationPrefix}${Ft}`).join(",")),this.container}}class wt{constructor({container:Qt,color:At,elements:Ft,titleObj:Yt,modificationDate:cn,contentsObj:vn,richText:$n,parent:zn,rect:nr,parentRect:er,open:Ar}){en(this,mr);en(this,br);en(this,Rr);en(this,Nr);en(this,Wt,null);en(this,Zt,gn(this,mr,Cu).bind(this));en(this,Kt,gn(this,Nr,zl).bind(this));en(this,Xt,gn(this,Rr,Bl).bind(this));en(this,rn,gn(this,br,Fs).bind(this));en(this,bn,null);en(this,En,null);en(this,Tn,null);en(this,In,null);en(this,Fn,null);en(this,qn,null);en(this,An,!1);en(this,hn,null);en(this,pn,null);en(this,jn,null);en(this,Gn,null);en(this,Xn,!1);var lr;Pn(this,En,Qt),Pn(this,Gn,Yt),Pn(this,Tn,vn),Pn(this,jn,$n),Pn(this,Fn,zn),Pn(this,bn,At),Pn(this,pn,nr),Pn(this,qn,er),Pn(this,In,Ft);const ar=nt.PDFDateString.toDateObject(cn);ar&&Pn(this,Wt,zn.l10n.get("annotation_date_string",{date:ar.toLocaleDateString(),time:ar.toLocaleTimeString()})),this.trigger=Ft.flatMap(Er=>Er.getElementsToTriggerPopup());for(const Er of this.trigger)Er.addEventListener("click",_t(this,rn)),Er.addEventListener("mouseenter",_t(this,Xt)),Er.addEventListener("mouseleave",_t(this,Kt)),Er.classList.add("popupTriggerArea");for(const Er of Ft)(lr=Er.container)==null||lr.addEventListener("keydown",_t(this,Zt));_t(this,En).hidden=!0,Ar&&gn(this,br,Fs).call(this)}render(){if(_t(this,hn))return;const{page:{view:Qt},viewport:{rawDims:{pageWidth:At,pageHeight:Ft,pageX:Yt,pageY:cn}}}=_t(this,Fn),vn=Pn(this,hn,document.createElement("div"));if(vn.className="popup",_t(this,bn)){const ao=vn.style.outlineColor=tt.Util.makeHexColor(..._t(this,bn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?vn.style.backgroundColor=`color-mix(in srgb, ${ao} 30%, white)`:vn.style.backgroundColor=tt.Util.makeHexColor(..._t(this,bn).map(Lo=>Math.floor(.7*(255-Lo)+Lo)))}const $n=document.createElement("span");$n.className="header";const zn=document.createElement("h1");if($n.append(zn),{dir:zn.dir,str:zn.textContent}=_t(this,Gn),vn.append($n),_t(this,Wt)){const ao=document.createElement("span");ao.classList.add("popupDate"),_t(this,Wt).then(Po=>{ao.textContent=Po}),$n.append(ao)}const nr=_t(this,Tn),er=_t(this,jn);if(er!=null&&er.str&&(!(nr!=null&&nr.str)||nr.str===er.str))st.XfaLayer.render({xfaHtml:er.html,intent:"richText",div:vn}),vn.lastChild.classList.add("richText","popupContent");else{const ao=this._formatContents(nr);vn.append(ao)}let Ar=!!_t(this,qn),ar=Ar?_t(this,qn):_t(this,pn);for(const ao of _t(this,In))if(!ar||tt.Util.intersect(ao.data.rect,ar)!==null){ar=ao.data.rect,Ar=!0;break}const lr=tt.Util.normalizeRect([ar[0],Qt[3]-ar[1]+Qt[1],ar[2],Qt[3]-ar[3]+Qt[1]]),Er=5,Ir=Ar?ar[2]-ar[0]+Er:0,Kr=lr[0]+Ir,Jr=lr[1],{style:wo}=_t(this,En);wo.left=`${100*(Kr-Yt)/At}%`,wo.top=`${100*(Jr-cn)/Ft}%`,_t(this,En).append(vn)}_formatContents({str:Qt,dir:At}){const Ft=document.createElement("p");Ft.classList.add("popupContent"),Ft.dir=At;const Yt=Qt.split(/(?:\r\n?|\n)/);for(let cn=0,vn=Yt.length;cn<vn;++cn){const $n=Yt[cn];Ft.append(document.createTextNode($n)),cn<vn-1&&Ft.append(document.createElement("br"))}return Ft}forceHide(){Pn(this,Xn,this.isVisible),_t(this,Xn)&&(_t(this,En).hidden=!0)}maybeShow(){_t(this,Xn)&&(Pn(this,Xn,!1),_t(this,En).hidden=!1)}get isVisible(){return _t(this,En).hidden===!1}}Wt=new WeakMap,Zt=new WeakMap,Kt=new WeakMap,Xt=new WeakMap,rn=new WeakMap,bn=new WeakMap,En=new WeakMap,Tn=new WeakMap,In=new WeakMap,Fn=new WeakMap,qn=new WeakMap,An=new WeakMap,hn=new WeakMap,pn=new WeakMap,jn=new WeakMap,Gn=new WeakMap,Xn=new WeakMap,mr=new WeakSet,Cu=function(Qt){Qt.altKey||Qt.shiftKey||Qt.ctrlKey||Qt.metaKey||(Qt.key==="Enter"||Qt.key==="Escape"&&_t(this,An))&&gn(this,br,Fs).call(this)},br=new WeakSet,Fs=function(){Pn(this,An,!_t(this,An)),_t(this,An)?(gn(this,Rr,Bl).call(this),_t(this,En).addEventListener("click",_t(this,rn)),_t(this,En).addEventListener("keydown",_t(this,Zt))):(gn(this,Nr,zl).call(this),_t(this,En).removeEventListener("click",_t(this,rn)),_t(this,En).removeEventListener("keydown",_t(this,Zt)))},Rr=new WeakSet,Bl=function(){_t(this,hn)||this.render(),this.isVisible?_t(this,An)&&_t(this,En).classList.add("focused"):(_t(this,En).hidden=!1,_t(this,En).style.zIndex=parseInt(_t(this,En).style.zIndex)+1e3)},Nr=new WeakSet,zl=function(){_t(this,En).classList.remove("focused"),!(_t(this,An)||!this.isVisible)&&(_t(this,En).hidden=!0,_t(this,En).style.zIndex=parseInt(_t(this,En).style.zIndex)-1e3)};class kt extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Qt.data.textContent,this.textPosition=Qt.data.textPosition,this.annotationEditorType=tt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Qt=document.createElement("div");Qt.classList.add("annotationTextContent"),Qt.setAttribute("role","comment");for(const At of this.textContent){const Ft=document.createElement("span");Ft.textContent=At,Qt.append(Ft)}this.container.append(Qt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}_e.FreeTextAnnotationElement=kt;class Mt extends vt{constructor(At){super(At,{isRenderable:!0,ignoreBorder:!0});en(this,mn,null)}render(){this.container.classList.add("lineAnnotation");const At=this.data,{width:Ft,height:Yt}=ft(At.rect),cn=this.svgFactory.create(Ft,Yt,!0),vn=Pn(this,mn,this.svgFactory.createElement("svg:line"));return vn.setAttribute("x1",At.rect[2]-At.lineCoordinates[0]),vn.setAttribute("y1",At.rect[3]-At.lineCoordinates[1]),vn.setAttribute("x2",At.rect[2]-At.lineCoordinates[2]),vn.setAttribute("y2",At.rect[3]-At.lineCoordinates[3]),vn.setAttribute("stroke-width",At.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),cn.append(vn),this.container.append(cn),!At.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class Dt extends vt{constructor(At){super(At,{isRenderable:!0,ignoreBorder:!0});en(this,an,null)}render(){this.container.classList.add("squareAnnotation");const At=this.data,{width:Ft,height:Yt}=ft(At.rect),cn=this.svgFactory.create(Ft,Yt,!0),vn=At.borderStyle.width,$n=Pn(this,an,this.svgFactory.createElement("svg:rect"));return $n.setAttribute("x",vn/2),$n.setAttribute("y",vn/2),$n.setAttribute("width",Ft-vn),$n.setAttribute("height",Yt-vn),$n.setAttribute("stroke-width",vn||1),$n.setAttribute("stroke","transparent"),$n.setAttribute("fill","transparent"),cn.append($n),this.container.append(cn),!At.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class Ht extends vt{constructor(At){super(At,{isRenderable:!0,ignoreBorder:!0});en(this,Un,null)}render(){this.container.classList.add("circleAnnotation");const At=this.data,{width:Ft,height:Yt}=ft(At.rect),cn=this.svgFactory.create(Ft,Yt,!0),vn=At.borderStyle.width,$n=Pn(this,Un,this.svgFactory.createElement("svg:ellipse"));return $n.setAttribute("cx",Ft/2),$n.setAttribute("cy",Yt/2),$n.setAttribute("rx",Ft/2-vn/2),$n.setAttribute("ry",Yt/2-vn/2),$n.setAttribute("stroke-width",vn||1),$n.setAttribute("stroke","transparent"),$n.setAttribute("fill","transparent"),cn.append($n),this.container.append(cn),!At.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class Nt extends vt{constructor(At){super(At,{isRenderable:!0,ignoreBorder:!0});en(this,Ln,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const At=this.data,{width:Ft,height:Yt}=ft(At.rect),cn=this.svgFactory.create(Ft,Yt,!0);let vn=[];for(const zn of At.vertices){const nr=zn.x-At.rect[0],er=At.rect[3]-zn.y;vn.push(nr+","+er)}vn=vn.join(" ");const $n=Pn(this,Ln,this.svgFactory.createElement(this.svgElementName));return $n.setAttribute("points",vn),$n.setAttribute("stroke-width",At.borderStyle.width||1),$n.setAttribute("stroke","transparent"),$n.setAttribute("fill","transparent"),cn.append($n),this.container.append(cn),!At.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap;class Vt extends Nt{constructor(Qt){super(Qt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qt extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class un extends vt{constructor(At){super(At,{isRenderable:!0,ignoreBorder:!0});en(this,ur,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const At=this.data,{width:Ft,height:Yt}=ft(At.rect),cn=this.svgFactory.create(Ft,Yt,!0);for(const vn of At.inkLists){let $n=[];for(const nr of vn){const er=nr.x-At.rect[0],Ar=At.rect[3]-nr.y;$n.push(`${er},${Ar}`)}$n=$n.join(" ");const zn=this.svgFactory.createElement(this.svgElementName);_t(this,ur).push(zn),zn.setAttribute("points",$n),zn.setAttribute("stroke-width",At.borderStyle.width||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),!At.popupRef&&this.hasPopupData&&this._createPopup(),cn.append(zn)}return this.container.append(cn),this.container}getElementsToTriggerPopup(){return _t(this,ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}ur=new WeakMap,_e.InkAnnotationElement=un;class Bt extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nn extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tn extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _n extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Nn extends vt{constructor(Qt){super(Qt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}_e.StampAnnotationElement=Nn;class Lt extends vt{constructor(At){var cn;super(At,{isRenderable:!0});en(this,xn);en(this,ro,null);const{filename:Ft,content:Yt}=this.data.file;this.filename=(0,nt.getFilenameFromUrl)(Ft,!0),this.content=Yt,(cn=this.linkService.eventBus)==null||cn.dispatch("fileattachmentannotation",{source:this,filename:Ft,content:Yt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:At,data:Ft}=this;let Yt;Ft.hasAppearance||Ft.fillAlpha===0?Yt=document.createElement("div"):(Yt=document.createElement("img"),Yt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ft.name)?"paperclip":"pushpin"}.svg`,Ft.fillAlpha&&Ft.fillAlpha<1&&(Yt.style=`filter: opacity(${Math.round(Ft.fillAlpha*100)}%);`)),Yt.addEventListener("dblclick",gn(this,xn,Hl).bind(this)),Pn(this,ro,Yt);const{isMac:cn}=tt.FeatureTest.platform;return At.addEventListener("keydown",vn=>{vn.key==="Enter"&&(cn?vn.metaKey:vn.ctrlKey)&&gn(this,xn,Hl).call(this)}),!Ft.popupRef&&this.hasPopupData?this._createPopup():Yt.classList.add("popupTriggerArea"),At.append(Yt),At}getElementsToTriggerPopup(){return _t(this,ro)}addHighlightArea(){this.container.classList.add("highlightArea")}}ro=new WeakMap,xn=new WeakSet,Hl=function(){var At;(At=this.downloadManager)==null||At.openOrDownloadData(this.container,this.content,this.filename)};class Et{constructor({div:Qt,accessibilityManager:At,annotationCanvasMap:Ft,l10n:Yt,page:cn,viewport:vn}){en(this,gr);en(this,Vn);en(this,vr,null);en(this,Zn,null);en(this,fr,new Map);this.div=Qt,Pn(this,vr,At),Pn(this,Zn,Ft),this.l10n=Yt,this.page=cn,this.viewport=vn,this.zIndex=0,this.l10n||(this.l10n=ot.NullL10n)}async render(Qt){const{annotations:At}=Qt,Ft=this.div;(0,nt.setLayerDimensions)(Ft,this.viewport);const Yt=new Map,cn={data:null,layer:Ft,linkService:Qt.linkService,downloadManager:Qt.downloadManager,imageResourcesPath:Qt.imageResourcesPath||"",renderForms:Qt.renderForms!==!1,svgFactory:new nt.DOMSVGFactory,annotationStorage:Qt.annotationStorage||new rt.AnnotationStorage,enableScripting:Qt.enableScripting===!0,hasJSActions:Qt.hasJSActions,fieldObjects:Qt.fieldObjects,parent:this,elements:null};for(const vn of At){if(vn.noHTML)continue;const $n=vn.annotationType===tt.AnnotationType.POPUP;if($n){const er=Yt.get(vn.id);if(!er)continue;cn.elements=er}else{const{width:er,height:Ar}=ft(vn.rect);if(er<=0||Ar<=0)continue}cn.data=vn;const zn=gt.create(cn);if(!zn.isRenderable)continue;if(!$n&&vn.popupRef){const er=Yt.get(vn.popupRef);er?er.push(zn):Yt.set(vn.popupRef,[zn])}zn.annotationEditorType>0&&_t(this,fr).set(zn.data.id,zn);const nr=zn.render();vn.hidden&&(nr.style.visibility="hidden"),gn(this,gr,ku).call(this,nr,vn.id)}gn(this,Vn,Ul).call(this),await this.l10n.translate(Ft)}update({viewport:Qt}){const At=this.div;this.viewport=Qt,(0,nt.setLayerDimensions)(At,{rotation:Qt.rotation}),gn(this,Vn,Ul).call(this),At.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,fr).values())}getEditableAnnotation(Qt){return _t(this,fr).get(Qt)}}vr=new WeakMap,Zn=new WeakMap,fr=new WeakMap,gr=new WeakSet,ku=function(Qt,At){var Yt;const Ft=Qt.firstChild||Qt;Ft.id=`${tt.AnnotationPrefix}${At}`,this.div.append(Qt),(Yt=_t(this,vr))==null||Yt.moveElementInDOM(this.div,Qt,Ft,!1)},Vn=new WeakSet,Ul=function(){if(!_t(this,Zn))return;const Qt=this.div;for(const[At,Ft]of _t(this,Zn)){const Yt=Qt.querySelector(`[data-annotation-id="${At}"]`);if(!Yt)continue;const{firstChild:cn}=Yt;cn?cn.nodeName==="CANVAS"?cn.replaceWith(Ft):cn.before(Ft):Yt.append(Ft)}_t(this,Zn).clear()},_e.AnnotationLayer=Et},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorConverters=void 0;function et(rt){return Math.floor(Math.max(0,Math.min(1,rt))*255).toString(16).padStart(2,"0")}function tt(rt){return Math.max(0,Math.min(255,255*rt))}class nt{static CMYK_G([it,ot,st,lt]){return["G",1-Math.min(1,.3*it+.59*st+.11*ot+lt)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_rgb([it]){return it=tt(it),[it,it,it]}static G_HTML([it]){const ot=et(it);return`#${ot}${ot}${ot}`}static RGB_G([it,ot,st]){return["G",.3*it+.59*ot+.11*st]}static RGB_rgb(it){return it.map(tt)}static RGB_HTML(it){return`#${it.map(et).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([it,ot,st,lt]){return["RGB",1-Math.min(1,it+lt),1-Math.min(1,st+lt),1-Math.min(1,ot+lt)]}static CMYK_rgb([it,ot,st,lt]){return[tt(1-Math.min(1,it+lt)),tt(1-Math.min(1,st+lt)),tt(1-Math.min(1,ot+lt))]}static CMYK_HTML(it){const ot=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(ot)}static RGB_CMYK([it,ot,st]){const lt=1-it,at=1-ot,mt=1-st,ft=Math.min(lt,at,mt);return["CMYK",lt,at,mt,ft]}}_e.ColorConverters=nt},($,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NullL10n=void 0,_e.getL10nFallback=tt;const et={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};et.print_progress_percent="{{progress}}%";function tt(it,ot){switch(it){case"find_match_count":it=`find_match_count[${ot.total===1?"one":"other"}]`;break;case"find_match_count_limit":it=`find_match_count_limit[${ot.limit===1?"one":"other"}]`;break}return et[it]||""}function nt(it,ot){return ot?it.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(st,lt)=>lt in ot?ot[lt]:"{{"+lt+"}}"):it}const rt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(it,ot=null,st=tt(it,ot)){return nt(st,ot)},async translate(it){}};_e.NullL10n=rt},($,_e,et)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XfaLayer=void 0;var tt=et(25);class nt{static setupStorage(it,ot,st,lt,at){const mt=lt.getValue(ot,{value:null});switch(st.name){case"textarea":if(mt.value!==null&&(it.textContent=mt.value),at==="print")break;it.addEventListener("input",ft=>{lt.setValue(ot,{value:ft.target.value})});break;case"input":if(st.attributes.type==="radio"||st.attributes.type==="checkbox"){if(mt.value===st.attributes.xfaOn?it.setAttribute("checked",!0):mt.value===st.attributes.xfaOff&&it.removeAttribute("checked"),at==="print")break;it.addEventListener("change",ft=>{lt.setValue(ot,{value:ft.target.checked?ft.target.getAttribute("xfaOn"):ft.target.getAttribute("xfaOff")})})}else{if(mt.value!==null&&it.setAttribute("value",mt.value),at==="print")break;it.addEventListener("input",ft=>{lt.setValue(ot,{value:ft.target.value})})}break;case"select":if(mt.value!==null){it.setAttribute("value",mt.value);for(const ft of st.children)ft.attributes.value===mt.value?ft.attributes.selected=!0:ft.attributes.hasOwnProperty("selected")&&delete ft.attributes.selected}it.addEventListener("input",ft=>{const gt=ft.target.options,vt=gt.selectedIndex===-1?"":gt[gt.selectedIndex].value;lt.setValue(ot,{value:vt})});break}}static setAttributes({html:it,element:ot,storage:st=null,intent:lt,linkService:at}){const{attributes:mt}=ot,ft=it instanceof HTMLAnchorElement;mt.type==="radio"&&(mt.name=`${mt.name}-${lt}`);for(const[gt,vt]of Object.entries(mt))if(vt!=null)switch(gt){case"class":vt.length&&it.setAttribute(gt,vt.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",vt);break;case"style":Object.assign(it.style,vt);break;case"textContent":it.textContent=vt;break;default:(!ft||gt!=="href"&&gt!=="newWindow")&&it.setAttribute(gt,vt)}ft&&at.addLinkAttributes(it,mt.href,mt.newWindow),st&&mt.dataId&&this.setupStorage(it,mt.dataId,ot,st)}static render(it){var dt;const ot=it.annotationStorage,st=it.linkService,lt=it.xfaHtml,at=it.intent||"display",mt=document.createElement(lt.name);lt.attributes&&this.setAttributes({html:mt,element:lt,intent:at,linkService:st});const ft=[[lt,-1,mt]],gt=it.div;if(gt.append(mt),it.viewport){const pt=`matrix(${it.viewport.transform.join(",")})`;gt.style.transform=pt}at!=="richText"&&gt.setAttribute("class","xfaLayer xfaFont");const vt=[];for(;ft.length>0;){const[pt,ut,ct]=ft.at(-1);if(ut+1===pt.children.length){ft.pop();continue}const xt=pt.children[++ft.at(-1)[1]];if(xt===null)continue;const{name:yt}=xt;if(yt==="#text"){const bt=document.createTextNode(xt.value);vt.push(bt),ct.append(bt);continue}const ht=(dt=xt==null?void 0:xt.attributes)!=null&&dt.xmlns?document.createElementNS(xt.attributes.xmlns,yt):document.createElement(yt);if(ct.append(ht),xt.attributes&&this.setAttributes({html:ht,element:xt,storage:ot,intent:at,linkService:st}),xt.children&&xt.children.length>0)ft.push([xt,-1,ht]);else if(xt.value){const bt=document.createTextNode(xt.value);tt.XfaText.shouldBuildText(yt)&&vt.push(bt),ht.append(bt)}}for(const pt of gt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pt.setAttribute("readOnly",!0);return{textDivs:vt}}static update(it){const ot=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=ot,it.div.hidden=!1}}_e.XfaLayer=nt},($,_e,et)=>{var lt,at,mt,ft,gt,vt,dt,pt,ut,ct,xt,yt,ht,bt,Tt,Ru,wt,Au,Mt,Pu,Ht,Tu,Vt,Vl,un,$u,nn,Wl,_n,ju,Lt,Mu,Ct,Nu,Rt,Iu,It,Ou,Wt,Qo,Kt,Kl,rn,Bs,En,zs,In,ms,qn,Gl,hn,Hs,jn,Du,Xn,Xl,Sr,Lu,kr,Fu,xr,Yl,On,Us,an,gs;Object.defineProperty(_e,"__esModule",{value:!0}),_e.InkEditor=void 0;var tt=et(1),nt=et(4),rt=et(29),it=et(6),ot=et(5);const Ln=class Ln extends nt.AnnotationEditor{constructor(xn){super({...xn,name:"inkEditor"});en(this,Tt);en(this,wt);en(this,Mt);en(this,Ht);en(this,Vt);en(this,un);en(this,nn);en(this,_n);en(this,Lt);en(this,Ct);en(this,Rt);en(this,It);en(this,Wt);en(this,Kt);en(this,rn);en(this,En);en(this,In);en(this,qn);en(this,hn);en(this,kr);en(this,xr);en(this,On);en(this,an);en(this,lt,0);en(this,at,0);en(this,mt,this.canvasPointermove.bind(this));en(this,ft,this.canvasPointerleave.bind(this));en(this,gt,this.canvasPointerup.bind(this));en(this,vt,this.canvasPointerdown.bind(this));en(this,dt,new Path2D);en(this,pt,!1);en(this,ut,!1);en(this,ct,!1);en(this,xt,null);en(this,yt,0);en(this,ht,0);en(this,bt,null);this.color=xn.color||null,this.thickness=xn.thickness||null,this.opacity=xn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(xn){nt.AnnotationEditor.initialize(xn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(xn,Qn){switch(xn){case tt.AnnotationEditorParamsType.INK_THICKNESS:Ln._defaultThickness=Qn;break;case tt.AnnotationEditorParamsType.INK_COLOR:Ln._defaultColor=Qn;break;case tt.AnnotationEditorParamsType.INK_OPACITY:Ln._defaultOpacity=Qn/100;break}}updateParams(xn,Qn){switch(xn){case tt.AnnotationEditorParamsType.INK_THICKNESS:gn(this,Tt,Ru).call(this,Qn);break;case tt.AnnotationEditorParamsType.INK_COLOR:gn(this,wt,Au).call(this,Qn);break;case tt.AnnotationEditorParamsType.INK_OPACITY:gn(this,Mt,Pu).call(this,Qn);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,Ln._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,Ln._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ln._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ln._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||Ln._defaultColor||nt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ln._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(gn(this,rn,Bs).call(this),gn(this,En,zs).call(this)),this.isAttachedToDOM||(this.parent.add(this),gn(this,In,ms).call(this)),gn(this,an,gs).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,xt).disconnect(),Pn(this,xt,null),super.remove())}setParent(xn){!this.parent&&xn?this._uiManager.removeShouldRescale(this):this.parent&&xn===null&&this._uiManager.addShouldRescale(this),super.setParent(xn)}onScaleChanging(){const[xn,Qn]=this.parentDimensions,vr=this.width*xn,Zn=this.height*Qn;this.setDimensions(vr,Zn)}enableEditMode(){_t(this,pt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,vt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,vt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,pt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Pn(this,pt,!0),this.div.classList.add("disabled"),gn(this,an,gs).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(xn){this._focusEventsAllowed&&(super.focusin(xn),this.enableEditMode())}canvasPointerdown(xn){xn.button!==0||!this.isInEditMode()||_t(this,pt)||(this.setInForeground(),xn.preventDefault(),xn.type!=="mouse"&&this.div.focus(),gn(this,un,$u).call(this,xn.offsetX,xn.offsetY))}canvasPointermove(xn){xn.preventDefault(),gn(this,nn,Wl).call(this,xn.offsetX,xn.offsetY)}canvasPointerup(xn){xn.preventDefault(),gn(this,Kt,Kl).call(this,xn)}canvasPointerleave(xn){gn(this,Kt,Kl).call(this,xn)}get isResizable(){return!this.isEmpty()&&_t(this,pt)}render(){if(this.div)return this.div;let xn,Qn;this.width&&(xn=this.x,Qn=this.y),super.render(),nt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(zr=>{var Vn;return(Vn=this.div)==null?void 0:Vn.setAttribute("aria-label",zr)});const[vr,Zn,fr,gr]=gn(this,Ht,Tu).call(this);if(this.setAt(vr,Zn,0,0),this.setDims(fr,gr),gn(this,rn,Bs).call(this),this.width){const[zr,Vn]=this.parentDimensions;this.setAspectRatio(this.width*zr,this.height*Vn),this.setAt(xn*zr,Qn*Vn,this.width*zr,this.height*Vn),Pn(this,ct,!0),gn(this,In,ms).call(this),this.setDims(this.width*zr,this.height*Vn),gn(this,Wt,Qo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return gn(this,En,zs).call(this),this.div}setDimensions(xn,Qn){const vr=Math.round(xn),Zn=Math.round(Qn);if(_t(this,yt)===vr&&_t(this,ht)===Zn)return;Pn(this,yt,vr),Pn(this,ht,Zn),this.canvas.style.visibility="hidden";const[fr,gr]=this.parentDimensions;this.width=xn/fr,this.height=Qn/gr,this.fixAndSetPosition(),_t(this,pt)&&gn(this,qn,Gl).call(this,xn,Qn),gn(this,In,ms).call(this),gn(this,Wt,Qo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(xn,Qn,vr){var cn,vn,$n;if(xn instanceof rt.InkAnnotationElement)return null;const Zn=super.deserialize(xn,Qn,vr);Zn.thickness=xn.thickness,Zn.color=tt.Util.makeHexColor(...xn.color),Zn.opacity=xn.opacity;const[fr,gr]=Zn.pageDimensions,zr=Zn.width*fr,Vn=Zn.height*gr,Hr=Zn.parentScale,hr=xn.thickness/2;Pn(Zn,pt,!0),Pn(Zn,yt,Math.round(zr)),Pn(Zn,ht,Math.round(Vn));const{paths:Qt,rect:At,rotation:Ft}=xn;for(let{bezier:zn}of Qt){zn=gn(cn=Ln,Sr,Lu).call(cn,zn,At,Ft);const nr=[];Zn.paths.push(nr);let er=Hr*(zn[0]-hr),Ar=Hr*(zn[1]-hr);for(let lr=2,Er=zn.length;lr<Er;lr+=6){const Ir=Hr*(zn[lr]-hr),Kr=Hr*(zn[lr+1]-hr),Jr=Hr*(zn[lr+2]-hr),wo=Hr*(zn[lr+3]-hr),ao=Hr*(zn[lr+4]-hr),Po=Hr*(zn[lr+5]-hr);nr.push([[er,Ar],[Ir,Kr],[Jr,wo],[ao,Po]]),er=ao,Ar=Po}const ar=gn(this,jn,Du).call(this,nr);Zn.bezierPath2D.push(ar)}const Yt=gn(vn=Zn,xr,Yl).call(vn);return Pn(Zn,at,Math.max(nt.AnnotationEditor.MIN_SIZE,Yt[2]-Yt[0])),Pn(Zn,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,Yt[3]-Yt[1])),gn($n=Zn,qn,Gl).call($n,zr,Vn),Zn}serialize(){if(this.isEmpty())return null;const xn=this.getRect(0,0),Qn=nt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:Qn,thickness:this.thickness,opacity:this.opacity,paths:gn(this,kr,Fu).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,xn),pageIndex:this.pageIndex,rect:xn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};lt=new WeakMap,at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ct=new WeakMap,xt=new WeakMap,yt=new WeakMap,ht=new WeakMap,bt=new WeakMap,Tt=new WeakSet,Ru=function(xn){const Qn=this.thickness;this.addCommands({cmd:()=>{this.thickness=xn,gn(this,an,gs).call(this)},undo:()=>{this.thickness=Qn,gn(this,an,gs).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},wt=new WeakSet,Au=function(xn){const Qn=this.color;this.addCommands({cmd:()=>{this.color=xn,gn(this,Wt,Qo).call(this)},undo:()=>{this.color=Qn,gn(this,Wt,Qo).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Mt=new WeakSet,Pu=function(xn){xn/=100;const Qn=this.opacity;this.addCommands({cmd:()=>{this.opacity=xn,gn(this,Wt,Qo).call(this)},undo:()=>{this.opacity=Qn,gn(this,Wt,Qo).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ht=new WeakSet,Tu=function(){const{parentRotation:xn,parentDimensions:[Qn,vr]}=this;switch(xn){case 90:return[0,vr,vr,Qn];case 180:return[Qn,vr,Qn,vr];case 270:return[Qn,0,vr,Qn];default:return[0,0,Qn,vr]}},Vt=new WeakSet,Vl=function(){const{ctx:xn,color:Qn,opacity:vr,thickness:Zn,parentScale:fr,scaleFactor:gr}=this;xn.lineWidth=Zn*fr/gr,xn.lineCap="round",xn.lineJoin="round",xn.miterLimit=10,xn.strokeStyle=`${Qn}${(0,ot.opacityToHex)(vr)}`},un=new WeakSet,$u=function(xn,Qn){this.canvas.addEventListener("contextmenu",it.noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,ft)),this.canvas.addEventListener("pointermove",_t(this,mt)),this.canvas.addEventListener("pointerup",_t(this,gt)),this.canvas.removeEventListener("pointerdown",_t(this,vt)),this.isEditing=!0,_t(this,ct)||(Pn(this,ct,!0),gn(this,In,ms).call(this),this.thickness||(this.thickness=Ln._defaultThickness),this.color||(this.color=Ln._defaultColor||nt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ln._defaultOpacity)),this.currentPath.push([xn,Qn]),Pn(this,ut,!1),gn(this,Vt,Vl).call(this),Pn(this,bt,()=>{gn(this,Ct,Nu).call(this),_t(this,bt)&&window.requestAnimationFrame(_t(this,bt))}),window.requestAnimationFrame(_t(this,bt))},nn=new WeakSet,Wl=function(xn,Qn){const[vr,Zn]=this.currentPath.at(-1);if(this.currentPath.length>1&&xn===vr&&Qn===Zn)return;const fr=this.currentPath;let gr=_t(this,dt);if(fr.push([xn,Qn]),Pn(this,ut,!0),fr.length<=2){gr.moveTo(...fr[0]),gr.lineTo(xn,Qn);return}fr.length===3&&(Pn(this,dt,gr=new Path2D),gr.moveTo(...fr[0])),gn(this,Rt,Iu).call(this,gr,...fr.at(-3),...fr.at(-2),xn,Qn)},_n=new WeakSet,ju=function(){if(this.currentPath.length===0)return;const xn=this.currentPath.at(-1);_t(this,dt).lineTo(...xn)},Lt=new WeakSet,Mu=function(xn,Qn){Pn(this,bt,null),xn=Math.min(Math.max(xn,0),this.canvas.width),Qn=Math.min(Math.max(Qn,0),this.canvas.height),gn(this,nn,Wl).call(this,xn,Qn),gn(this,_n,ju).call(this);let vr;if(this.currentPath.length!==1)vr=gn(this,It,Ou).call(this);else{const Vn=[xn,Qn];vr=[[Vn,Vn.slice(),Vn.slice(),Vn]]}const Zn=_t(this,dt),fr=this.currentPath;this.currentPath=[],Pn(this,dt,new Path2D);const gr=()=>{this.allRawPaths.push(fr),this.paths.push(vr),this.bezierPath2D.push(Zn),this.rebuild()},zr=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(gn(this,rn,Bs).call(this),gn(this,En,zs).call(this)),gn(this,an,gs).call(this))};this.addCommands({cmd:gr,undo:zr,mustExec:!0})},Ct=new WeakSet,Nu=function(){if(!_t(this,ut))return;Pn(this,ut,!1);const xn=Math.ceil(this.thickness*this.parentScale),Qn=this.currentPath.slice(-3),vr=Qn.map(gr=>gr[0]),Zn=Qn.map(gr=>gr[1]);Math.min(...vr)-xn,Math.max(...vr)+xn,Math.min(...Zn)-xn,Math.max(...Zn)+xn;const{ctx:fr}=this;fr.save(),fr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const gr of this.bezierPath2D)fr.stroke(gr);fr.stroke(_t(this,dt)),fr.restore()},Rt=new WeakSet,Iu=function(xn,Qn,vr,Zn,fr,gr,zr){const Vn=(Qn+Zn)/2,Hr=(vr+fr)/2,hr=(Zn+gr)/2,Qt=(fr+zr)/2;xn.bezierCurveTo(Vn+2*(Zn-Vn)/3,Hr+2*(fr-Hr)/3,hr+2*(Zn-hr)/3,Qt+2*(fr-Qt)/3,hr,Qt)},It=new WeakSet,Ou=function(){const xn=this.currentPath;if(xn.length<=2)return[[xn[0],xn[0],xn.at(-1),xn.at(-1)]];const Qn=[];let vr,[Zn,fr]=xn[0];for(vr=1;vr<xn.length-2;vr++){const[At,Ft]=xn[vr],[Yt,cn]=xn[vr+1],vn=(At+Yt)/2,$n=(Ft+cn)/2,zn=[Zn+2*(At-Zn)/3,fr+2*(Ft-fr)/3],nr=[vn+2*(At-vn)/3,$n+2*(Ft-$n)/3];Qn.push([[Zn,fr],zn,nr,[vn,$n]]),[Zn,fr]=[vn,$n]}const[gr,zr]=xn[vr],[Vn,Hr]=xn[vr+1],hr=[Zn+2*(gr-Zn)/3,fr+2*(zr-fr)/3],Qt=[Vn+2*(gr-Vn)/3,Hr+2*(zr-Hr)/3];return Qn.push([[Zn,fr],hr,Qt,[Vn,Hr]]),Qn},Wt=new WeakSet,Qo=function(){if(this.isEmpty()){gn(this,hn,Hs).call(this);return}gn(this,Vt,Vl).call(this);const{canvas:xn,ctx:Qn}=this;Qn.setTransform(1,0,0,1,0,0),Qn.clearRect(0,0,xn.width,xn.height),gn(this,hn,Hs).call(this);for(const vr of this.bezierPath2D)Qn.stroke(vr)},Kt=new WeakSet,Kl=function(xn){this.canvas.removeEventListener("pointerleave",_t(this,ft)),this.canvas.removeEventListener("pointermove",_t(this,mt)),this.canvas.removeEventListener("pointerup",_t(this,gt)),this.canvas.addEventListener("pointerdown",_t(this,vt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",it.noContextMenu)},10),gn(this,Lt,Mu).call(this,xn.offsetX,xn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},rn=new WeakSet,Bs=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",nt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(xn=>{var Qn;return(Qn=this.canvas)==null?void 0:Qn.setAttribute("aria-label",xn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},En=new WeakSet,zs=function(){Pn(this,xt,new ResizeObserver(xn=>{const Qn=xn[0].contentRect;Qn.width&&Qn.height&&this.setDimensions(Qn.width,Qn.height)})),_t(this,xt).observe(this.div)},In=new WeakSet,ms=function(){if(!_t(this,ct))return;const[xn,Qn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*xn),this.canvas.height=Math.ceil(this.height*Qn),gn(this,hn,Hs).call(this)},qn=new WeakSet,Gl=function(xn,Qn){const vr=gn(this,On,Us).call(this),Zn=(xn-vr)/_t(this,at),fr=(Qn-vr)/_t(this,lt);this.scaleFactor=Math.min(Zn,fr)},hn=new WeakSet,Hs=function(){const xn=gn(this,On,Us).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+xn,this.translationY*this.scaleFactor+xn)},jn=new WeakSet,Du=function(xn){const Qn=new Path2D;for(let vr=0,Zn=xn.length;vr<Zn;vr++){const[fr,gr,zr,Vn]=xn[vr];vr===0&&Qn.moveTo(...fr),Qn.bezierCurveTo(gr[0],gr[1],zr[0],zr[1],Vn[0],Vn[1])}return Qn},Xn=new WeakSet,Xl=function(xn,Qn,vr){const[Zn,fr,gr,zr]=Qn;switch(vr){case 0:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2)xn[Vn]+=Zn,xn[Vn+1]=zr-xn[Vn+1];break;case 90:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2){const hr=xn[Vn];xn[Vn]=xn[Vn+1]+Zn,xn[Vn+1]=hr+fr}break;case 180:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2)xn[Vn]=gr-xn[Vn],xn[Vn+1]+=fr;break;case 270:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2){const hr=xn[Vn];xn[Vn]=gr-xn[Vn+1],xn[Vn+1]=zr-hr}break;default:throw new Error("Invalid rotation")}return xn},Sr=new WeakSet,Lu=function(xn,Qn,vr){const[Zn,fr,gr,zr]=Qn;switch(vr){case 0:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2)xn[Vn]-=Zn,xn[Vn+1]=zr-xn[Vn+1];break;case 90:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2){const hr=xn[Vn];xn[Vn]=xn[Vn+1]-fr,xn[Vn+1]=hr-Zn}break;case 180:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2)xn[Vn]=gr-xn[Vn],xn[Vn+1]-=fr;break;case 270:for(let Vn=0,Hr=xn.length;Vn<Hr;Vn+=2){const hr=xn[Vn];xn[Vn]=zr-xn[Vn+1],xn[Vn+1]=gr-hr}break;default:throw new Error("Invalid rotation")}return xn},kr=new WeakSet,Fu=function(xn,Qn,vr,Zn){var Hr,hr;const fr=[],gr=this.thickness/2,zr=xn*Qn+gr,Vn=xn*vr+gr;for(const Qt of this.paths){const At=[],Ft=[];for(let Yt=0,cn=Qt.length;Yt<cn;Yt++){const[vn,$n,zn,nr]=Qt[Yt],er=xn*vn[0]+zr,Ar=xn*vn[1]+Vn,ar=xn*$n[0]+zr,lr=xn*$n[1]+Vn,Er=xn*zn[0]+zr,Ir=xn*zn[1]+Vn,Kr=xn*nr[0]+zr,Jr=xn*nr[1]+Vn;Yt===0&&(At.push(er,Ar),Ft.push(er,Ar)),At.push(ar,lr,Er,Ir,Kr,Jr),Ft.push(ar,lr),Yt===cn-1&&Ft.push(Kr,Jr)}fr.push({bezier:gn(Hr=Ln,Xn,Xl).call(Hr,At,Zn,this.rotation),points:gn(hr=Ln,Xn,Xl).call(hr,Ft,Zn,this.rotation)})}return fr},xr=new WeakSet,Yl=function(){let xn=1/0,Qn=-1/0,vr=1/0,Zn=-1/0;for(const fr of this.paths)for(const[gr,zr,Vn,Hr]of fr){const hr=tt.Util.bezierBoundingBox(...gr,...zr,...Vn,...Hr);xn=Math.min(xn,hr[0]),vr=Math.min(vr,hr[1]),Qn=Math.max(Qn,hr[2]),Zn=Math.max(Zn,hr[3])}return[xn,vr,Qn,Zn]},On=new WeakSet,Us=function(){return _t(this,pt)?Math.ceil(this.thickness*this.parentScale):0},an=new WeakSet,gs=function(xn=!1){if(this.isEmpty())return;if(!_t(this,pt)){gn(this,Wt,Qo).call(this);return}const Qn=gn(this,xr,Yl).call(this),vr=gn(this,On,Us).call(this);Pn(this,at,Math.max(nt.AnnotationEditor.MIN_SIZE,Qn[2]-Qn[0])),Pn(this,lt,Math.max(nt.AnnotationEditor.MIN_SIZE,Qn[3]-Qn[1]));const Zn=Math.ceil(vr+_t(this,at)*this.scaleFactor),fr=Math.ceil(vr+_t(this,lt)*this.scaleFactor),[gr,zr]=this.parentDimensions;this.width=Zn/gr,this.height=fr/zr,this.setAspectRatio(Zn,fr);const Vn=this.translationX,Hr=this.translationY;this.translationX=-Qn[0],this.translationY=-Qn[1],gn(this,In,ms).call(this),gn(this,Wt,Qo).call(this),Pn(this,yt,Zn),Pn(this,ht,fr),this.setDims(Zn,fr);const hr=xn?vr/this.scaleFactor/2:0;this.translate(Vn-this.translationX-hr,Hr-this.translationY-hr)},en(Ln,jn),en(Ln,Xn),en(Ln,Sr),Eo(Ln,"_defaultColor",null),Eo(Ln,"_defaultOpacity",1),Eo(Ln,"_defaultThickness",1),Eo(Ln,"_type","ink");let st=Ln;_e.InkEditor=st},($,_e,et)=>{var st,lt,at,mt,ft,gt,vt,dt,pt,ut,ct,ks,yt,Rs,bt,Vs,Pt,Ql,kt,Bu,Dt,zu,Nt,Zl,qt,Ws,Bt,Hu;Object.defineProperty(_e,"__esModule",{value:!0}),_e.StampEditor=void 0;var tt=et(1),nt=et(4),rt=et(6),it=et(29);const tn=class tn extends nt.AnnotationEditor{constructor(Lt){super({...Lt,name:"stampEditor"});en(this,ct);en(this,yt);en(this,bt);en(this,Pt);en(this,kt);en(this,Dt);en(this,Nt);en(this,qt);en(this,Bt);en(this,st,null);en(this,lt,null);en(this,at,null);en(this,mt,null);en(this,ft,null);en(this,gt,null);en(this,vt,null);en(this,dt,null);en(this,pt,!1);en(this,ut,!1);Pn(this,mt,Lt.bitmapUrl),Pn(this,ft,Lt.bitmapFile)}static initialize(Lt){nt.AnnotationEditor.initialize(Lt)}static get supportedTypes(){const Lt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,tt.shadow)(this,"supportedTypes",Lt.map(Et=>`image/${Et}`))}static get supportedTypesStr(){return(0,tt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Lt){return this.supportedTypes.includes(Lt)}static paste(Lt,Et){Et.pasteEditor(tt.AnnotationEditorType.STAMP,{bitmapFile:Lt.getAsFile()})}remove(){var Lt,Et;_t(this,lt)&&(Pn(this,st,null),this._uiManager.imageManager.deleteId(_t(this,lt)),(Lt=_t(this,gt))==null||Lt.remove(),Pn(this,gt,null),(Et=_t(this,vt))==null||Et.disconnect(),Pn(this,vt,null)),super.remove()}rebuild(){if(!this.parent){_t(this,lt)&&gn(this,bt,Vs).call(this);return}super.rebuild(),this.div!==null&&(_t(this,lt)&&gn(this,bt,Vs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,at)||_t(this,st)||_t(this,mt)||_t(this,ft))}get isResizable(){return!0}render(){if(this.div)return this.div;let Lt,Et;if(this.width&&(Lt=this.x,Et=this.y),super.render(),this.div.hidden=!0,_t(this,st)?gn(this,Pt,Ql).call(this):gn(this,bt,Vs).call(this),this.width){const[Ct,St]=this.parentDimensions;this.setAt(Lt*Ct,Et*St,this.width*Ct,this.height*St)}return this.div}static deserialize(Lt,Et,Ct){if(Lt instanceof it.StampAnnotationElement)return null;const St=super.deserialize(Lt,Et,Ct),{rect:Rt,bitmapUrl:jt,bitmapId:It,isSvg:zt,accessibilityData:Wt}=Lt;It&&Ct.imageManager.isValidId(It)?Pn(St,lt,It):Pn(St,mt,jt),Pn(St,pt,zt);const[Zt,Kt]=St.pageDimensions;return St.width=(Rt[2]-Rt[0])/Zt,St.height=(Rt[3]-Rt[1])/Kt,Wt&&(St.altTextData=Wt),St}serialize(Lt=!1,Et=null){if(this.isEmpty())return null;const Ct={annotationType:tt.AnnotationEditorType.STAMP,bitmapId:_t(this,lt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,pt),structTreeParentId:this._structTreeParentId};if(Lt)return Ct.bitmapUrl=gn(this,qt,Ws).call(this,!0),Ct.accessibilityData=this.altTextData,Ct;const{decorative:St,altText:Rt}=this.altTextData;if(!St&&Rt&&(Ct.accessibilityData={type:"Figure",alt:Rt}),Et===null)return Ct;Et.stamps||(Et.stamps=new Map);const jt=_t(this,pt)?(Ct.rect[2]-Ct.rect[0])*(Ct.rect[3]-Ct.rect[1]):null;if(!Et.stamps.has(_t(this,lt)))Et.stamps.set(_t(this,lt),{area:jt,serialized:Ct}),Ct.bitmap=gn(this,qt,Ws).call(this,!1);else if(_t(this,pt)){const It=Et.stamps.get(_t(this,lt));jt>It.area&&(It.area=jt,It.serialized.bitmap.close(),It.serialized.bitmap=gn(this,qt,Ws).call(this,!1))}return Ct}};st=new WeakMap,lt=new WeakMap,at=new WeakMap,mt=new WeakMap,ft=new WeakMap,gt=new WeakMap,vt=new WeakMap,dt=new WeakMap,pt=new WeakMap,ut=new WeakMap,ct=new WeakSet,ks=function(Lt,Et=!1){if(!Lt){this.remove();return}Pn(this,st,Lt.bitmap),Et||(Pn(this,lt,Lt.id),Pn(this,pt,Lt.isSvg)),gn(this,Pt,Ql).call(this)},yt=new WeakSet,Rs=function(){Pn(this,at,null),this._uiManager.enableWaiting(!1),_t(this,gt)&&this.div.focus()},bt=new WeakSet,Vs=function(){if(_t(this,lt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,lt)).then(Et=>gn(this,ct,ks).call(this,Et,!0)).finally(()=>gn(this,yt,Rs).call(this));return}if(_t(this,mt)){const Et=_t(this,mt);Pn(this,mt,null),this._uiManager.enableWaiting(!0),Pn(this,at,this._uiManager.imageManager.getFromUrl(Et).then(Ct=>gn(this,ct,ks).call(this,Ct)).finally(()=>gn(this,yt,Rs).call(this)));return}if(_t(this,ft)){const Et=_t(this,ft);Pn(this,ft,null),this._uiManager.enableWaiting(!0),Pn(this,at,this._uiManager.imageManager.getFromFile(Et).then(Ct=>gn(this,ct,ks).call(this,Ct)).finally(()=>gn(this,yt,Rs).call(this)));return}const Lt=document.createElement("input");Lt.type="file",Lt.accept=tn.supportedTypesStr,Pn(this,at,new Promise(Et=>{Lt.addEventListener("change",async()=>{if(!Lt.files||Lt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ct=await this._uiManager.imageManager.getFromFile(Lt.files[0]);gn(this,ct,ks).call(this,Ct)}Et()}),Lt.addEventListener("cancel",()=>{this.remove(),Et()})}).finally(()=>gn(this,yt,Rs).call(this))),Lt.click()},Pt=new WeakSet,Ql=function(){const{div:Lt}=this;let{width:Et,height:Ct}=_t(this,st);const[St,Rt]=this.pageDimensions,jt=.75;if(this.width)Et=this.width*St,Ct=this.height*Rt;else if(Et>jt*St||Ct>jt*Rt){const Zt=Math.min(jt*St/Et,jt*Rt/Ct);Et*=Zt,Ct*=Zt}const[It,zt]=this.parentDimensions;this.setDims(Et*It/St,Ct*zt/Rt),this._uiManager.enableWaiting(!1);const Wt=Pn(this,gt,document.createElement("canvas"));Lt.append(Wt),Lt.hidden=!1,gn(this,Nt,Zl).call(this,Et,Ct),gn(this,Bt,Hu).call(this),_t(this,ut)||(this.parent.addUndoableEditor(this),Pn(this,ut,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},kt=new WeakSet,Bu=function(Lt,Et){var jt;const[Ct,St]=this.parentDimensions;this.width=Lt/Ct,this.height=Et/St,this.setDims(Lt,Et),(jt=this._initialOptions)!=null&&jt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,dt)!==null&&clearTimeout(_t(this,dt)),Pn(this,dt,setTimeout(()=>{Pn(this,dt,null),gn(this,Nt,Zl).call(this,Lt,Et)},200))},Dt=new WeakSet,zu=function(Lt,Et){const{width:Ct,height:St}=_t(this,st);let Rt=Ct,jt=St,It=_t(this,st);for(;Rt>2*Lt||jt>2*Et;){const zt=Rt,Wt=jt;Rt>2*Lt&&(Rt=Rt>=16384?Math.floor(Rt/2)-1:Math.ceil(Rt/2)),jt>2*Et&&(jt=jt>=16384?Math.floor(jt/2)-1:Math.ceil(jt/2));const Zt=new OffscreenCanvas(Rt,jt);Zt.getContext("2d").drawImage(It,0,0,zt,Wt,0,0,Rt,jt),It=Zt.transferToImageBitmap()}return It},Nt=new WeakSet,Zl=function(Lt,Et){Lt=Math.ceil(Lt),Et=Math.ceil(Et);const Ct=_t(this,gt);if(!Ct||Ct.width===Lt&&Ct.height===Et)return;Ct.width=Lt,Ct.height=Et;const St=_t(this,pt)?_t(this,st):gn(this,Dt,zu).call(this,Lt,Et),Rt=Ct.getContext("2d");Rt.filter=this._uiManager.hcmFilter,Rt.drawImage(St,0,0,St.width,St.height,0,0,Lt,Et)},qt=new WeakSet,Ws=function(Lt){if(Lt){if(_t(this,pt)){const St=this._uiManager.imageManager.getSvgUrl(_t(this,lt));if(St)return St}const Et=document.createElement("canvas");return{width:Et.width,height:Et.height}=_t(this,st),Et.getContext("2d").drawImage(_t(this,st),0,0),Et.toDataURL()}if(_t(this,pt)){const[Et,Ct]=this.pageDimensions,St=Math.round(this.width*Et*rt.PixelsPerInch.PDF_TO_CSS_UNITS),Rt=Math.round(this.height*Ct*rt.PixelsPerInch.PDF_TO_CSS_UNITS),jt=new OffscreenCanvas(St,Rt);return jt.getContext("2d").drawImage(_t(this,st),0,0,_t(this,st).width,_t(this,st).height,0,0,St,Rt),jt.transferToImageBitmap()}return structuredClone(_t(this,st))},Bt=new WeakSet,Hu=function(){Pn(this,vt,new ResizeObserver(Lt=>{const Et=Lt[0].contentRect;Et.width&&Et.height&&gn(this,kt,Bu).call(this,Et.width,Et.height)})),_t(this,vt).observe(this.div)},Eo(tn,"_type","stamp");let ot=tn;_e.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__($){var _e=__webpack_module_cache__[$];if(_e!==void 0)return _e.exports;var et=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](et,et.exports,__w_pdfjs_require__),et.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AbortException",{enumerable:!0,get:function(){return _e.AbortException}}),Object.defineProperty($,"AnnotationEditorLayer",{enumerable:!0,get:function(){return rt.AnnotationEditorLayer}}),Object.defineProperty($,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return _e.AnnotationEditorParamsType}}),Object.defineProperty($,"AnnotationEditorType",{enumerable:!0,get:function(){return _e.AnnotationEditorType}}),Object.defineProperty($,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return it.AnnotationEditorUIManager}}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return ot.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return _e.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return _e.CMapCompressionType}}),Object.defineProperty($,"DOMSVGFactory",{enumerable:!0,get:function(){return tt.DOMSVGFactory}}),Object.defineProperty($,"FeatureTest",{enumerable:!0,get:function(){return _e.FeatureTest}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty($,"ImageKind",{enumerable:!0,get:function(){return _e.ImageKind}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return _e.InvalidPDFException}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return _e.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return _e.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return et.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return tt.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return et.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return _e.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return _e.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return tt.PixelsPerInch}}),Object.defineProperty($,"PromiseCapability",{enumerable:!0,get:function(){return _e.PromiseCapability}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return tt.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return et.SVGGraphics}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return _e.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return _e.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return _e.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return lt.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return et.build}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return _e.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return et.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return tt.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tt.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return tt.getXfaPageViewport}}),Object.defineProperty($,"isDataScheme",{enumerable:!0,get:function(){return tt.isDataScheme}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return tt.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return tt.loadScript}}),Object.defineProperty($,"noContextMenu",{enumerable:!0,get:function(){return tt.noContextMenu}}),Object.defineProperty($,"normalizeUnicode",{enumerable:!0,get:function(){return _e.normalizeUnicode}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty($,"setLayerDimensions",{enumerable:!0,get:function(){return tt.setLayerDimensions}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return _e.shadow}}),Object.defineProperty($,"updateTextLayer",{enumerable:!0,get:function(){return nt.updateTextLayer}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return et.version}});var _e=__w_pdfjs_require__(1),et=__w_pdfjs_require__(2),tt=__w_pdfjs_require__(6),nt=__w_pdfjs_require__(26),rt=__w_pdfjs_require__(27),it=__w_pdfjs_require__(5),ot=__w_pdfjs_require__(29),st=__w_pdfjs_require__(14),lt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function($){var _e=reactExports,et=pdfExports;function tt($t){var Ot=Object.create(null);return $t&&Object.keys($t).forEach(function(Jt){if(Jt!=="default"){var on=Object.getOwnPropertyDescriptor($t,Jt);Object.defineProperty(Ot,Jt,on.get?on:{enumerable:!0,get:function(){return $t[Jt]}})}}),Ot.default=$t,Object.freeze(Ot)}var nt,rt=tt(_e),it=tt(et);$.AnnotationType=void 0,(nt=$.AnnotationType||($.AnnotationType={}))[nt.Text=1]="Text",nt[nt.Link=2]="Link",nt[nt.FreeText=3]="FreeText",nt[nt.Line=4]="Line",nt[nt.Square=5]="Square",nt[nt.Circle=6]="Circle",nt[nt.Polygon=7]="Polygon",nt[nt.Polyline=8]="Polyline",nt[nt.Highlight=9]="Highlight",nt[nt.Underline=10]="Underline",nt[nt.Squiggly=11]="Squiggly",nt[nt.StrikeOut=12]="StrikeOut",nt[nt.Stamp=13]="Stamp",nt[nt.Caret=14]="Caret",nt[nt.Ink=15]="Ink",nt[nt.Popup=16]="Popup",nt[nt.FileAttachment=17]="FileAttachment";var ot=function($t,Ot){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Jt,on){Jt.__proto__=on}||function(Jt,on){for(var dn in on)Object.prototype.hasOwnProperty.call(on,dn)&&(Jt[dn]=on[dn])},ot($t,Ot)};function st($t,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Jt(){this.constructor=$t}ot($t,Ot),$t.prototype=Ot===null?Object.create(Ot):(Jt.prototype=Ot.prototype,new Jt)}var lt,at=function(){return at=Object.assign||function($t){for(var Ot,Jt=1,on=arguments.length;Jt<on;Jt++)for(var dn in Ot=arguments[Jt])Object.prototype.hasOwnProperty.call(Ot,dn)&&($t[dn]=Ot[dn]);return $t},at.apply(this,arguments)};$.TextDirection=void 0,(lt=$.TextDirection||($.TextDirection={})).RightToLeft="RTL",lt.LeftToRight="LTR";var mt,ft=rt.createContext({currentTheme:"light",direction:$.TextDirection.LeftToRight,setCurrentTheme:function(){}}),gt=function($t){var Ot=[];return Object.keys($t).forEach(function(Jt){Jt&&$t[Jt]&&Ot.push(Jt)}),Ot.join(" ")},vt=typeof window<"u"?rt.useLayoutEffect:rt.useEffect,dt=function($t){var Ot=rt.useRef(null),Jt=$t.once,on=$t.threshold,dn=$t.onVisibilityChanged;return vt(function(){var fn=Ot.current;if(fn){var Rn=new IntersectionObserver(function(yn){yn.forEach(function(sn){var Cn=sn.isIntersecting,Sn=sn.intersectionRatio;dn({isVisible:Cn,ratio:Sn}),Cn&&Jt&&(Rn.unobserve(fn),Rn.disconnect())})},{threshold:on||0});return Rn.observe(fn),function(){Rn.unobserve(fn),Rn.disconnect()}}},[]),Ot},pt=function($t){var Ot=$t.children,Jt=$t.ignoreDirection,on=Jt!==void 0&&Jt,dn=$t.size,fn=dn===void 0?24:dn,Rn=rt.useContext(ft).direction,yn=!on&&Rn===$.TextDirection.RightToLeft,sn="".concat(fn||24,"px");return rt.createElement("svg",{"aria-hidden":"true",className:gt({"rpv-core__icon":!0,"rpv-core__icon--rtl":yn}),focusable:"false",height:sn,viewBox:"0 0 24 24",width:sn},Ot)},ut=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ct=function($t){var Ot=$t.children,Jt=$t.testId,on=$t.onClick,dn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,fn=Jt?{"data-testid":Jt}:{};return rt.createElement("button",at({className:gt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":dn}),type:"button",onClick:on},fn),Ot)},xt=function($t){var Ot=$t.size,Jt=Ot===void 0?"4rem":Ot,on=$t.testId,dn=rt.useState(!1),fn=dn[0],Rn=dn[1],yn=on?{"data-testid":on}:{},sn=dt({onVisibilityChanged:function(Cn){Rn(Cn.isVisible)}});return rt.createElement("div",at({},yn,{className:gt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":fn}),ref:sn,style:{height:Jt,width:Jt}}))},yt=function($t){var Ot=$t.ariaLabel,Jt=Ot===void 0?"":Ot,on=$t.autoFocus,dn=on!==void 0&&on,fn=$t.placeholder,Rn=fn===void 0?"":fn,yn=$t.testId,sn=$t.type,Cn=sn===void 0?"text":sn,Sn=$t.value,Kn=Sn===void 0?"":Sn,Wn=$t.onChange,Hn=$t.onKeyDown,sr=Hn===void 0?function(){}:Hn,rr=rt.useContext(ft).direction,tr=rt.useRef(),Zr=rr===$.TextDirection.RightToLeft,jr={ref:tr,"data-testid":"","aria-label":Jt,className:gt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Zr}),placeholder:Rn,value:Kn,onChange:function(Mr){return Wn(Mr.target.value)},onKeyDown:sr};return yn&&(jr["data-testid"]=yn),vt(function(){if(dn){var Mr=tr.current;if(Mr){var Br=window.scrollX,_r=window.scrollY;Mr.focus(),window.scrollTo(Br,_r)}}},[]),Cn==="text"?rt.createElement("input",at({type:"text"},jr)):rt.createElement("input",at({type:"password"},jr))};(function($t){$t[$t.ExitFullScreen=0]="ExitFullScreen",$t[$t.FullScreenChange=1]="FullScreenChange",$t[$t.FullScreenElement=2]="FullScreenElement",$t[$t.FullScreenEnabled=3]="FullScreenEnabled",$t[$t.RequestFullScreen=4]="RequestFullScreen"})(mt||(mt={}));var ht,bt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Tt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Pt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},wt=typeof window<"u",kt=wt&&(mt.FullScreenEnabled in document&&bt||Tt.FullScreenEnabled in document&&Tt||Pt.FullScreenEnabled in document&&Pt)||bt,Mt=function(){return wt&&kt.FullScreenEnabled in document&&document[kt.FullScreenEnabled]===!0},Dt=function($t){return wt?$t[kt.ExitFullScreen]():Promise.resolve({})},Ht=function(){return wt?document[kt.FullScreenElement]:null},Nt=function($t,Ot){var Jt=rt.useRef(),on=function(){Jt.current&&clearTimeout(Jt.current)};return rt.useEffect(function(){return function(){return on()}},[]),rt.useCallback(function(){for(var dn=[],fn=0;fn<arguments.length;fn++)dn[fn]=arguments[fn];on(),Jt.current=setTimeout(function(){$t.apply(void 0,dn)},Ot)},[$t,Ot])},Vt=function(){var $t=rt.useRef(!1);return rt.useEffect(function(){return $t.current=!0,function(){$t.current=!1}},[]),$t},qt=function($t){var Ot=rt.useRef($t);return rt.useEffect(function(){Ot.current=$t},[$t]),Ot.current};(function($t){$t.NotRenderedYet="NotRenderedYet",$t.Rendering="Rendering",$t.Rendered="Rendered"})(ht||(ht={}));var un,Bt=-9999,nn=function($t){var Ot=$t.doc,Jt=Ot.numPages,on=Ot.loadingTask.docId,dn=rt.useMemo(function(){return Array(Jt).fill(null).map(function(yn,sn){return{pageIndex:sn,renderStatus:ht.NotRenderedYet,visibility:Bt}})},[on]),fn=rt.useRef({currentRenderingPage:-1,startRange:0,endRange:Jt-1,visibilities:dn}),Rn=function(yn,sn){fn.current.visibilities[yn].visibility=sn};return{getHighestPriorityPage:function(){var yn=fn.current.visibilities.slice(fn.current.startRange,fn.current.endRange+1).filter(function(Wn){return Wn.visibility>Bt});if(!yn.length)return-1;for(var sn=yn[0].pageIndex,Cn=yn[yn.length-1].pageIndex,Sn=yn.length,Kn=0;Kn<Sn;Kn++){if(yn[Kn].renderStatus===ht.Rendering)return-1;if(yn[Kn].renderStatus===ht.NotRenderedYet)return yn[Kn].pageIndex}return Cn+1<Jt&&fn.current.visibilities[Cn+1].renderStatus!==ht.Rendered?Cn+1:sn-1>=0&&fn.current.visibilities[sn-1].renderStatus!==ht.Rendered?sn-1:-1},isInRange:function(yn){return yn>=fn.current.startRange&&yn<=fn.current.endRange},markNotRendered:function(){for(var yn=0;yn<Jt;yn++)fn.current.visibilities[yn].renderStatus=ht.NotRenderedYet},markRendered:function(yn){fn.current.visibilities[yn].renderStatus=ht.Rendered},markRendering:function(yn){fn.current.currentRenderingPage!==-1&&fn.current.currentRenderingPage!==yn&&fn.current.visibilities[fn.current.currentRenderingPage].renderStatus===ht.Rendering&&(fn.current.visibilities[fn.current.currentRenderingPage].renderStatus=ht.NotRenderedYet),fn.current.visibilities[yn].renderStatus=ht.Rendering,fn.current.currentRenderingPage=yn},setOutOfRange:function(yn){Rn(yn,Bt)},setRange:function(yn,sn){fn.current.startRange=yn,fn.current.endRange=sn;for(var Cn=0;Cn<Jt;Cn++)(Cn<yn||Cn>sn)&&(fn.current.visibilities[Cn].visibility=Bt,fn.current.visibilities[Cn].renderStatus=ht.NotRenderedYet)},setVisibility:Rn}},tn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},_n=rt.createContext({l10n:tn,setL10n:function(){}}),Nn=0,Lt=function(){return Nn++},Et=function($t,Ot,Jt){var on=function(dn){var fn=Ot.current;if(fn){var Rn=dn.target;if(Rn instanceof Element&&Rn.shadowRoot){var yn=dn.composedPath();yn.length>0&&!fn.contains(yn[0])&&Jt()}else fn.contains(Rn)||Jt()}};rt.useEffect(function(){if($t){var dn={capture:!0};return document.addEventListener("click",on,dn),function(){document.removeEventListener("click",on,dn)}}},[])},Ct=function($t){var Ot=function(Jt){Jt.key==="Escape"&&$t()};rt.useEffect(function(){return document.addEventListener("keyup",Ot),function(){document.removeEventListener("keyup",Ot)}},[])},St=function($t){var Ot=$t.ariaControlsSuffix,Jt=$t.children,on=$t.closeOnClickOutside,dn=$t.closeOnEscape,fn=$t.onToggle,Rn=rt.useRef(),yn=rt.useContext(ft).direction===$.TextDirection.RightToLeft;return rt.useEffect(function(){var sn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=sn}},[]),Ct(function(){Rn.current&&dn&&fn()}),Et(on,Rn,fn),vt(function(){var sn=Rn.current;if(sn){var Cn=.75*document.body.clientHeight;sn.getBoundingClientRect().height>=Cn&&(sn.style.overflow="auto",sn.style.maxHeight="".concat(Cn,"px"))}},[]),rt.createElement("div",{"aria-modal":"true",className:gt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":yn}),id:"rpv-core__modal-body-".concat(Ot),ref:Rn,role:"dialog",tabIndex:-1},Jt)},Rt=function($t){var Ot=$t.children;return rt.createElement("div",{className:"rpv-core__modal-overlay"},Ot)};$.ToggleStatus=void 0,(un=$.ToggleStatus||($.ToggleStatus={})).Close="Close",un.Open="Open",un.Toggle="Toggle";var jt,It=function($t){var Ot=rt.useState($t),Jt=Ot[0],on=Ot[1];return{opened:Jt,toggle:function(dn){switch(dn){case $.ToggleStatus.Close:on(!1);break;case $.ToggleStatus.Open:on(!0);break;case $.ToggleStatus.Toggle:default:on(function(fn){return!fn})}}}},zt=function($t){var Ot=$t.content,Jt=$t.isOpened,on=Jt!==void 0&&Jt,dn=$t.target,fn=It(on),Rn=fn.opened,yn=fn.toggle;return rt.createElement(rt.Fragment,null,dn&&dn(yn,Rn),Rn&&Ot(yn))};$.Position=void 0,(jt=$.Position||($.Position={})).TopLeft="TOP_LEFT",jt.TopCenter="TOP_CENTER",jt.TopRight="TOP_RIGHT",jt.RightTop="RIGHT_TOP",jt.RightCenter="RIGHT_CENTER",jt.RightBottom="RIGHT_BOTTOM",jt.BottomLeft="BOTTOM_LEFT",jt.BottomCenter="BOTTOM_CENTER",jt.BottomRight="BOTTOM_RIGHT",jt.LeftTop="LEFT_TOP",jt.LeftCenter="LEFT_CENTER",jt.LeftBottom="LEFT_BOTTOM";var Wt,Zt,Kt,Xt,rn,bn,En,Tn,In=function($t,Ot,Jt,on,dn){vt(function(){var fn=Ot.current,Rn=$t.current,yn=Jt.current;if(Rn&&fn&&yn){var sn=yn.getBoundingClientRect(),Cn=function(Wn,Hn,sr,rr){var tr=Hn.getBoundingClientRect(),Zr=Wn.getBoundingClientRect(),jr=Zr.height,Mr=Zr.width,Br=0,_r=0;switch(sr){case $.Position.TopLeft:Br=tr.top-jr,_r=tr.left;break;case $.Position.TopCenter:Br=tr.top-jr,_r=tr.left+tr.width/2-Mr/2;break;case $.Position.TopRight:Br=tr.top-jr,_r=tr.left+tr.width-Mr;break;case $.Position.RightTop:Br=tr.top,_r=tr.left+tr.width;break;case $.Position.RightCenter:Br=tr.top+tr.height/2-jr/2,_r=tr.left+tr.width;break;case $.Position.RightBottom:Br=tr.top+tr.height-jr,_r=tr.left+tr.width;break;case $.Position.BottomLeft:Br=tr.top+tr.height,_r=tr.left;break;case $.Position.BottomCenter:Br=tr.top+tr.height,_r=tr.left+tr.width/2-Mr/2;break;case $.Position.BottomRight:Br=tr.top+tr.height,_r=tr.left+tr.width-Mr;break;case $.Position.LeftTop:Br=tr.top,_r=tr.left-Mr;break;case $.Position.LeftCenter:Br=tr.top+tr.height/2-jr/2,_r=tr.left-Mr;break;case $.Position.LeftBottom:Br=tr.top+tr.height-jr,_r=tr.left-Mr}return{left:_r+(rr.left||0),top:Br+(rr.top||0)}}(Rn,fn,on,dn),Sn=Cn.top,Kn=Cn.left;Rn.style.top="".concat(Sn-sn.top,"px"),Rn.style.left="".concat(Kn-sn.left,"px")}},[])},Fn=function($t){var Ot,Jt=$t.customClassName,on=$t.position;return rt.createElement("div",{className:gt((Ot={"rpv-core__arrow":!0,"rpv-core__arrow--tl":on===$.Position.TopLeft,"rpv-core__arrow--tc":on===$.Position.TopCenter,"rpv-core__arrow--tr":on===$.Position.TopRight,"rpv-core__arrow--rt":on===$.Position.RightTop,"rpv-core__arrow--rc":on===$.Position.RightCenter,"rpv-core__arrow--rb":on===$.Position.RightBottom,"rpv-core__arrow--bl":on===$.Position.BottomLeft,"rpv-core__arrow--bc":on===$.Position.BottomCenter,"rpv-core__arrow--br":on===$.Position.BottomRight,"rpv-core__arrow--lt":on===$.Position.LeftTop,"rpv-core__arrow--lc":on===$.Position.LeftCenter,"rpv-core__arrow--lb":on===$.Position.LeftBottom},Ot["".concat(Jt)]=Jt!=="",Ot))})},qn=function($t){var Ot=$t.ariaControlsSuffix,Jt=$t.children,on=$t.closeOnClickOutside,dn=$t.offset,fn=$t.position,Rn=$t.targetRef,yn=$t.onClose,sn=rt.useRef(),Cn=rt.useRef(),Sn=rt.useRef(),Kn=rt.useContext(ft).direction===$.TextDirection.RightToLeft;Et(on,sn,yn),In(sn,Rn,Sn,fn,dn),vt(function(){var Hn=Cn.current;if(Hn){var sr=.75*document.body.clientHeight;Hn.getBoundingClientRect().height>=sr&&(Hn.style.overflow="auto",Hn.style.maxHeight="".concat(sr,"px"))}},[]);var Wn="rpv-core__popover-body-inner-".concat(Ot);return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Sn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{"aria-describedby":Wn,className:gt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Kn}),id:"rpv-core__popover-body-".concat(Ot),ref:sn,role:"dialog",tabIndex:-1},rt.createElement(Fn,{customClassName:"rpv-core__popover-body-arrow",position:fn}),rt.createElement("div",{id:Wn,ref:Cn},Jt)))},An=function($t){var Ot=$t.closeOnEscape,Jt=$t.onClose,on=rt.useRef();return Ct(function(){on.current&&Ot&&Jt()}),rt.createElement("div",{className:"rpv-core__popover-overlay",ref:on})},hn=function($t){var Ot=$t.ariaControlsSuffix,Jt=$t.children,on=$t.contentRef,dn=$t.offset,fn=$t.position,Rn=$t.targetRef,yn=rt.useRef(),sn=rt.useContext(ft).direction===$.TextDirection.RightToLeft;return In(on,Rn,yn,fn,dn),rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:yn,style:{left:0,position:"absolute",top:0}}),rt.createElement("div",{className:gt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":sn}),id:"rpv-core__tooltip-body-".concat(Ot),ref:on,role:"tooltip"},rt.createElement(Fn,{customClassName:"rpv-core__tooltip-body-arrow",position:fn}),rt.createElement("div",{className:"rpv-core__tooltip-body-content"},Jt)))};$.FullScreenMode=void 0,(Wt=$.FullScreenMode||($.FullScreenMode={})).Normal="Normal",Wt.Entering="Entering",Wt.Entered="Entered",Wt.EnteredCompletely="EnteredCompletely",Wt.Exitting="Exitting",Wt.Exited="Exited",$.LayerRenderStatus=void 0,(Zt=$.LayerRenderStatus||($.LayerRenderStatus={}))[Zt.PreRender=0]="PreRender",Zt[Zt.DidRender=1]="DidRender",$.PageMode=void 0,(Kt=$.PageMode||($.PageMode={})).Attachments="UseAttachments",Kt.Bookmarks="UseOutlines",Kt.ContentGroup="UseOC",Kt.Default="UserNone",Kt.FullScreen="FullScreen",Kt.Thumbnails="UseThumbs",$.PasswordStatus=void 0,(Xt=$.PasswordStatus||($.PasswordStatus={})).RequiredPassword="RequiredPassword",Xt.WrongPassword="WrongPassword",$.RotateDirection=void 0,(rn=$.RotateDirection||($.RotateDirection={})).Backward="Backward",rn.Forward="Forward",$.ScrollMode=void 0,(bn=$.ScrollMode||($.ScrollMode={})).Page="Page",bn.Horizontal="Horizontal",bn.Vertical="Vertical",bn.Wrapped="Wrapped",$.SpecialZoomLevel=void 0,(En=$.SpecialZoomLevel||($.SpecialZoomLevel={})).ActualSize="ActualSize",En.PageFit="PageFit",En.PageWidth="PageWidth",$.ViewMode=void 0,(Tn=$.ViewMode||($.ViewMode={})).DualPage="DualPage",Tn.DualPageWithCover="DualPageWithCover",Tn.SinglePage="SinglePage";var pn,jn=function($t,Ot){return $t.reduce(function(Jt,on,dn){return dn%Ot?Jt[Jt.length-1].push(on):Jt.push([on]),Jt},[])},Gn=function($t,Ot){switch(Ot[1].name){case"XYZ":return{bottomOffset:function(Jt,on){return Ot[3]===null?on:Ot[3]},leftOffset:function(Jt,on){return Ot[2]===null?0:Ot[2]},pageIndex:$t,scaleTo:Ot[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:$t,scaleTo:$.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Ot[2],leftOffset:0,pageIndex:$t,scaleTo:$.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:$t,scaleTo:1}}},Xn=new Map,mr=new Map,Sr=function($t,Ot){return"".concat($t.loadingTask.docId,"___").concat(Ot.num,"R").concat(Ot.gen===0?"":Ot.gen)},br=function($t,Ot,Jt){Xn.set(Sr($t,Ot),Jt)},kr=function($t,Ot){if(!$t)return Promise.reject("The document is not loaded yet");var Jt="".concat($t.loadingTask.docId,"___").concat(Ot),on=mr.get(Jt);return on?Promise.resolve(on):new Promise(function(dn,fn){$t.getPage(Ot+1).then(function(Rn){mr.set(Jt,Rn),Rn.ref&&br($t,Rn.ref,Ot),dn(Rn)})})},Rr=function($t,Ot){return new Promise(function(Jt){new Promise(function(on){typeof Ot=="string"?$t.getDestination(Ot).then(function(dn){on(dn)}):on(Ot)}).then(function(on){if(typeof on[0]=="object"&&on[0]!==null){var dn=on[0],fn=function(yn,sn){var Cn=Sr(yn,sn);return Xn.has(Cn)?Xn.get(Cn):null}($t,dn);fn===null?$t.getPageIndex(dn).then(function(yn){br($t,dn,yn),Rr($t,Ot).then(function(sn){return Jt(sn)})}):Jt(Gn(fn,on))}else{var Rn=Gn(on[0],on);Jt(Rn)}})})};(function($t){$t[$t.Solid=1]="Solid",$t[$t.Dashed=2]="Dashed",$t[$t.Beveled=3]="Beveled",$t[$t.Inset=4]="Inset",$t[$t.Underline=5]="Underline"})(pn||(pn={}));var xr,Nr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),On=function($t,Ot,Jt,on){var dn=parseInt($t,10);return dn>=Ot&&dn<=Jt?dn:on},mn=function($t){return $t.contentsObj?$t.contentsObj.str:$t.contents||""},an=function($t){return $t.titleObj?$t.titleObj.str:$t.title||""},Un=function($t){var Ot=$t.annotation,Jt=rt.useContext(ft).direction,on=an(Ot),dn=mn(Ot),fn=Jt===$.TextDirection.RightToLeft,Rn=rt.useRef(),yn="";if(Ot.modificationDate){var sn=function(Cn){var Sn=Nr.exec(Cn);if(!Sn)return null;var Kn=parseInt(Sn[1],10),Wn=On(Sn[2],1,12,1)-1,Hn=On(Sn[3],1,31,1),sr=On(Sn[4],0,23,0),rr=On(Sn[5],0,59,0),tr=On(Sn[6],0,59,0),Zr=Sn[7]||"Z",jr=On(Sn[8],0,23,0),Mr=On(Sn[9],0,59,0);switch(Zr){case"-":sr+=jr,rr+=Mr;break;case"+":sr-=jr,rr-=Mr}return new Date(Date.UTC(Kn,Wn,Hn,sr,rr,tr))}(Ot.modificationDate);yn=sn?"".concat(sn.toLocaleDateString(),", ").concat(sn.toLocaleTimeString()):""}return rt.useLayoutEffect(function(){if(Rn.current){var Cn=document.querySelector('[data-annotation-id="'.concat(Ot.id,'"]'));if(Cn){var Sn=Cn;return Sn.style.zIndex+=1,function(){Sn.style.zIndex="".concat(parseInt(Sn.style.zIndex,10)-1)}}}},[]),rt.createElement("div",{ref:Rn,className:gt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":fn}),style:{top:Ot.annotationType===$.AnnotationType.Popup?"":"100%"}},on&&rt.createElement(rt.Fragment,null,rt.createElement("div",{className:gt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!fn,"rpv-core__annotation-popup-title--rtl":fn})},on),rt.createElement("div",{className:"rpv-core__annotation-popup-date"},yn)),dn&&rt.createElement("div",{className:"rpv-core__annotation-popup-content"},dn.split(`
`).map(function(Cn,Sn){return rt.createElement(rt.Fragment,{key:Sn},Cn,rt.createElement("br",null))})))};(function($t){$t.Click="Click",$t.Hover="Hover"})(xr||(xr={}));var Ln,ur=function($t){var Ot,Jt=$t.annotation,on=$t.children,dn=$t.ignoreBorder,fn=$t.hasPopup,Rn=$t.isRenderable,yn=$t.page,sn=$t.viewport,Cn=Jt.rect,Sn=function(){var Dr=It(!1),oo=Dr.opened,io=Dr.toggle,so=rt.useState(xr.Hover),co=so[0],fo=so[1];return{opened:oo,closeOnHover:function(){co===xr.Hover&&io($.ToggleStatus.Close)},openOnHover:function(){co===xr.Hover&&io($.ToggleStatus.Open)},toggleOnClick:function(){switch(co){case xr.Click:oo&&fo(xr.Hover),io($.ToggleStatus.Toggle);break;case xr.Hover:fo(xr.Click),io($.ToggleStatus.Open)}}}}(),Kn=Sn.closeOnHover,Wn=Sn.opened,Hn=Sn.openOnHover,sr=Sn.toggleOnClick,rr=(Ot=[Cn[0],yn.view[3]+yn.view[1]-Cn[1],Cn[2],yn.view[3]+yn.view[1]-Cn[3]],[Math.min(Ot[0],Ot[2]),Math.min(Ot[1],Ot[3]),Math.max(Ot[0],Ot[2]),Math.max(Ot[1],Ot[3])]),tr=Cn[2]-Cn[0],Zr=Cn[3]-Cn[1],jr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!dn&&Jt.borderStyle.width>0){switch(Jt.borderStyle.style){case pn.Dashed:jr.borderStyle="dashed";break;case pn.Solid:jr.borderStyle="solid";break;case pn.Underline:jr=Object.assign({borderBottomStyle:"solid"},jr);case pn.Beveled:case pn.Inset:}var Mr=Jt.borderStyle.width;jr.borderWidth="".concat(Mr,"px"),Jt.borderStyle.style!==pn.Underline&&(tr-=2*Mr,Zr-=2*Mr);var Br=Jt.borderStyle,_r=Br.horizontalCornerRadius,Ur=Br.verticalCornerRadius;(_r>0||Ur>0)&&(jr.borderRadius="".concat(_r,"px / ").concat(Ur,"px")),Jt.color?jr.borderColor="rgb(".concat(0|Jt.color[0],", ").concat(0|Jt.color[1],", ").concat(0|Jt.color[2],")"):jr.borderWidth="0"}return rt.createElement(rt.Fragment,null,Rn&&on({popup:{opened:Wn,closeOnHover:Kn,openOnHover:Hn,toggleOnClick:sr},slot:{attrs:{style:Object.assign({height:"".concat(Zr,"px"),left:"".concat(rr[0],"px"),top:"".concat(rr[1],"px"),transform:"matrix(".concat(sn.transform.join(","),")"),transformOrigin:"-".concat(rr[0],"px -").concat(rr[1],"px"),width:"".concat(tr,"px")},jr)},children:rt.createElement(rt.Fragment,null,fn&&Wn&&rt.createElement(Un,{annotation:Jt}))}}))},ro=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},xn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},rt.createElement("circle",{cy:Sn/2,fill:"none",rx:Cn/2-Kn/2,ry:Sn/2-Kn/2,stroke:"transparent",strokeWidth:Kn||1})),Wn.slot.children)})},Qn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=an(Ot),fn=mn(Ot),Rn=!(Ot.hasPopup!==!1||!dn&&!fn),yn=function(){var sn,Cn,Sn,Kn,Wn=Ot.file;Wn&&(sn=Wn.filename,Cn=Wn.content,Sn=typeof Cn=="string"?"":URL.createObjectURL(new Blob([Cn],{type:""})),(Kn=document.createElement("a")).style.display="none",Kn.href=Sn||sn,Kn.setAttribute("download",function(Hn){var sr=Hn.split("/").pop();return sr?sr.split("#")[0].split("?")[0]:Hn}(sn)),document.body.appendChild(Kn),Kn.click(),document.body.removeChild(Kn),Sn&&URL.revokeObjectURL(Sn))};return rt.createElement(ur,{annotation:Ot,hasPopup:Rn,ignoreBorder:!0,isRenderable:!0,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onDoubleClick:yn,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},vr=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},Zn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=an(Ot),fn=mn(Ot),Rn=!(!dn&&!fn),yn=!Ot.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Ot.parentType)!==-1;return vt(function(){if(Ot.parentId){var sn=document.querySelector('[data-annotation-id="'.concat(Ot.parentId,'"]')),Cn=document.querySelector('[data-annotation-id="'.concat(Ot.id,'"]'));if(sn&&Cn){var Sn=parseFloat(sn.style.left),Kn=parseFloat(sn.style.top)+parseFloat(sn.style.height);Cn.style.left="".concat(Sn,"px"),Cn.style.top="".concat(Kn,"px"),Cn.style.transformOrigin="-".concat(Sn,"px -").concat(Kn,"px")}}},[]),rt.createElement(ur,{annotation:Ot,hasPopup:yn,ignoreBorder:!1,isRenderable:Rn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Ot.id}),rt.createElement(Un,{annotation:Ot}))})},fr=function($t){var Ot=$t.annotation,Jt=$t.childAnnotation,on=$t.page,dn=$t.viewport,fn=Ot.hasPopup===!1,Rn=an(Ot),yn=mn(Ot),sn=!!(Ot.hasPopup||Rn||yn);if(Ot.quadPoints&&Ot.quadPoints.length>0){var Cn=Ot.quadPoints.map(function(Sn){return Object.assign({},Ot,{rect:[Sn[2].x,Sn[2].y,Sn[1].x,Sn[1].y],quadPoints:[]})});return rt.createElement(rt.Fragment,null,Cn.map(function(Sn,Kn){return rt.createElement(fr,{key:Kn,annotation:Sn,childAnnotation:Jt,page:on,viewport:dn})}))}return rt.createElement(ur,{annotation:Ot,hasPopup:fn,ignoreBorder:!0,isRenderable:sn,page:on,viewport:dn},function(Sn){return rt.createElement(rt.Fragment,null,rt.createElement("div",at({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Ot.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children),Jt&&Jt.annotationType===$.AnnotationType.Popup&&Sn.popup.opened&&rt.createElement(Zn,{annotation:Jt,page:on,viewport:dn}))})},gr=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Ot.inkLists&&Ot.inkLists.length&&rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},Ot.inkLists.map(function(Hn,sr){return rt.createElement("polyline",{key:sr,fill:"none",stroke:"transparent",strokeWidth:Kn||1,points:Hn.map(function(rr){return"".concat(rr.x-sn[0],",").concat(sn[3]-rr.y)}).join(" ")})})),Wn.slot.children)})},zr=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},rt.createElement("line",{stroke:"transparent",strokeWidth:Kn||1,x1:sn[2]-Ot.lineCoordinates[0],x2:sn[2]-Ot.lineCoordinates[2],y1:sn[3]-Ot.lineCoordinates[1],y2:sn[3]-Ot.lineCoordinates[3]})),Wn.slot.children)})},Vn=/^([^\w]*)(javascript|data|vbscript)/im,Hr=/&#(\w+)(^\w|;)?/g,hr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Qt=/^([^:]+):/gm,At=function($t,Ot){Ot===void 0&&(Ot="about:blank");var Jt,on=(Jt=$t||"",Jt.replace(Hr,function(yn,sn){return String.fromCharCode(sn)})).replace(hr,"").trim();if(!on)return Ot;var dn=on[0];if(dn==="."||dn==="/")return on;var fn=on.match(Qt);if(!fn)return on;var Rn=fn[0];return Vn.test(Rn)?Ot:on},Ft=function($t){var Ot,Jt=$t.annotation,on=$t.annotationContainerRef,dn=$t.doc,fn=$t.outlines,Rn=$t.page,yn=$t.pageIndex,sn=$t.scale,Cn=$t.viewport,Sn=$t.onExecuteNamedAction,Kn=$t.onJumpFromLinkAnnotation,Wn=$t.onJumpToDest,Hn=rt.useRef(),sr=fn&&fn.length&&Jt.dest&&typeof Jt.dest=="string"?(Ot=fn.find(function(jr){return jr.dest===Jt.dest}))===null||Ot===void 0?void 0:Ot.title:"",rr=!!(Jt.url||Jt.dest||Jt.action||Jt.unsafeUrl),tr={};if(Jt.url||Jt.unsafeUrl){var Zr=At(Jt.url||Jt.unsafeUrl,"");Zr?tr={"data-target":"external",href:Zr,rel:"noopener noreferrer nofollow",target:Jt.newWindow?"_blank":"",title:Zr}:rr=!1}else tr={href:"","data-annotation-link":Jt.id,onClick:function(jr){jr.preventDefault(),Jt.action?Sn(Jt.action):Rr(dn,Jt.dest).then(function(Mr){var Br=Hn.current,_r=on.current;if(Br&&_r){var Ur=Br.getBoundingClientRect();_r.style.setProperty("height","100%"),_r.style.setProperty("width","100%");var Dr=_r.getBoundingClientRect();_r.style.removeProperty("height"),_r.style.removeProperty("width");var oo=(Ur.left-Dr.left)/sn,io=(Dr.bottom-Ur.bottom+Ur.height)/sn;Kn({bottomOffset:io,label:sr,leftOffset:oo,pageIndex:yn})}Wn(Mr)})}};return sr&&(tr=Object.assign({},tr,{title:sr,"aria-label":sr})),rt.createElement(ur,{annotation:Jt,hasPopup:!1,ignoreBorder:!1,isRenderable:rr,page:Rn,viewport:Cn},function(jr){return rt.createElement("div",at({},jr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Jt.id,"data-testid":"core__annotation--link-".concat(Jt.id)}),rt.createElement("a",at({ref:Hn},tr)))})},Yt=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Ot.vertices&&Ot.vertices.length&&rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},rt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Kn||1,points:Ot.vertices.map(function(Hn){return"".concat(Hn.x-sn[0],",").concat(sn[3]-Hn.y)}).join(" ")})),Wn.slot.children)})},cn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Ot.vertices&&Ot.vertices.length&&rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},rt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Kn||1,points:Ot.vertices.map(function(Hn){return"".concat(Hn.x-sn[0],",").concat(sn[3]-Hn.y)}).join(" ")})),Wn.slot.children)})},vn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn),sn=Ot.rect,Cn=sn[2]-sn[0],Sn=sn[3]-sn[1],Kn=Ot.borderStyle.width;return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(Wn){return rt.createElement("div",at({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Ot.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),rt.createElement("svg",{height:"".concat(Sn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Cn," ").concat(Sn),width:"".concat(Cn,"px")},rt.createElement("rect",{height:Sn-Kn,fill:"none",stroke:"transparent",strokeWidth:Kn||1,x:Kn/2,y:Kn/2,width:Cn-Kn})),Wn.slot.children)})},$n=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},zn=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},nr=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},er=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),rt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),rt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),rt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Ar=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),rt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),rt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),rt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),rt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),rt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),rt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),rt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),rt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),rt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ar=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),rt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},lr=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),rt.createElement("path",{d:"M6 4.5L6 0.5"}),rt.createElement("path",{d:"M18 4.5L18 0.5"}),rt.createElement("path",{d:"M10 4.5L10 0.5"}),rt.createElement("path",{d:"M14 4.5L14 0.5"}))},Er=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),rt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),rt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ir=function(){return rt.createElement(pt,{size:16},rt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Kr=function($t){var Ot=$t.annotation,Jt=$t.childAnnotation,on=$t.page,dn=$t.viewport,fn=Ot.hasPopup===!1,Rn=an(Ot),yn=mn(Ot),sn=!!(Ot.hasPopup||Rn||yn),Cn=Ot.name?Ot.name.toLowerCase():"";return rt.createElement(ur,{annotation:Ot,hasPopup:fn,ignoreBorder:!1,isRenderable:sn,page:on,viewport:dn},function(Sn){return rt.createElement(rt.Fragment,null,rt.createElement("div",at({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Ot.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Cn&&rt.createElement("div",{className:"rpv-core__annotation-text-icon"},Cn==="check"&&rt.createElement(ut,null),Cn==="comment"&&rt.createElement(er,null),Cn==="help"&&rt.createElement(Ar,null),Cn==="insert"&&rt.createElement(Ir,null),Cn==="key"&&rt.createElement(ar,null),Cn==="note"&&rt.createElement(lr,null),(Cn==="newparagraph"||Cn==="paragraph")&&rt.createElement(Er,null)),Sn.slot.children),Jt&&Jt.annotationType===$.AnnotationType.Popup&&Sn.popup.opened&&rt.createElement(Zn,{annotation:Jt,page:on,viewport:dn}))})},Jr=function($t){var Ot=$t.annotation,Jt=$t.page,on=$t.viewport,dn=Ot.hasPopup===!1,fn=an(Ot),Rn=mn(Ot),yn=!!(Ot.hasPopup||fn||Rn);return rt.createElement(ur,{annotation:Ot,hasPopup:dn,ignoreBorder:!0,isRenderable:yn,page:Jt,viewport:on},function(sn){return rt.createElement("div",at({},sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Ot.id,onClick:sn.popup.toggleOnClick,onMouseEnter:sn.popup.openOnHover,onMouseLeave:sn.popup.closeOnHover}),sn.slot.children)})},wo=function($t){var Ot=$t.annotations,Jt=$t.doc,on=$t.outlines,dn=$t.page,fn=$t.pageIndex,Rn=$t.plugins,yn=$t.rotation,sn=$t.scale,Cn=$t.onExecuteNamedAction,Sn=$t.onJumpFromLinkAnnotation,Kn=$t.onJumpToDest,Wn=rt.useRef(),Hn=dn.getViewport({rotation:yn,scale:sn}).clone({dontFlip:!0}),sr=Ot.filter(function(rr){return!rr.parentId});return vt(function(){var rr=Wn.current;rr&&Rn.forEach(function(tr){tr.onAnnotationLayerRender&&tr.onAnnotationLayerRender({annotations:sr,container:rr,pageIndex:fn,rotation:yn,scale:sn})})},[]),rt.createElement("div",{ref:Wn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(fn)},sr.map(function(rr){var tr=Ot.find(function(Zr){return Zr.parentId===rr.id});switch(rr.annotationType){case $.AnnotationType.Caret:return rt.createElement(ro,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Circle:return rt.createElement(xn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.FileAttachment:return rt.createElement(Qn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.FreeText:return rt.createElement(vr,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Highlight:return rt.createElement(fr,{key:rr.id,annotation:rr,childAnnotation:tr,page:dn,viewport:Hn});case $.AnnotationType.Ink:return rt.createElement(gr,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Line:return rt.createElement(zr,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Link:return rt.createElement(Ft,{key:rr.id,annotation:rr,annotationContainerRef:Wn,doc:Jt,outlines:on,page:dn,pageIndex:fn,scale:sn,viewport:Hn,onExecuteNamedAction:Cn,onJumpFromLinkAnnotation:Sn,onJumpToDest:Kn});case $.AnnotationType.Polygon:return rt.createElement(Yt,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Polyline:return rt.createElement(cn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Popup:return rt.createElement(Zn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Square:return rt.createElement(vn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Squiggly:return rt.createElement($n,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Stamp:return rt.createElement(zn,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.StrikeOut:return rt.createElement(nr,{key:rr.id,annotation:rr,page:dn,viewport:Hn});case $.AnnotationType.Text:return rt.createElement(Kr,{key:rr.id,annotation:rr,childAnnotation:tr,page:dn,viewport:Hn});case $.AnnotationType.Underline:return rt.createElement(Jr,{key:rr.id,annotation:rr,page:dn,viewport:Hn});default:return rt.createElement(rt.Fragment,{key:rr.id})}}))},ao=function($t){var Ot=$t.page,Jt=$t.renderAnnotations,on=Vt(),dn=rt.useState({loading:!0,annotations:[]}),fn=dn[0],Rn=dn[1];return rt.useEffect(function(){Ot.getAnnotations({intent:"display"}).then(function(yn){on.current&&Rn({loading:!1,annotations:yn})})},[]),fn.loading?rt.createElement(rt.Fragment,null):Jt(fn.annotations)},Po=function($t){var Ot=$t.doc,Jt=$t.outlines,on=$t.page,dn=$t.pageIndex,fn=$t.plugins,Rn=$t.rotation,yn=$t.scale,sn=$t.onExecuteNamedAction,Cn=$t.onJumpFromLinkAnnotation,Sn=$t.onJumpToDest;return rt.createElement(ao,{page:on,renderAnnotations:function(Kn){return rt.createElement(wo,{annotations:Kn,doc:Ot,outlines:Jt,page:on,pageIndex:dn,plugins:fn,rotation:Rn,scale:yn,onExecuteNamedAction:sn,onJumpFromLinkAnnotation:Cn,onJumpToDest:Sn})}})},Lo=function($t,Ot){var Jt=$t%Ot;return Jt===0?$t:Math.floor($t-Jt)},Dn=function($t){var Ot=$t.canvasLayerRef,Jt=$t.height,on=$t.page,dn=$t.pageIndex,fn=$t.plugins,Rn=$t.rotation,yn=$t.scale,sn=$t.width,Cn=$t.onRenderCanvasCompleted,Sn=rt.useRef();return vt(function(){var Kn=Sn.current;Kn&&Kn.cancel();var Wn=Ot.current;Wn.removeAttribute("data-testid"),fn.forEach(function(Dr){Dr.onCanvasLayerRender&&Dr.onCanvasLayerRender({ele:Wn,pageIndex:dn,rotation:Rn,scale:yn,status:$.LayerRenderStatus.PreRender})});var Hn=on.getViewport({rotation:Rn,scale:yn}),sr=window.devicePixelRatio||1,rr=Math.sqrt(16777216/(Hn.width*Hn.height)),tr=sr>rr;tr?Wn.style.transform="scale(1, 1)":Wn.style.removeProperty("transform");var Zr=Math.min(rr,sr),jr=function(Dr,oo){var io,so;if(Math.floor(Dr)===Dr)return[Dr,1];var co=1/Dr;if(co>oo)return[1,oo];if(Math.floor(co)===co)return[1,co];for(var fo=Dr>1?co:Dr,No=0,Co=1,Io=1,Ro=1;;){var jo=No+Io,Mo=Co+Ro;if(Mo>oo)break;fo<=jo/Mo?(Io=(io=[jo,Mo])[0],Ro=io[1]):(No=(so=[jo,Mo])[0],Co=so[1])}return fo<(No/Co+Io/Ro)/2?fo===Dr?[No,Co]:[Co,No]:fo===Dr?[Io,Ro]:[Ro,Io]}(Zr,8),Mr=jr[0],Br=jr[1];Wn.width=Lo(Hn.width*Zr,Mr),Wn.height=Lo(Hn.height*Zr,Mr),Wn.style.width="".concat(Lo(Hn.width,Br),"px"),Wn.style.height="".concat(Lo(Hn.height,Br),"px"),Wn.hidden=!0;var _r=Wn.getContext("2d",{alpha:!1}),Ur=tr||sr!==1?[Zr,0,0,Zr,0,0]:null;return Sn.current=on.render({canvasContext:_r,transform:Ur,viewport:Hn}),Sn.current.promise.then(function(){Wn.hidden=!1,Wn.setAttribute("data-testid","core__canvas-layer-".concat(dn)),fn.forEach(function(Dr){Dr.onCanvasLayerRender&&Dr.onCanvasLayerRender({ele:Wn,pageIndex:dn,rotation:Rn,scale:yn,status:$.LayerRenderStatus.DidRender})}),Cn()},function(){Cn()}),function(){Wn&&(Wn.width=0,Wn.height=0)}},[]),rt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Jt,"px"),width:"".concat(sn,"px")}},rt.createElement("canvas",{ref:Ot}))},Bn=function($t){var Ot=$t.height,Jt=$t.page,on=$t.rotation,dn=$t.scale,fn=$t.width,Rn=rt.useRef();return vt(function(){var yn=Rn.current,sn=Jt.getViewport({rotation:on,scale:dn});Jt.getOperatorList().then(function(Cn){(function(){var Sn=Rn.current;Sn&&(Sn.innerHTML="")})(),new it.SVGGraphics(Jt.commonObjs,Jt.objs).getSVG(Cn,sn).then(function(Sn){Sn.style.height="".concat(Ot,"px"),Sn.style.width="".concat(fn,"px"),yn.appendChild(Sn)})})},[]),rt.createElement("div",{className:"rpv-core__svg-layer",ref:Rn})},dr=function($t){var Ot=$t.containerRef,Jt=$t.page,on=$t.pageIndex,dn=$t.plugins,fn=$t.rotation,Rn=$t.scale,yn=$t.onRenderTextCompleted,sn=rt.useRef(),Cn=function(){var Sn=Ot.current;Sn&&([].slice.call(Sn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Kn){return Sn.removeChild(Kn)}),[].slice.call(Sn.querySelectorAll('br[role="presentation"]')).forEach(function(Kn){return Sn.removeChild(Kn)}))};return vt(function(){var Sn=sn.current;Sn&&Sn.cancel();var Kn=Ot.current;if(Kn){Kn.removeAttribute("data-testid");var Wn=Jt.getViewport({rotation:fn,scale:Rn});return dn.forEach(function(Hn){Hn.onTextLayerRender&&Hn.onTextLayerRender({ele:Kn,pageIndex:on,scale:Rn,status:$.LayerRenderStatus.PreRender})}),Jt.getTextContent().then(function(Hn){Cn(),sn.current=it.renderTextLayer({container:Kn,textContent:Hn,textContentSource:Hn,viewport:Wn}),sn.current.promise.then(function(){Kn.setAttribute("data-testid","core__text-layer-".concat(on)),[].slice.call(Kn.children).forEach(function(sr){sr.classList.contains("rpv-core__text-layer-text--not")||sr.classList.add("rpv-core__text-layer-text")}),dn.forEach(function(sr){sr.onTextLayerRender&&sr.onTextLayerRender({ele:Kn,pageIndex:on,scale:Rn,status:$.LayerRenderStatus.DidRender})}),yn()},function(){Kn.removeAttribute("data-testid"),yn()})}),function(){var Hn;Cn(),(Hn=sn.current)===null||Hn===void 0||Hn.cancel()}}},[]),rt.createElement("div",{className:"rpv-core__text-layer",ref:Ot})},Fr=function($t){var Ot=$t.doc,Jt=$t.measureRef,on=$t.outlines,dn=$t.pageIndex,fn=$t.pageRotation,Rn=$t.pageSize,yn=$t.plugins,sn=$t.renderPage,Cn=$t.renderQueueKey,Sn=$t.rotation,Kn=$t.scale,Wn=$t.shouldRender,Hn=$t.viewMode,sr=$t.onExecuteNamedAction,rr=$t.onJumpFromLinkAnnotation,tr=$t.onJumpToDest,Zr=$t.onRenderCompleted,jr=$t.onRotatePage,Mr=Vt(),Br=rt.useState(null),_r=Br[0],Ur=Br[1],Dr=rt.useState(!1),oo=Dr[0],io=Dr[1],so=rt.useState(!1),co=so[0],fo=so[1],No=rt.useRef(),Co=rt.useRef(),Io=Math.abs(Sn+fn)%180==0,Ro=Rn.pageWidth*Kn,jo=Rn.pageHeight*Kn,Mo=Io?Ro:jo,Ao=Io?jo:Ro,Ho=(Rn.rotation+Sn+fn)%360,Yo=rt.useRef(0),Xo=sn||function(Fo){return rt.createElement(rt.Fragment,null,Fo.canvasLayer.children,Fo.textLayer.children,Fo.annotationLayer.children)};return rt.useEffect(function(){Ur(null),io(!1),fo(!1)},[fn,Sn,Kn]),rt.useEffect(function(){Wn&&Mr.current&&!_r&&kr(Ot,dn).then(function(Fo){Mr.current&&(Yo.current=Cn,Ur(Fo))})},[Wn,_r]),rt.useEffect(function(){oo&&co&&(Cn!==Yo.current?(Ur(null),io(!1),fo(!1)):Zr(dn))},[oo,co]),rt.createElement("div",{className:gt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Hn===$.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Hn===$.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Hn===$.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(dn),ref:Jt,style:{height:"".concat(Ao,"px"),width:"".concat(Mo,"px")}},_r?rt.createElement(rt.Fragment,null,Xo({annotationLayer:{attrs:{},children:rt.createElement(Po,{doc:Ot,outlines:on,page:_r,pageIndex:dn,plugins:yn,rotation:Ho,scale:Kn,onExecuteNamedAction:sr,onJumpFromLinkAnnotation:rr,onJumpToDest:tr})},canvasLayer:{attrs:{},children:rt.createElement(Dn,{canvasLayerRef:No,height:Ao,page:_r,pageIndex:dn,plugins:yn,rotation:Ho,scale:Kn,width:Mo,onRenderCanvasCompleted:function(){Mr.current&&io(!0)}})},canvasLayerRendered:oo,doc:Ot,height:Ao,pageIndex:dn,rotation:Ho,scale:Kn,svgLayer:{attrs:{},children:rt.createElement(Bn,{height:Ao,page:_r,rotation:Ho,scale:Kn,width:Mo})},textLayer:{attrs:{},children:rt.createElement(dr,{containerRef:Co,page:_r,pageIndex:dn,plugins:yn,rotation:Ho,scale:Kn,onRenderTextCompleted:function(){Mr.current&&fo(!0)}})},textLayerRendered:co,width:Mo,markRendered:Zr,onRotatePage:function(Fo){return jr(dn,Fo)}}),yn.map(function(Fo,Vo){return Fo.renderPageLayer?rt.createElement(rt.Fragment,{key:Vo},Fo.renderPageLayer({canvasLayerRef:No,canvasLayerRendered:oo,doc:Ot,height:Ao,pageIndex:dn,rotation:Ho,scale:Kn,textLayerRef:Co,textLayerRendered:co,width:Mo})):rt.createElement(rt.Fragment,{key:Vo})})):rt.createElement(xt,{testId:"core__page-layer-loading-".concat(dn)}))},Wr=function($t,Ot){var Jt=Ot.rect;return $t.height!==Jt.height||$t.width!==Jt.width?Jt:$t};(function($t){$t.Horizontal="Horizontal",$t.Vertical="Vertical",$t.Both="Both"})(Ln||(Ln={}));var qr=function($t){return 1-Math.pow(1-$t,4)},ho=1e-4,lo={left:0,top:0},yo={capture:!1,passive:!0},Ut=function($t){var Ot=$t.elementRef,Jt=$t.enableSmoothScroll,on=$t.isRtl,dn=$t.scrollDirection,fn=$t.onSmoothScroll,Rn=rt.useState(lo),yn=Rn[0],sn=Rn[1],Cn=rt.useState(Ot.current),Sn=Cn[0],Kn=Cn[1],Wn=on?-1:1,Hn=rt.useRef(dn);Hn.current=dn;var sr=rt.useRef(lo),rr=rt.useRef(!0),tr=rt.useCallback(function(){rr.current=!0,Jt&&sn(sr.current),fn(!1)},[]),Zr=rt.useCallback(function(){if(Sn){switch(Hn.current){case Ln.Horizontal:sr.current={left:Wn*Sn.scrollLeft,top:0};break;case Ln.Both:sr.current={left:Wn*Sn.scrollLeft,top:Sn.scrollTop};break;case Ln.Vertical:default:sr.current={left:0,top:Sn.scrollTop}}Jt&&!rr.current||sn(sr.current)}},[Sn]);vt(function(){Kn(Ot.current)}),vt(function(){if(Sn)return Sn.addEventListener("scroll",Zr,yo),function(){Sn.removeEventListener("scroll",Zr,yo)}},[Sn]);var jr=rt.useCallback(function(Mr,Br){var _r=Ot.current;if(!_r)return Promise.resolve();var Ur={left:0,top:0};switch(Hn.current){case Ln.Horizontal:Ur.left=Wn*Mr.left;break;case Ln.Both:Ur.left=Wn*Mr.left,Ur.top=Mr.top;break;case Ln.Vertical:default:Ur.top=Mr.top}return Br?(rr.current=!1,fn(!0),new Promise(function(Dr,oo){(function(io,so,co,fo,No,Co){No===void 0&&(No=function(Vo){return Vo}),Co===void 0&&(Co=function(){});var Io=0,Ro=0,jo=!1;switch(so){case Ln.Horizontal:Ro=io.scrollLeft,Io=0;case Ln.Both:Ro=io.scrollLeft,Io=io.scrollTop;break;case Ln.Vertical:default:Ro=0,Io=io.scrollTop}var Mo=function(){jo||(jo=!0,io.scrollLeft=co.left,io.scrollTop=co.top,Co())};if(Math.abs(Io-co.top)<=ho&&so===Ln.Vertical)Mo();else if(Math.abs(Ro-co.left)<=ho&&so===Ln.Horizontal)Mo();else{var Ao,Ho=-1,Yo=Ro-co.left,Xo=Io-co.top,Fo=function(Vo){Ho===-1&&(Ho=Vo);var qo=Vo-Ho,Lr=Math.min(qo/fo,1),Or=No(Lr),wr={left:Ro-Yo*Or,top:Io-Xo*Or};switch(so){case Ln.Horizontal:io.scrollLeft=wr.left;break;case Ln.Both:io.scrollLeft=wr.left,io.scrollTop=wr.top;break;case Ln.Vertical:default:io.scrollTop=wr.top}Math.abs(wr.top-co.top)<=ho&&Math.abs(wr.left-co.left)<=ho&&!jo&&(window.cancelAnimationFrame(Ao),Mo()),qo<fo?Ao=window.requestAnimationFrame(Fo):window.cancelAnimationFrame(Ao)};Ao=window.requestAnimationFrame(Fo)}})(_r,Hn.current,Ur,400,qr,function(){tr(),Dr()})})):new Promise(function(Dr,oo){switch(Hn.current){case Ln.Horizontal:_r.scrollLeft=Ur.left;break;case Ln.Both:_r.scrollLeft=Ur.left,_r.scrollTop=Ur.top;break;case Ln.Vertical:default:_r.scrollTop=Ur.top}Dr()})},[Ot]);return{scrollOffset:yn,scrollTo:jr}},ln=function($t,Ot,Jt){return Math.max($t,Math.min(Jt,Ot))},Gt=function($t,Ot){if(Ot!==$.ViewMode.DualPageWithCover)return 0;if(!function(dn){var fn=dn.length;if(fn===1)return!1;for(var Rn=1;Rn<fn;Rn++)if(dn[Rn].height!==dn[0].height||dn[Rn].width!==dn[0].width)return!0;return!1}($t))return 2*$t[0].width;var Jt=jn($t.slice(1),2).map(function(dn){return dn.length===2?dn[0].width+dn[1].width:dn[0].width}),on=[$t[0].width].concat(Jt);return Math.max.apply(Math,on)},kn={left:0,top:0},Mn={left:0,top:0},wn={left:0,top:0},Yn={left:0,top:0},ir={height:0,width:0},or={left:0,top:0},cr="data-virtual-index",pr=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],$r=function($t){var Ot=$t.enableSmoothScroll,Jt=$t.isRtl,on=$t.numberOfItems,dn=$t.parentRef,fn=$t.setRenderRange,Rn=$t.sizes,yn=$t.scrollMode,sn=$t.viewMode,Cn=rt.useState(!1),Sn=Cn[0],Kn=Cn[1],Wn=rt.useCallback(function(Lr){return Kn(Lr)},[]),Hn=rt.useRef(yn);Hn.current=yn;var sr=rt.useRef(sn);sr.current=sn;var rr=yn===$.ScrollMode.Wrapped||sn===$.ViewMode.DualPageWithCover||sn===$.ViewMode.DualPage?Ln.Both:yn===$.ScrollMode.Horizontal?Ln.Horizontal:Ln.Vertical,tr=Ut({elementRef:dn,enableSmoothScroll:Ot,isRtl:Jt,scrollDirection:rr,onSmoothScroll:Wn}),Zr=tr.scrollOffset,jr=tr.scrollTo,Mr=function(Lr){var Or=Lr.elementRef,wr=rt.useState(Or.current),Pr=wr[0],Cr=wr[1],Vr=rt.useRef(!1),Gr=rt.useReducer(Wr,{height:0,width:0}),Tr=Gr[0],yr=Gr[1];return vt(function(){Or.current!==Pr&&Cr(Or.current)}),vt(function(){if(Pr&&!Vr.current){Vr.current=!0;var Xr=Pr.getBoundingClientRect(),_i=Xr.height,So=Xr.width;yr({rect:{height:_i,width:So}})}},[Pr]),rt.useEffect(function(){if(Pr){var Xr=new ResizeObserver(function(_i,So){_i.forEach(function(xo){if(xo.target===Pr){var Bo=xo.contentRect,Wo=Bo.height,Qr=Bo.width;yr({rect:{height:Wo,width:Qr}})}})});return Xr.observe(Pr),function(){Xr.unobserve(Pr)}}},[Pr]),Tr}({elementRef:dn}),Br=rt.useRef({scrollOffset:or,measurements:[]});Br.current.scrollOffset=Zr;var _r=rt.useMemo(function(){return Array(on).fill(-1)},[]),Ur=rt.useState(_r),Dr=Ur[0],oo=Ur[1],io=rt.useMemo(function(){var Lr=new IntersectionObserver(function(Or){Or.forEach(function(wr){var Pr=wr.isIntersecting?wr.intersectionRatio:-1,Cr=wr.target.getAttribute(cr);if(Cr){var Vr=parseInt(Cr,10);0<=Vr&&Vr<on&&oo(function(Gr){return Gr[Vr]=Pr,function(Tr,yr,Xr){if(Xr||arguments.length===2)for(var _i,So=0,xo=yr.length;So<xo;So++)!_i&&So in yr||(_i||(_i=Array.prototype.slice.call(yr,0,So)),_i[So]=yr[So]);return Tr.concat(_i||Array.prototype.slice.call(yr))}([],Gr,!0)})}})},{threshold:pr});return Lr},[]),so=rt.useMemo(function(){return yn===$.ScrollMode.Page&&sn===$.ViewMode.SinglePage?function(Lr,Or,wr){for(var Pr=[],Cr=0;Cr<Lr;Cr++){var Vr={height:Math.max(Or.height,wr[Cr].height),width:Math.max(Or.width,wr[Cr].width)},Gr=Cr===0?Yn:Pr[Cr-1].end,Tr={left:Gr.left+Vr.width,top:Gr.top+Vr.height};Pr[Cr]={index:Cr,start:Gr,size:Vr,end:Tr,visibility:-1}}return Pr}(on,Mr,Rn):sn===$.ViewMode.DualPageWithCover?function(Lr,Or,wr,Pr){for(var Cr=[],Vr=0,Gr=0,Tr=wn,yr=0;yr<Lr;yr++){var Xr=yr===0?{height:Pr===$.ScrollMode.Page?Math.max(Or.height,wr[yr].height):wr[yr].height,width:Pr===$.ScrollMode.Page?Math.max(Or.width,wr[yr].width):wr[yr].width}:{height:Pr===$.ScrollMode.Page?Math.max(Or.height,wr[yr].height):wr[yr].height,width:Math.max(Or.width/2,wr[yr].width)};Pr===$.ScrollMode.Page?Tr=yr===0?wn:{left:yr%2==0?Xr.width:0,top:Math.floor((yr-1)/2)*Xr.height+Cr[0].end.top}:yr===0?(Tr=wn,Vr=wr[0].height,Gr=0):yr%2==1?(Tr={left:0,top:Vr+=Gr},Gr=yr===Lr-1?wr[yr].height:Math.max(wr[yr].height,wr[yr+1].height)):Tr={left:Cr[yr-1].end.left,top:Vr};var _i={left:Tr.left+Xr.width,top:Tr.top+Xr.height};Cr[yr]={index:yr,start:Tr,size:Xr,end:_i,visibility:-1}}return Cr}(on,Mr,Rn,yn):sn===$.ViewMode.DualPage?function(Lr,Or,wr,Pr){for(var Cr=[],Vr=0,Gr=0,Tr=Mn,yr=0;yr<Lr;yr++){var Xr={height:Pr===$.ScrollMode.Page?Math.max(Or.height,wr[yr].height):wr[yr].height,width:Math.max(Or.width/2,wr[yr].width)};Pr===$.ScrollMode.Page?Tr={left:yr%2==0?0:Xr.width,top:Math.floor(yr/2)*Xr.height}:yr%2==0?(Tr={left:0,top:Vr+=Gr},Gr=yr===Lr-1?wr[yr].height:Math.max(wr[yr].height,wr[yr+1].height)):Tr={left:Cr[yr-1].end.left,top:Vr};var _i={left:Tr.left+Xr.width,top:Tr.top+Xr.height};Cr[yr]={index:yr,start:Tr,size:Xr,end:_i,visibility:-1}}return Cr}(on,Mr,Rn,yn):function(Lr,Or,wr,Pr){for(var Cr=[],Vr=0,Gr={left:0,top:0},Tr=0,yr=kn,Xr=0;Xr<Lr;Xr++){var _i=wr[Xr];if(Xr===0)Vr=_i.width,Gr={left:0,top:0},Tr=_i.height;else switch(Pr){case $.ScrollMode.Wrapped:(Vr+=_i.width)<Or.width?(yr={left:Cr[Xr-1].end.left,top:Gr.top},Tr=Math.max(Tr,_i.height)):(Vr=_i.width,Gr={left:(yr={left:Gr.left,top:Gr.top+Tr}).left,top:yr.top},Tr=_i.height);break;case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:yr=Cr[Xr-1].end}var So={left:yr.left+_i.width,top:yr.top+_i.height};Cr[Xr]={index:Xr,start:yr,size:_i,end:So,visibility:-1}}return Cr}(on,Mr,Rn,yn)},[yn,Rn,sn,Mr]),co=so[on-1]?{height:so[on-1].end.top,width:so[on-1].end.left}:ir;Br.current.measurements=so;var fo=rt.useMemo(function(){var Lr=function(Xr,_i,So,xo){var Bo=0;switch(Xr){case Ln.Horizontal:Bo=xo.left;break;case Ln.Vertical:default:Bo=xo.top}var Wo=_i.length-1,Qr=function(vo,Jo,us,As){for(;vo<=Jo;){var os=(vo+Jo)/2|0,ys=As(os);if(ys<us)vo=os+1;else{if(!(ys>us))return os;Jo=os-1}}return vo>0?vo-1:0}(0,Wo,Bo,function(vo){switch(Xr){case Ln.Horizontal:return _i[vo].start.left;case Ln.Both:case Ln.Vertical:default:return _i[vo].start.top}});if(Xr===Ln.Both)for(var zo=_i[Qr].start.top;Qr-1>=0&&_i[Qr-1].start.top===zo&&_i[Qr-1].start.left>=xo.left;)Qr--;for(var _o=Qr;_o<=Wo;){var ko={top:_i[_o].start.top-xo.top,left:_i[_o].start.left-xo.left},Oo={height:So.height-ko.top,width:So.width-ko.left};if(Xr===Ln.Horizontal&&Oo.width<0||Xr===Ln.Vertical&&Oo.height<0||Xr===Ln.Both&&(Oo.width<0||Oo.height<0))break;_o++}return{start:Qr,end:_o}}(rr,so,Mr,Zr),Or=Lr.start,wr=Lr.end,Pr=Dr.slice(ln(0,on,Or),ln(0,on,wr)),Cr=Or+Pr.reduce(function(Xr,_i,So,xo){return _i>xo[Xr]?So:Xr},0),Vr=Cr=ln(0,on-1,Cr),Gr=fn({endPage:wr,numPages:on,startPage:Or}),Tr=Gr.startPage,yr=Gr.endPage;switch(Tr=Math.max(Tr,0),yr=Math.min(yr,on-1),sn){case $.ViewMode.DualPageWithCover:Cr>0&&(Vr=Cr%2==1?Cr:Cr-1),Tr=Tr===0?0:Tr%2==1?Tr:Tr-1,on-(yr=yr%2==1?yr-1:yr)<=2&&(yr=on-1);break;case $.ViewMode.DualPage:Vr=Cr%2==0?Cr:Cr-1,Tr=Tr%2==0?Tr:Tr-1,yr=yr%2==1?yr:yr-1;break;case $.ViewMode.SinglePage:default:Vr=Cr}return{startPage:Tr,endPage:yr,maxVisbilityIndex:Vr}},[so,Mr,Zr,sn,Dr]),No=fo.startPage,Co=fo.endPage,Io=fo.maxVisbilityIndex,Ro=rt.useMemo(function(){for(var Lr=[],Or=function(Pr){var Cr=so[Pr],Vr=at(at({},Cr),{visibility:Dr[Pr]!==void 0?Dr[Pr]:-1,measureRef:function(Gr){Gr&&(Gr.setAttribute(cr,"".concat(Pr)),io.observe(Gr))}});Lr.push(Vr)},wr=No;wr<=Co;wr++)Or(wr);return Lr},[No,Co,Dr,so]),jo=rt.useCallback(function(Lr,Or){var wr=Br.current.measurements[ln(0,on-1,Lr)],Pr=Hn.current===$.ScrollMode.Page?or:Or;return wr?jr({left:Pr.left+wr.start.left,top:Pr.top+wr.start.top},Ot):Promise.resolve()},[jr,Ot]),Mo=rt.useCallback(function(Lr,Or){var wr=Br.current.measurements,Pr=wr[Lr].start,Cr=wr.find(function(Gr){return Gr.start.top-Pr.top>1e-12});if(!Cr)return Promise.resolve();var Vr=Cr.index;switch(sr.current){case $.ViewMode.DualPage:Vr=Vr%2==0?Vr:Vr+1;break;case $.ViewMode.DualPageWithCover:Vr=Vr%2==1?Vr:Vr+1}return jo(Vr,Or)},[]),Ao=rt.useCallback(function(Lr,Or){for(var wr=Br.current.measurements,Pr=wr[Lr].start,Cr=Lr,Vr=!1,Gr=on-1;Gr>=0;Gr--)if(Pr.top-wr[Gr].start.top>1e-12){Vr=!0,Cr=wr[Gr].index;break}if(!Vr)return Promise.resolve();switch(sr.current){case $.ViewMode.DualPage:Cr=Cr%2==0?Cr:Cr-1;break;case $.ViewMode.DualPageWithCover:Cr=Cr%2==0?Cr-1:Cr}return Cr===Lr&&(Cr=Lr-1),jo(Cr,Or)},[]),Ho=rt.useCallback(function(Lr,Or){if(sr.current===$.ViewMode.DualPageWithCover||sr.current===$.ViewMode.DualPage)return Mo(Lr,Or);switch(Hn.current){case $.ScrollMode.Wrapped:return Mo(Lr,Or);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return jo(Lr+1,Or)}},[]),Yo=rt.useCallback(function(Lr,Or){if(sr.current===$.ViewMode.DualPageWithCover||sr.current===$.ViewMode.DualPage)return Ao(Lr,Or);switch(Hn.current){case $.ScrollMode.Wrapped:return Ao(Lr,Or);case $.ScrollMode.Horizontal:case $.ScrollMode.Vertical:default:return jo(Lr-1,Or)}},[]),Xo=rt.useCallback(function(){return function(Lr,Or){switch(Or){case $.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Lr.width,"px")};case $.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Lr.height,"px"),width:"100%"}}}(co,Hn.current)},[co]),Fo=rt.useCallback(function(Lr){return function(Or,wr,Pr){return Pr!==$.ScrollMode.Page?{}:{height:"".concat(wr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Or.start.top,"px)")}}(Lr,Mr,Hn.current)},[Mr]),Vo=rt.useCallback(function(Lr){return function(Or,wr,Pr,Cr,Vr){var Gr,Tr,yr,Xr,_i,So,xo,Bo=wr?"right":"left",Wo=wr?-1:1,Qr=Pr.length,zo=Or.start.left*Wo,_o=Or.size,ko=_o.height,Oo=_o.width;if(Cr===$.ViewMode.DualPageWithCover){var vo=Vr===$.ScrollMode.Page?0:Or.start.top;return Or.index===0||Qr%2==0&&Or.index===Qr-1?((Gr={height:"".concat(ko,"px"),minWidth:"".concat(Gt(Pr,Cr),"px"),width:"100%"})[Bo]=0,Gr.position="absolute",Gr.top=0,Gr.transform="translate(".concat(zo,"px, ").concat(vo,"px)"),Gr):((Tr={height:"".concat(ko,"px"),width:"".concat(Oo,"px")})[Bo]=0,Tr.position="absolute",Tr.top=0,Tr.transform="translate(".concat(zo,"px, ").concat(vo,"px)"),Tr)}if(Cr===$.ViewMode.DualPage)return(yr={height:"".concat(ko,"px"),width:"".concat(Oo,"px")})[Bo]=0,yr.position="absolute",yr.top=0,yr.transform="translate(".concat(zo,"px, ").concat(Vr===$.ScrollMode.Page?0:Or.start.top,"px)"),yr;switch(Vr){case $.ScrollMode.Horizontal:return(Xr={height:"100%",width:"".concat(Oo,"px")})[Bo]=0,Xr.position="absolute",Xr.top=0,Xr.transform="translateX(".concat(zo,"px)"),Xr;case $.ScrollMode.Page:return(_i={height:"".concat(ko,"px"),width:"".concat(Oo,"px")})[Bo]=0,_i.position="absolute",_i.top=0,_i;case $.ScrollMode.Wrapped:return(So={height:"".concat(ko,"px"),width:"".concat(Oo,"px")})[Bo]=0,So.position="absolute",So.top=0,So.transform="translate(".concat(zo,"px, ").concat(Or.start.top,"px)"),So;case $.ScrollMode.Vertical:default:return(xo={height:"".concat(ko,"px"),width:"100%"})[Bo]=0,xo.position="absolute",xo.top=0,xo.transform="translateY(".concat(Or.start.top,"px)"),xo}}(Lr,Jt,Rn,sr.current,Hn.current)},[Jt,Rn]),qo=rt.useCallback(function(Lr,Or){var wr=Br.current,Pr=wr.measurements,Cr=wr.scrollOffset,Vr=Pr[ln(0,on-1,Or)];if(Vr){var Gr=Hn.current===$.ScrollMode.Page?{left:Vr.start.left,top:Vr.start.top}:{left:Cr.left*Lr,top:Cr.top*Lr};return jr(Gr,!1)}return Promise.resolve()},[]);return rt.useEffect(function(){return function(){io.disconnect()}},[]),{boundingClientRect:Mr,isSmoothScrolling:Sn,startPage:No,endPage:Co,maxVisbilityIndex:Io,virtualItems:Ro,getContainerStyles:Xo,getItemContainerStyles:Fo,getItemStyles:Vo,scrollToItem:jo,scrollToNextItem:Ho,scrollToPreviousItem:Yo,zoom:qo}},eo=function($t,Ot,Jt,on,dn,fn){var Rn=Jt;switch(!0){case(dn===$.ViewMode.DualPageWithCover&&fn>=3):case(dn===$.ViewMode.DualPage&&fn>=3):Rn=2*Jt;break;default:Rn=Jt}switch(on){case $.SpecialZoomLevel.ActualSize:return 1;case $.SpecialZoomLevel.PageFit:return Math.min(($t.clientWidth-17)/Rn,($t.clientHeight-16)/Ot);case $.SpecialZoomLevel.PageWidth:return($t.clientWidth-17)/Rn}},mo=function($t){var Ot,Jt,on=$t.getCurrentPage,dn=(Ot=50,Jt=rt.useRef([]),rt.useEffect(function(){return function(){Jt.current=[]}},[]),{push:function(Cn){var Sn=Jt.current;Sn.length+1>Ot&&Sn.shift(),Sn.push(Cn),Jt.current=Sn},map:function(Cn){return Jt.current.map(function(Sn){return Cn(Sn)})},pop:function(){var Cn=Jt.current;if(Cn.length===0)return null;var Sn=Cn.pop();return Jt.current=Cn,Sn}}),fn=function(Cn){var Sn=rt.useRef([]);return rt.useEffect(function(){return function(){Sn.current=[]}},[]),{dequeue:function(){var Kn=Sn.current;if(Kn.length===0)return null;var Wn=Kn.shift();return Sn.current=Kn,Wn||null},enqueue:function(Kn){var Wn=Sn.current;Wn.length+1>Cn&&Wn.pop(),Sn.current=[Kn].concat(Wn)},map:function(Kn){return Sn.current.map(function(Wn){return Kn(Wn)})}}}(50),Rn=function(){var Cn=fn.dequeue();return Cn&&dn.push(Cn),Cn&&Cn.pageIndex===on()?Rn():Cn},yn=function(){var Cn=dn.pop();return Cn&&fn.enqueue(Cn),Cn&&Cn.pageIndex===on()?yn():Cn},sn=rt.useCallback(function(Cn){dn.push(Cn)},[]);return{getNextDestination:Rn,getPreviousDestination:yn,markVisitedDestination:sn}},go=function($t){var Ot=[];return $t.map(function(Jt){Ot=Ot.concat(Jt).concat(function(on){var dn=[];return on.items&&on.items.length>0&&(dn=dn.concat(go(on.items))),dn}(Jt))}),Ot},To={capture:!1,passive:!0},$o={height:0,width:0},Uo={height:0,width:0},is=function($t){var Ot=$t.getCurrentPage,Jt=$t.getCurrentScrollMode,on=$t.jumpToPage,dn=$t.targetRef,fn=rt.useState($.FullScreenMode.Normal),Rn=fn[0],yn=fn[1],sn=function(){var Dr=rt.useState($o),oo=Dr[0],io=Dr[1],so=Nt(function(){io({height:window.innerHeight,width:window.innerWidth})},100);return vt(function(){return window.addEventListener("resize",so,To),function(){window.removeEventListener("resize",so,To)}},[]),oo}(),Cn=rt.useState(Uo),Sn=Cn[0],Kn=Cn[1],Wn=rt.useRef(Uo),Hn=rt.useRef(Ot()),sr=rt.useRef(Uo),rr=rt.useState(dn.current),tr=rr[0],Zr=rr[1],jr=rt.useRef();vt(function(){dn.current!==tr&&Zr(dn.current)},[]),vt(function(){if(tr){var Dr=new ResizeObserver(function(oo){oo.forEach(function(io){var so=io.target.getBoundingClientRect(),co=so.height,fo=so.width;Kn({height:co,width:fo})})});return Dr.observe(tr),function(){Dr.unobserve(tr),Dr.disconnect()}}},[tr]);var Mr=rt.useCallback(function(Dr){var oo=Ht();return oo&&oo!==Dr?(yn($.FullScreenMode.Normal),Dt(oo)):Promise.resolve()},[]),Br=rt.useCallback(function(Dr){Dr&&Mt()&&(Zr(Dr),Mr(Dr).then(function(){jr.current=Dr,yn($.FullScreenMode.Entering),function(oo){wt&&oo[kt.RequestFullScreen]()}(Dr)}))},[]),_r=rt.useCallback(function(){Ht()&&(yn($.FullScreenMode.Exitting),Dt(document))},[]),Ur=rt.useCallback(function(){tr&&Ht()!==tr&&yn($.FullScreenMode.Exitting)},[tr]);return rt.useEffect(function(){switch(Rn){case $.FullScreenMode.Entering:jr.current&&(jr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Hn.current=Ot(),Wn.current={height:window.innerHeight,width:window.innerWidth};break;case $.FullScreenMode.Entered:Jt()===$.ScrollMode.Page?on(Hn.current).then(function(){yn($.FullScreenMode.EnteredCompletely)}):yn($.FullScreenMode.EnteredCompletely);break;case $.FullScreenMode.Exitting:jr.current&&(jr.current.style.backgroundColor="",jr.current=null),Hn.current=Ot();break;case $.FullScreenMode.Exited:yn($.FullScreenMode.Normal),Jt()===$.ScrollMode.Page&&on(Hn.current)}},[Rn]),rt.useEffect(function(){if(Rn!==$.FullScreenMode.Normal)return Rn===$.FullScreenMode.Entering&&sn.height===Sn.height&&sn.width===Sn.width&&sn.height>0&&sn.width>0&&(sr.current.height===0||sn.height==sr.current.height)?(sr.current={height:window.innerHeight,width:window.innerWidth},void yn($.FullScreenMode.Entered)):void(Rn===$.FullScreenMode.Exitting&&Wn.current.height===sn.height&&Wn.current.width===sn.width&&sn.height>0&&sn.width>0&&yn($.FullScreenMode.Exited))},[Rn,sn,Sn]),rt.useEffect(function(){var Dr;return Dr=Ur,wt&&document.addEventListener(kt.FullScreenChange,Dr),function(){(function(oo){wt&&document.removeEventListener(kt.FullScreenChange,oo)})(Ur)}},[tr]),{enterFullScreenMode:Br,exitFullScreenMode:_r,fullScreenMode:Rn}},vs={buildPageStyles:function(){return{}},transformSize:function($t){return $t.size}},Zo={left:0,top:0},xs=function($t){var Ot=$t.currentFile,Jt=$t.defaultScale,on=$t.doc,dn=$t.enableSmoothScroll,fn=$t.initialPage,Rn=$t.initialRotation,yn=$t.initialScale,sn=$t.pageLayout,Cn=$t.pageSizes,Sn=$t.plugins,Kn=$t.renderPage,Wn=$t.scrollMode,Hn=$t.setRenderRange,sr=$t.viewMode,rr=$t.viewerState,tr=$t.onDocumentLoad,Zr=$t.onOpenFile,jr=$t.onPageChange,Mr=$t.onRotate,Br=$t.onRotatePage,_r=$t.onZoom,Ur=on.numPages,Dr=on.loadingTask.docId,oo=rt.useContext(_n).l10n,io=rt.useContext(ft),so=io.direction===$.TextDirection.RightToLeft,co=rt.useRef(),fo=rt.useRef(),No=rt.useState(fn),Co=No[0],Io=No[1],Ro=rt.useRef(null),jo=mo({getCurrentPage:function(){return Qr.current.pageIndex}}),Mo=rt.useState(Rn),Ao=Mo[0],Ho=Mo[1],Yo=qt(Ao),Xo=rt.useState(!1),Fo=Xo[0],Vo=Xo[1],qo=rt.useState(new Map),Lr=qo[0],Or=qo[1],wr=rt.useState(Wn),Pr=wr[0],Cr=wr[1],Vr=qt(Pr),Gr=rt.useState(sr),Tr=Gr[0],yr=Gr[1],Xr=qt(Tr),_i=function(Jn){var Yr=Vt(),to=rt.useState([]),po=to[0],uo=to[1];return rt.useEffect(function(){Jn.getOutline().then(function(no){if(Yr.current&&no!==null){var Do=go(no);uo(Do)}})},[]),po}(on),So=rt.useState(yn),xo=So[0],Bo=So[1],Wo=qt(xo),Qr=rt.useRef(rr),zo=rt.useRef(typeof Jt=="string"?Jt:null),_o=rt.useRef(-1),ko=rt.useRef(-1),Oo=rt.useRef(fn),vo=is({getCurrentPage:function(){return Qr.current.pageIndex},getCurrentScrollMode:function(){return Qr.current.scrollMode},jumpToPage:function(Jn){return ts(Jn)},targetRef:fo}),Jo=rt.useState(-1),us=Jo[0],As=Jo[1],os=rt.useState(0),ys=os[0],Gu=os[1],Ko=nn({doc:on});rt.useEffect(function(){return function(){Xn.clear(),mr.clear()}},[Dr]);var eu=rt.useMemo(function(){return Object.assign({},vs,sn)},[]),Xu=rt.useMemo(function(){return Array(Ur).fill(0).map(function(Jn,Yr){var to=[Cn[Yr].pageHeight,Cn[Yr].pageWidth],po=Math.abs(Ao)%180==0?{height:to[0],width:to[1]}:{height:to[1],width:to[0]},uo={height:po.height*xo,width:po.width*xo};return eu.transformSize({numPages:Ur,pageIndex:Yr,size:uo})})},[Ao,xo]),bo=$r({enableSmoothScroll:dn,isRtl:so,numberOfItems:Ur,parentRef:fo,scrollMode:Pr,setRenderRange:Hn,sizes:Xu,viewMode:Tr}),Yu=Nt(function(){!zo.current||Qr.current.fullScreenMode!==$.FullScreenMode.Normal||fn>0&&Oo.current===fn||ss(zo.current)},200);(function(Jn){var Yr=Jn.targetRef,to=Jn.onResize;vt(function(){var po=new ResizeObserver(function(no){no.forEach(function(Do){to(Do.target)})}),uo=Yr.current;if(uo)return po.observe(uo),function(){po.unobserve(uo)}},[])})({targetRef:fo,onResize:Yu});var es=function(Jn){var Yr=Jn;Sn.forEach(function(to){to.onViewerStateChange&&(Yr=to.onViewerStateChange(Yr))}),Qr.current=Yr},qu=function(){return fo.current},Qu=function(){return Qr.current},Zu=rt.useCallback(function(Jn){jo.markVisitedDestination(Jn)},[]),Ys=rt.useCallback(function(Jn){var Yr=Jn.pageIndex,to=Jn.bottomOffset,po=Jn.leftOffset,uo=Jn.scaleTo,no=fo.current,Do=Qr.current;return no&&Do?new Promise(function(ns,ga){kr(on,Yr).then(function(Ps){var rs=Ps.getViewport({scale:1}),Ts=0,lu=(typeof to=="function"?to(rs.width,rs.height):to)||0,$s=(typeof po=="function"?po(rs.width,rs.height):po)||0,ds=Do.scale;switch(uo){case $.SpecialZoomLevel.PageFit:Ts=0,$s=0,ss($.SpecialZoomLevel.PageFit);break;case $.SpecialZoomLevel.PageWidth:ds=eo(no,Cn[Yr].pageHeight,Cn[Yr].pageWidth,$.SpecialZoomLevel.PageWidth,sr,Ur),Ts=(rs.height-lu)*ds,$s*=ds,ss(ds);break;default:Ts=(rs.height-lu)*ds,$s*=ds}switch(Do.scrollMode){case $.ScrollMode.Horizontal:bo.scrollToItem(Yr,{left:$s,top:0}).then(function(){ns()});break;case $.ScrollMode.Vertical:default:bo.scrollToItem(Yr,{left:0,top:Ts}).then(function(){ns()})}})}):Promise.resolve()},[]),tu=rt.useCallback(function(Jn){return jo.markVisitedDestination(Jn),Ys(Jn)},[]),Ju=rt.useCallback(function(){var Jn=jo.getNextDestination();return Jn?Ys(Jn):Promise.resolve()},[]),_d=rt.useCallback(function(){var Jn=jo.getPreviousDestination();return Jn?Ys(Jn):Promise.resolve()},[]),_h=rt.useCallback(function(){return bo.scrollToNextItem(Qr.current.pageIndex,Zo)},[]),ts=rt.useCallback(function(Jn){return 0<=Jn&&Jn<Ur?bo.scrollToItem(Jn,Zo):Promise.resolve()},[]),_f=rt.useCallback(function(){return bo.scrollToPreviousItem(Qr.current.pageIndex,Zo)},[]),nu=rt.useCallback(function(Jn){var Yr,to;(Yr=Jn.name,to=Yr.split(/\./).pop(),to?to.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(po){var uo=new FileReader;uo.readAsArrayBuffer(Jn),uo.onload=function(){var no=new Uint8Array(uo.result);po(no)}}).then(function(po){Zr(Jn.name,po)})},[Zr]),ru=rt.useCallback(function(Jn){var Yr=Jn===$.RotateDirection.Backward?-90:90,to=Qr.current.rotation,po=to===360||to===-360?Yr:to+Yr;Ko.markNotRendered(),Ho(po),es(at(at({},Qr.current),{rotation:po})),Mr({direction:Jn,doc:on,rotation:po})},[]),qs=rt.useCallback(function(Jn,Yr){var to=Yr===$.RotateDirection.Backward?-90:90,po=Qr.current.pagesRotation,uo=(po.has(Jn)?po.get(Jn):Rn)+to,no=po.set(Jn,uo);Or(no),Vo(function(Do){return!Do}),es(at(at({},Qr.current),{pagesRotation:no,rotatedPage:Jn})),Br({direction:Yr,doc:on,pageIndex:Jn,rotation:uo}),Ko.markRendering(Jn),As(Jn)},[]),iu=rt.useCallback(function(Jn){es(at(at({},Qr.current),{scrollMode:Jn})),Cr(Jn)},[]),ou=rt.useCallback(function(Jn){es(at(at({},Qr.current),{viewMode:Jn})),yr(Jn)},[]),ss=rt.useCallback(function(Jn){var Yr=fo.current,to=Qr.current.pageIndex;if(!(to<0||to>=Ur)){var po=Cn[to].pageHeight,uo=Cn[to].pageWidth,no=Yr?typeof Jn=="string"?eo(Yr,po,uo,Jn,Qr.current.viewMode,Ur):Jn:1;zo.current=typeof Jn=="string"?Jn:null,no!==Qr.current.scale&&(Gu(function(Do){return Do+1}),Ko.markNotRendered(),Bo(no),_r({doc:on,scale:no}),es(at(at({},Qr.current),{scale:no})))}},[]),ep=rt.useCallback(function(Jn){vo.enterFullScreenMode(Jn)},[]),tp=rt.useCallback(function(){vo.exitFullScreenMode()},[]);rt.useEffect(function(){es(at(at({},Qr.current),{fullScreenMode:vo.fullScreenMode}))},[vo.fullScreenMode]),rt.useEffect(function(){var Jn={enterFullScreenMode:ep,exitFullScreenMode:tp,getPagesContainer:qu,getViewerState:Qu,jumpToDestination:tu,jumpToNextDestination:Ju,jumpToPreviousDestination:_d,jumpToNextPage:_h,jumpToPreviousPage:_f,jumpToPage:ts,openFile:nu,rotate:ru,rotatePage:qs,setViewerState:es,switchScrollMode:iu,switchViewMode:ou,zoom:ss};return Sn.forEach(function(Yr){Yr.install&&Yr.install(Jn)}),function(){Sn.forEach(function(Yr){Yr.uninstall&&Yr.uninstall(Jn)})}},[Dr]),rt.useEffect(function(){tr({doc:on,file:Ot}),Sn.forEach(function(Jn){Jn.onDocumentLoad&&Jn.onDocumentLoad({doc:on,file:Ot})})},[Dr]);var Qs,Zs,Js,su=bo.boundingClientRect;Qs=function(){fn&&ts(fn)},Zs=su.height>0&&su.width>0,Js=rt.useRef(!1),vt(function(){Zs&&!Js.current&&(Js.current=!0,Qs())},[Qs,Zs]),vt(function(){var Jn=Qr.current.pageIndex;Jn>-1&&Vr!==Pr&&bo.scrollToItem(Jn,Zo).then(function(){vo.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(dn||Ko.markNotRendered(),_o.current=-1)})},[Pr]),vt(function(){var Jn=Qr.current.pageIndex;Jn>-1&&Yo!==Ao&&bo.scrollToItem(Jn,Zo)},[Ao]),vt(function(){Wo!=0&&Wo!=Qr.current.scale&&bo.zoom(Qr.current.scale/Wo,Qr.current.pageIndex).then(function(){vo.fullScreenMode===$.FullScreenMode.EnteredCompletely&&(ko.current=-1)})},[xo]),vt(function(){if(Xr!==Qr.current.viewMode){var Jn=bo.startPage,Yr=bo.endPage,to=bo.virtualItems;Ko.markNotRendered(),Ko.setRange(Jn,Yr);for(var po=function(no){var Do=to.find(function(ns){return ns.index===no});Do&&Ko.setVisibility(no,Do.visibility)},uo=Jn;uo<=Yr;uo++)po(uo);na()}},[Tr]),vt(function(){var Jn=Qr.current.pageIndex;Jn>-1&&Xr!==Tr&&bo.scrollToItem(Jn,Zo)},[Tr]),vt(function(){var Jn=Qr.current.pageIndex;Jn>0&&Jn===fn&&Oo.current===fn&&zo.current&&(Oo.current=-1,ss(zo.current))},[Co]),rt.useEffect(function(){bo.isSmoothScrolling||Ro.current!==null&&Ro.current===Co||(Ro.current=Co,jr({currentPage:Co,doc:on}))},[Co,bo.isSmoothScrolling]),rt.useEffect(function(){vo.fullScreenMode===$.FullScreenMode.Entering&&Qr.current.scrollMode===$.ScrollMode.Page&&(_o.current=Qr.current.pageIndex),vo.fullScreenMode===$.FullScreenMode.EnteredCompletely&&Qr.current.scrollMode===$.ScrollMode.Page&&dn&&(_o.current=-1),vo.fullScreenMode===$.FullScreenMode.EnteredCompletely&&zo.current&&(ko.current=Qr.current.pageIndex,ss(zo.current))},[vo.fullScreenMode]),rt.useEffect(function(){if(vo.fullScreenMode!==$.FullScreenMode.Entering&&vo.fullScreenMode!==$.FullScreenMode.Exitting&&!bo.isSmoothScrolling){var Jn=bo.startPage,Yr=bo.endPage,to=bo.maxVisbilityIndex,po=bo.virtualItems,uo=to,no=vo.fullScreenMode===$.FullScreenMode.Entered||vo.fullScreenMode===$.FullScreenMode.EnteredCompletely;if(!(no&&uo!==_o.current&&_o.current>-1||no&&uo!==ko.current&&ko.current>-1)){Io(uo),es(at(at({},Qr.current),{pageIndex:uo})),Ko.setRange(Jn,Yr);for(var Do=function(ga){var Ps=po.find(function(rs){return rs.index===ga});Ps&&Ko.setVisibility(ga,Ps.visibility)},ns=Jn;ns<=Yr;ns++)Do(ns);na()}}},[bo.startPage,bo.endPage,bo.isSmoothScrolling,bo.maxVisbilityIndex,vo.fullScreenMode,Fo,Ao,xo]);var np=rt.useCallback(function(Jn){Ko.markRendered(Jn),na()},[ys]),na=function(){var Jn=Ko.getHighestPriorityPage();Jn>-1&&Ko.isInRange(Jn)&&(Ko.markRendering(Jn),As(Jn))},rp=function(Jn){var Yr=Co-1,to=Co+1;switch(Jn){case"FirstPage":ts(0);break;case"LastPage":ts(Ur-1);break;case"NextPage":to<Ur&&ts(to);break;case"PrevPage":Yr>=0&&ts(Yr)}},ip=rt.useCallback(function(){var Jn=bo.virtualItems,Yr=[];switch(Tr){case $.ViewMode.DualPage:Yr=jn(Jn,2);break;case $.ViewMode.DualPageWithCover:Jn.length&&(Yr=Jn[0].index===0?[[Jn[0]]].concat(jn(Jn.slice(1),2)):jn(Jn,2));break;case $.ViewMode.SinglePage:default:Yr=jn(Jn,1)}var to=oo&&oo.core?oo.core.pageLabel:"Page {{pageIndex}}",po={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:co,style:{height:"100%"}},children:rt.createElement(rt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:gt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Pr===$.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":so,"rpv-core__inner-pages--single":Pr===$.ScrollMode.Page,"rpv-core__inner-pages--vertical":Pr===$.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Pr===$.ScrollMode.Wrapped}),ref:fo,style:{height:"100%",position:"relative"}},children:rt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Co),style:Object.assign({"--scale-factor":xo},bo.getContainerStyles())},Yr.map(function(uo){return rt.createElement("div",{className:gt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Pr===$.ScrollMode.Page}),style:bo.getItemContainerStyles(uo[0]),key:"".concat(uo[0].index,"-").concat(Tr)},uo.map(function(no){var Do=Tr===$.ViewMode.DualPageWithCover&&(no.index===0||Ur%2==0&&no.index===Ur-1);return rt.createElement("div",{"aria-label":to.replace("{{pageIndex}}","".concat(no.index+1)),className:gt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Tr===$.ViewMode.DualPage&&no.index%2==0,"rpv-core__inner-page--dual-odd":Tr===$.ViewMode.DualPage&&no.index%2==1,"rpv-core__inner-page--dual-cover":Do,"rpv-core__inner-page--dual-cover-even":Tr===$.ViewMode.DualPageWithCover&&!Do&&no.index%2==0,"rpv-core__inner-page--dual-cover-odd":Tr===$.ViewMode.DualPageWithCover&&!Do&&no.index%2==1,"rpv-core__inner-page--single":Tr===$.ViewMode.SinglePage&&Pr===$.ScrollMode.Page}),role:"region",key:"".concat(no.index,"-").concat(Tr),style:Object.assign({},bo.getItemStyles(no),eu.buildPageStyles({numPages:Ur,pageIndex:no.index,scrollMode:Pr,viewMode:Tr}))},rt.createElement(Fr,{doc:on,measureRef:no.measureRef,outlines:_i,pageIndex:no.index,pageRotation:Lr.has(no.index)?Lr.get(no.index):0,pageSize:Cn[no.index],plugins:Sn,renderPage:Kn,renderQueueKey:ys,rotation:Ao,scale:xo,shouldRender:us===no.index,viewMode:Tr,onExecuteNamedAction:rp,onJumpFromLinkAnnotation:Zu,onJumpToDest:tu,onRenderCompleted:np,onRotatePage:qs}))}))}))}};return Sn.forEach(function(uo){uo.renderViewer&&(po=uo.renderViewer({containerRef:co,doc:on,pagesContainerRef:fo,pagesRotation:Lr,pageSizes:Cn,rotation:Ao,slot:po,themeContext:io,jumpToPage:ts,openFile:nu,rotate:ru,rotatePage:qs,switchScrollMode:iu,switchViewMode:ou,zoom:ss}))}),po},[Sn,bo]),au=rt.useCallback(function(Jn){return rt.createElement("div",at({},Jn.attrs,{style:Jn.attrs&&Jn.attrs.style?Jn.attrs.style:{}}),Jn.children,Jn.subSlot&&au(Jn.subSlot))},[]);return au(ip())},Ks=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Gs=function($t){var Ot=$t.defaultScale,Jt=$t.doc,on=$t.render,dn=$t.scrollMode,fn=$t.viewMode,Rn=rt.useRef(),yn=rt.useState({pageSizes:[],scale:0}),sn=yn[0],Cn=yn[1];return rt.useLayoutEffect(function(){var Sn=Array(Jt.numPages).fill(0).map(function(Kn,Wn){return new Promise(function(Hn,sr){kr(Jt,Wn).then(function(rr){var tr=rr.getViewport({scale:1});Hn({pageHeight:tr.height,pageWidth:tr.width,rotation:tr.rotation})})})});Promise.all(Sn).then(function(Kn){var Wn=Rn.current;if(Wn&&Kn.length!==0){var Hn=Kn[0].pageWidth,sr=Kn[0].pageHeight,rr=Wn.parentElement,tr=(rr.clientWidth-45)/Hn,Zr=(rr.clientHeight-45)/sr,jr=tr;switch(dn){case $.ScrollMode.Horizontal:jr=Math.min(tr,Zr);break;case $.ScrollMode.Vertical:default:jr=tr}var Mr,Br,_r=Ot?typeof Ot=="string"?eo(rr,sr,Hn,Ot,fn,Jt.numPages):Ot:(Mr=jr,(Br=Ks.findIndex(function(Ur){return Ur>=Mr}))===-1||Br===0?Mr:Ks[Br-1]);Cn({pageSizes:Kn,scale:_r})}})},[Jt.loadingTask.docId]),sn.pageSizes.length===0||sn.scale===0?rt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Rn},rt.createElement(xt,null)):on(sn.pageSizes,sn.scale)},ls=function(){},cs=function($t){function Ot(Jt,on){var dn=$t.call(this)||this;return dn.verifyPassword=Jt,dn.passwordStatus=on,dn}return st(Ot,$t),Ot}(ls),Uu=function($t){var Ot=$t.passwordStatus,Jt=$t.renderProtectedView,on=$t.verifyPassword,dn=$t.onDocumentAskPassword,fn=rt.useContext(_n).l10n,Rn=rt.useState(""),yn=Rn[0],sn=Rn[1],Cn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,Sn=function(){return on(yn)};return rt.useEffect(function(){dn&&dn({verifyPassword:on})},[]),Jt?Jt({passwordStatus:Ot,verifyPassword:on}):rt.createElement("div",{className:"rpv-core__asking-password-wrapper"},rt.createElement("div",{className:gt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Cn})},rt.createElement("div",{className:"rpv-core__asking-password-message"},Ot===$.PasswordStatus.RequiredPassword&&fn.core.askingPassword.requirePasswordToOpen,Ot===$.PasswordStatus.WrongPassword&&fn.core.wrongPassword.tryAgain),rt.createElement("div",{className:"rpv-core__asking-password-body"},rt.createElement("div",{className:gt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Cn,"rpv-core__asking-password-input--rtl":Cn})},rt.createElement(yt,{testId:"core__asking-password-input",type:"password",value:yn,onChange:sn,onKeyDown:function(Kn){Kn.key==="Enter"&&Sn()}})),rt.createElement(ct,{onClick:Sn},fn.core.askingPassword.submit))))},Jl=function($t){function Ot(Jt){var on=$t.call(this)||this;return on.doc=Jt,on}return st(Ot,$t),Ot}(ls),_c=function($t){function Ot(Jt){var on=$t.call(this)||this;return on.error=Jt,on}return st(Ot,$t),Ot}(ls),Xs=function($t){function Ot(Jt){var on=$t.call(this)||this;return on.percentages=Jt,on}return st(Ot,$t),Ot}(ls),Vu=function($t){var Ot=$t.characterMap,Jt=$t.file,on=$t.httpHeaders,dn=$t.render,fn=$t.renderError,Rn=$t.renderLoader,yn=$t.renderProtectedView,sn=$t.transformGetDocumentParams,Cn=$t.withCredentials,Sn=$t.onDocumentAskPassword,Kn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,Wn=rt.useState(new Xs(0)),Hn=Wn[0],sr=Wn[1],rr=rt.useRef(""),tr=Vt();return rt.useEffect(function(){rr.current="",sr(new Xs(0));var Zr=new it.PDFWorker({name:"PDFWorker_".concat(Date.now())}),jr=Object.assign({httpHeaders:on,withCredentials:Cn,worker:Zr},typeof Jt=="string"?{url:Jt}:{data:Jt},Ot?{cMapUrl:Ot.url,cMapPacked:Ot.isCompressed}:{}),Mr=sn?sn(jr):jr,Br=it.getDocument(Mr);return Br.onPassword=function(_r,Ur){switch(Ur){case it.PasswordResponses.NEED_PASSWORD:tr.current&&sr(new cs(_r,$.PasswordStatus.RequiredPassword));break;case it.PasswordResponses.INCORRECT_PASSWORD:tr.current&&sr(new cs(_r,$.PasswordStatus.WrongPassword))}},Br.onProgress=function(_r){var Ur=_r.total>0?Math.min(100,100*_r.loaded/_r.total):100;tr.current&&rr.current===""&&sr(new Xs(Ur))},Br.promise.then(function(_r){rr.current=_r.loadingTask.docId,tr.current&&sr(new Jl(_r))},function(_r){return tr.current&&!Zr.destroyed&&sr(new _c({message:_r.message||"Cannot load document",name:_r.name}))}),function(){Br.destroy(),Zr.destroy()}},[Jt]),Hn instanceof cs?rt.createElement(Uu,{passwordStatus:Hn.passwordStatus,renderProtectedView:yn,verifyPassword:Hn.verifyPassword,onDocumentAskPassword:Sn}):Hn instanceof Jl?dn(Hn.doc):Hn instanceof _c?fn?fn(Hn.error):rt.createElement("div",{className:gt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Kn})},rt.createElement("div",{className:"rpv-core__doc-error-text"},Hn.error.message)):rt.createElement("div",{"data-testid":"core__doc-loading",className:gt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Kn})},Rn?Rn(Hn.percentages):rt.createElement(xt,null))},Wu=function($t,Ot){var Jt=rt.useMemo(function(){return $t==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":$t},[]),on=rt.useState(Jt),dn=on[0],fn=on[1],Rn=qt(dn);return rt.useEffect(function(){if($t==="auto"){var yn=window.matchMedia("(prefers-color-scheme: dark)"),sn=function(Cn){fn(Cn.matches?"dark":"light")};return yn.addEventListener("change",sn),function(){return yn.removeEventListener("change",sn)}}},[]),rt.useEffect(function(){dn!==Rn&&Ot&&Ot(dn)},[dn]),rt.useEffect(function(){$t!==dn&&fn($t)},[$t]),{currentTheme:dn,setCurrentTheme:fn}},Ku=function($t){return{startPage:$t.startPage-3,endPage:$t.endPage+3}};$.Button=function($t){var Ot=$t.children,Jt=$t.testId,on=$t.onClick,dn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,fn=Jt?{"data-testid":Jt}:{};return rt.createElement("button",at({className:gt({"rpv-core__button":!0,"rpv-core__button--rtl":dn}),type:"button",onClick:on},fn),Ot)},$.Icon=pt,$.LazyRender=function($t){var Ot=$t.attrs,Jt=$t.children,on=$t.testId,dn=rt.useState(!1),fn=dn[0],Rn=dn[1],yn=on?at(at({},Ot),{"data-testid":on}):Ot,sn=dt({once:!0,onVisibilityChanged:function(Cn){Cn.isVisible&&Rn(!0)}});return rt.createElement("div",at({ref:sn},yn),fn&&Jt)},$.LocalizationContext=_n,$.Menu=function($t){var Ot=$t.children,Jt=rt.useRef(),on=rt.useRef([]),dn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,fn=function(yn){if(Jt.current)switch(yn.key){case"Tab":yn.preventDefault();break;case"ArrowDown":yn.preventDefault(),Rn(function(sn,Cn){return Cn+1});break;case"ArrowUp":yn.preventDefault(),Rn(function(sn,Cn){return Cn-1});break;case"End":yn.preventDefault(),Rn(function(sn,Cn){return sn.length-1});break;case"Home":yn.preventDefault(),Rn(function(sn,Cn){return 0})}},Rn=function(yn){if(Jt.current){var sn=on.current,Cn=sn.findIndex(function(Kn){return Kn.getAttribute("tabindex")==="0"}),Sn=Math.min(sn.length-1,Math.max(0,yn(sn,Cn)));Cn>=0&&Cn<=sn.length-1&&sn[Cn].setAttribute("tabindex","-1"),sn[Sn].setAttribute("tabindex","0"),sn[Sn].focus()}};return vt(function(){var yn=Jt.current;if(yn){var sn=function(Cn){var Sn=[];return Cn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Kn){if(Kn instanceof HTMLElement){var Wn=Kn.parentElement;(Wn===Cn||window.getComputedStyle(Wn).display!=="none")&&Sn.push(Kn)}}),Sn}(yn);on.current=sn}},[]),vt(function(){return document.addEventListener("keydown",fn),function(){document.removeEventListener("keydown",fn)}},[]),rt.createElement("div",{ref:Jt,"aria-orientation":"vertical",className:gt({"rpv-core__menu":!0,"rpv-core__menu--rtl":dn}),role:"menu",tabIndex:0},Ot)},$.MenuDivider=function(){return rt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},$.MenuItem=function($t){var Ot=$t.checked,Jt=Ot!==void 0&&Ot,on=$t.children,dn=$t.icon,fn=dn===void 0?null:dn,Rn=$t.isDisabled,yn=Rn!==void 0&&Rn,sn=$t.testId,Cn=$t.onClick,Sn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,Kn=sn?{"data-testid":sn}:{};return rt.createElement("button",at({className:gt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":yn,"rpv-core__menu-item--ltr":!Sn,"rpv-core__menu-item--rtl":Sn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Cn},Kn),rt.createElement("div",{className:gt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Sn,"rpv-core__menu-item-icon--rtl":Sn})},fn),rt.createElement("div",{className:gt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Sn,"rpv-core__menu-item-label--rtl":Sn})},on),rt.createElement("div",{className:gt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Sn,"rpv-core__menu-item-check--rtl":Sn})},Jt&&rt.createElement(ut,null)))},$.MinimalButton=function($t){var Ot=$t.ariaLabel,Jt=Ot===void 0?"":Ot,on=$t.ariaKeyShortcuts,dn=on===void 0?"":on,fn=$t.children,Rn=$t.isDisabled,yn=Rn!==void 0&&Rn,sn=$t.isSelected,Cn=sn!==void 0&&sn,Sn=$t.testId,Kn=$t.onClick,Wn=rt.useContext(ft).direction===$.TextDirection.RightToLeft,Hn=Sn?{"data-testid":Sn}:{};return rt.createElement("button",at({"aria-label":Jt},dn&&{"aria-keyshortcuts":dn},yn&&{"aria-disabled":!0},{className:gt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":yn,"rpv-core__minimal-button--rtl":Wn,"rpv-core__minimal-button--selected":Cn}),type:"button",onClick:Kn},Hn),fn)},$.Modal=function($t){var Ot=$t.ariaControlsSuffix,Jt=$t.closeOnClickOutside,on=$t.closeOnEscape,dn=$t.content,fn=$t.isOpened,Rn=fn!==void 0&&fn,yn=$t.target,sn=Ot||"".concat(Lt());return rt.createElement(zt,{target:yn?function(Cn,Sn){return rt.createElement("div",{"aria-expanded":Sn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(sn)},yn(Cn,Sn))}:null,content:function(Cn){return rt.createElement(Rt,null,rt.createElement(St,{ariaControlsSuffix:sn,closeOnClickOutside:Jt,closeOnEscape:on,onToggle:Cn},dn(Cn)))},isOpened:Rn})},$.Popover=function($t){var Ot=$t.ariaHasPopup,Jt=Ot===void 0?"dialog":Ot,on=$t.ariaControlsSuffix,dn=$t.closeOnClickOutside,fn=$t.closeOnEscape,Rn=$t.content,yn=$t.lockScroll,sn=yn===void 0||yn,Cn=$t.offset,Sn=$t.position,Kn=$t.target,Wn=It(!1),Hn=Wn.opened,sr=Wn.toggle,rr=rt.useRef(),tr=rt.useMemo(function(){return on||"".concat(Lt())},[]);return rt.createElement("div",{ref:rr,"aria-expanded":Hn?"true":"false","aria-haspopup":Jt,"aria-controls":"rpv-core__popver-body-".concat(tr)},Kn(sr,Hn),Hn&&rt.createElement(rt.Fragment,null,sn&&rt.createElement(An,{closeOnEscape:fn,onClose:sr}),rt.createElement(qn,{ariaControlsSuffix:tr,closeOnClickOutside:dn,offset:Cn,position:Sn,targetRef:rr,onClose:sr},Rn(sr))))},$.PrimaryButton=ct,$.ProgressBar=function($t){var Ot=$t.progress,Jt=rt.useContext(ft).direction===$.TextDirection.RightToLeft;return rt.createElement("div",{className:gt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Jt})},rt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Ot,"%")}},Ot,"%"))},$.Separator=function(){return rt.createElement("div",{className:"rpv-core__separator"})},$.Spinner=xt,$.Splitter=function($t){var Ot=$t.constrain,Jt=rt.useContext(ft).direction===$.TextDirection.RightToLeft,on=rt.useRef(),dn=rt.useRef(),fn=rt.useRef(),Rn=rt.useRef(0),yn=rt.useRef(0),sn=rt.useRef(0),Cn=rt.useRef(0),Sn={capture:!0},Kn=function(Hn){var sr=on.current,rr=dn.current,tr=fn.current;if(sr&&rr&&tr){var Zr=Cn.current,jr=Hn.clientX-Rn.current,Mr=sn.current+(Jt?-jr:jr),Br=sr.parentElement.getBoundingClientRect().width,_r=100*Mr/Br;if(sr.classList.add("rpv-core__splitter--resizing"),Ot){var Ur=Br-Mr-Zr;if(!Ot({firstHalfPercentage:_r,firstHalfSize:Mr,secondHalfPercentage:100*Ur/Br,secondHalfSize:Ur}))return}rr.style.width="".concat(_r,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),rr.classList.add("rpv-core__splitter-sibling--resizing"),tr.classList.add("rpv-core__splitter-sibling--resizing")}},Wn=function(Hn){var sr=on.current,rr=dn.current,tr=fn.current;sr&&rr&&tr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),sr.classList.remove("rpv-core__splitter--resizing"),rr.classList.remove("rpv-core__splitter-sibling--resizing"),tr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Kn,Sn),document.removeEventListener("mouseup",Wn,Sn))};return rt.useEffect(function(){var Hn=on.current;Hn&&(Cn.current=Hn.getBoundingClientRect().width,dn.current=Hn.previousElementSibling,fn.current=Hn.nextElementSibling)},[]),rt.createElement("div",{ref:on,className:"rpv-core__splitter",onMouseDown:function(Hn){var sr=dn.current;sr&&(Rn.current=Hn.clientX,yn.current=Hn.clientY,sn.current=sr.getBoundingClientRect().width,document.addEventListener("mousemove",Kn,Sn),document.addEventListener("mouseup",Wn,Sn))}})},$.TextBox=yt,$.ThemeContext=ft,$.Tooltip=function($t){var Ot=$t.ariaControlsSuffix,Jt=$t.content,on=$t.offset,dn=$t.position,fn=$t.target,Rn=It(!1),yn=Rn.opened,sn=Rn.toggle,Cn=rt.useRef(),Sn=rt.useRef(),Kn=rt.useMemo(function(){return Ot||"".concat(Lt())},[]);Ct(function(){Cn.current&&document.activeElement&&Cn.current.contains(document.activeElement)&&Hn()});var Wn=function(){sn($.ToggleStatus.Open)},Hn=function(){sn($.ToggleStatus.Close)};return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:Cn,"aria-describedby":"rpv-core__tooltip-body-".concat(Kn),onBlur:function(sr){sr.relatedTarget instanceof HTMLElement&&sr.currentTarget.parentElement&&sr.currentTarget.parentElement.contains(sr.relatedTarget)?Sn.current&&(Sn.current.style.display="none"):Hn()},onFocus:Wn,onMouseEnter:Wn,onMouseLeave:Hn},fn),yn&&rt.createElement(hn,{ariaControlsSuffix:Kn,contentRef:Sn,offset:on,position:dn,targetRef:Cn},Jt()))},$.Viewer=function($t){var Ot=$t.characterMap,Jt=$t.defaultScale,on=$t.enableSmoothScroll,dn=on===void 0||on,fn=$t.fileUrl,Rn=$t.httpHeaders,yn=Rn===void 0?{}:Rn,sn=$t.initialPage,Cn=sn===void 0?0:sn,Sn=$t.pageLayout,Kn=$t.initialRotation,Wn=Kn===void 0?0:Kn,Hn=$t.localization,sr=$t.plugins,rr=sr===void 0?[]:sr,tr=$t.renderError,Zr=$t.renderLoader,jr=$t.renderPage,Mr=$t.renderProtectedView,Br=$t.scrollMode,_r=Br===void 0?$.ScrollMode.Vertical:Br,Ur=$t.setRenderRange,Dr=Ur===void 0?Ku:Ur,oo=$t.transformGetDocumentParams,io=$t.theme,so=io===void 0?{direction:$.TextDirection.LeftToRight,theme:"light"}:io,co=$t.viewMode,fo=co===void 0?$.ViewMode.SinglePage:co,No=$t.withCredentials,Co=No!==void 0&&No,Io=$t.onDocumentAskPassword,Ro=$t.onDocumentLoad,jo=Ro===void 0?function(){}:Ro,Mo=$t.onPageChange,Ao=Mo===void 0?function(){}:Mo,Ho=$t.onRotate,Yo=Ho===void 0?function(){}:Ho,Xo=$t.onRotatePage,Fo=Xo===void 0?function(){}:Xo,Vo=$t.onSwitchTheme,qo=Vo===void 0?function(){}:Vo,Lr=$t.onZoom,Or=Lr===void 0?function(){}:Lr,wr=rt.useState({data:fn,name:typeof fn=="string"?fn:"",shouldLoad:!1}),Pr=wr[0],Cr=wr[1],Vr=function(_o,ko){Cr({data:ko,name:_o,shouldLoad:!0})},Gr=rt.useState(!1),Tr=Gr[0],yr=Gr[1],Xr=qt(Pr);rt.useEffect(function(){var _o,ko,Oo,vo;_o=Xr.data,vo=typeof(ko=fn),(Oo=typeof _o)=="string"&&vo==="string"&&_o===ko||Oo==="object"&&vo==="object"&&_o.length===ko.length&&_o.every(function(Jo,us){return Jo===ko[us]})||Cr({data:fn,name:typeof fn=="string"?fn:"",shouldLoad:Tr})},[fn,Tr]);var _i=dt({onVisibilityChanged:function(_o){yr(_o.isVisible),_o.isVisible&&Cr(function(ko){return Object.assign({},ko,{shouldLoad:!0})})}}),So=typeof so=="string"?{direction:$.TextDirection.LeftToRight,theme:so}:so,xo=rt.useState(Hn||tn),Bo=xo[0],Wo=xo[1],Qr={l10n:Bo,setL10n:Wo},zo=Object.assign({},{direction:So.direction},Wu(So.theme||"light",qo));return rt.useEffect(function(){Hn&&Wo(Hn)},[Hn]),rt.createElement(_n.Provider,{value:Qr},rt.createElement(ft.Provider,{value:zo},rt.createElement("div",{ref:_i,className:"rpv-core__viewer rpv-core__viewer--".concat(zo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Pr.shouldLoad&&rt.createElement(Vu,{characterMap:Ot,file:Pr.data,httpHeaders:yn,render:function(_o){return rt.createElement(Gs,{defaultScale:Jt,doc:_o,render:function(ko,Oo){return rt.createElement(xs,{currentFile:{data:Pr.data,name:Pr.name},defaultScale:Jt,doc:_o,enableSmoothScroll:dn,initialPage:Cn,initialRotation:Wn,initialScale:Oo,pageLayout:Sn,pageSizes:ko,plugins:rr,renderPage:jr,scrollMode:_r,setRenderRange:Dr,viewMode:fo,viewerState:{file:Pr,fullScreenMode:$.FullScreenMode.Normal,pageIndex:-1,pageHeight:ko[0].pageHeight,pageWidth:ko[0].pageWidth,pagesRotation:new Map,rotation:Wn,scale:Oo,scrollMode:_r,viewMode:fo},onDocumentLoad:jo,onOpenFile:Vr,onPageChange:Ao,onRotate:Yo,onRotatePage:Fo,onZoom:Or})},scrollMode:_r,viewMode:fo})},renderError:tr,renderLoader:Zr,renderProtectedView:Mr,transformGetDocumentParams:oo,withCredentials:Co,onDocumentAskPassword:Io}))))},$.Worker=function($t){var Ot=$t.children,Jt=$t.workerUrl;return it.GlobalWorkerOptions.workerSrc=Jt,rt.createElement(rt.Fragment,null,Ot)},$.chunk=jn,$.classNames=gt,$.createStore=function($t){var Ot=$t||{},Jt={},on=function(fn,Rn){var yn;Ot=at(at({},Ot),((yn={})[fn]=Rn,yn)),(Jt[fn]||[]).forEach(function(sn){return sn(Ot[fn])})},dn=function(fn){return Ot[fn]};return{subscribe:function(fn,Rn){Jt[fn]=(Jt[fn]||[]).concat(Rn)},unsubscribe:function(fn,Rn){Jt[fn]=(Jt[fn]||[]).filter(function(yn){return yn!==Rn})},update:function(fn,Rn){on(fn,Rn)},updateCurrentValue:function(fn,Rn){var yn=dn(fn);yn!==void 0&&on(fn,Rn(yn))},get:function(fn){return dn(fn)}}},$.getDestination=Rr,$.getPage=kr,$.isFullScreenEnabled=Mt,$.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},$.useDebounceCallback=Nt,$.useIntersectionObserver=dt,$.useIsMounted=Vt,$.useIsomorphicLayoutEffect=vt,$.usePrevious=qt,$.useRenderQueue=nn})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$e=t$e(reactExports),a$e=function($){var _e=$.files,et=n$e.useRef(),tt=n$e.useContext(e$e.LocalizationContext).l10n,nt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,rt=n$e.useRef([]),it=tt&&tt.attachment?tt.attachment.clickToDownload:"Click to download",ot=function(st){var lt=et.current,at=[].slice.call(lt.getElementsByClassName("rpv-attachment__item"));if(at.length!==0){at.forEach(function(gt){return gt.setAttribute("tabindex","-1")});var mt=document.activeElement,ft=at[Math.min(at.length-1,Math.max(0,st(at,mt)))];ft.setAttribute("tabindex","0"),ft.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var st=et.current;if(st){var lt=[].slice.call(st.getElementsByClassName("rpv-attachment__item"));if(rt.current=lt,lt.length>0){var at=lt[0];at.focus(),at.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":nt}),ref:et,tabIndex:-1,onKeyDown:function(st){switch(st.key){case"ArrowDown":st.preventDefault(),ot(function(lt,at){return lt.indexOf(at)+1});break;case"ArrowUp":st.preventDefault(),ot(function(lt,at){return lt.indexOf(at)-1});break;case"End":st.preventDefault(),ot(function(lt,at){return lt.length-1});break;case"Home":st.preventDefault(),ot(function(lt,at){return 0})}}},_e.map(function(st){return n$e.createElement("button",{className:"rpv-attachment__item",key:st.fileName,tabIndex:-1,title:it,type:"button",onClick:function(){return lt=st.fileName,at=st.data,mt=typeof at=="string"?"":URL.createObjectURL(new Blob([at],{type:""})),(ft=document.createElement("a")).style.display="none",ft.href=mt||lt,ft.setAttribute("download",function(gt){var vt=gt.split("/").pop();return vt?vt.split("#")[0].split("?")[0]:gt}(lt)),document.body.appendChild(ft),ft.click(),document.body.removeChild(ft),void(mt&&URL.revokeObjectURL(mt));var lt,at,mt,ft}},st.fileName)}))},r$e=function($){var _e=$.doc,et=n$e.useContext(e$e.LocalizationContext).l10n,tt=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,nt=et&&et.attachment?et.attachment.noAttachment:"There is no attachment",rt=n$e.useState({files:[],isLoaded:!1}),it=rt[0],ot=rt[1];return n$e.useEffect(function(){_e.getAttachments().then(function(st){var lt=st?Object.keys(st).map(function(at){return{data:st[at].content,fileName:st[at].filename}}):[];ot({files:lt,isLoaded:!0})})},[_e]),it.isLoaded?it.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":tt})},nt):n$e.createElement(a$e,{files:it.files}):n$e.createElement(e$e.Spinner,null)},c$e=function($){var _e=$.store,et=n$e.useState(_e.get("doc")),tt=et[0],nt=et[1],rt=function(it){nt(it)};return n$e.useEffect(function(){return _e.subscribe("doc",rt),function(){_e.unsubscribe("doc",rt)}},[]),tt?n$e.createElement(r$e,{doc:tt}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var $=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function(_e){$.update("doc",_e.doc)},Attachments:function(){return n$e.createElement(c$e,{store:$})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function($){var _e=$.bookmark,et=$.depth,tt=$.doc,nt=$.index,rt=$.isBookmarkExpanded,it=$.numberOfSiblings,ot=$.pathFromRoot,st=$.renderBookmarkItem,lt=$.store,at=ot?"".concat(ot,".").concat(nt):"".concat(nt),mt=o$d.useMemo(function(){return function(wt){var kt=wt.count,Mt=wt.items;if(kt>=0)return!1;var Dt=Mt.length;if(Dt===0)return!1;for(var Ht=Mt.concat([]);Ht.length>0;){var Nt=Ht.shift(),Vt=Nt.items;Nt.count&&Vt&&Nt.count>0&&Vt.length>0&&(Dt+=Vt.length,Ht=Ht.concat(Vt))}return Math.abs(kt)===Dt}(_e)},[_e]),ft=lt.get("bookmarkExpandedMap"),gt=rt?rt({bookmark:_e,doc:tt,depth:et,index:nt}):ft.has(at)?ft.get(at):!mt,vt=o$d.useState(gt),dt=vt[0],pt=vt[1],ut=_e.items&&_e.items.length>0,ct=function(){var wt=!dt;lt.updateCurrentValue("bookmarkExpandedMap",function(kt){return kt.set(at,wt)}),pt(wt)},xt=function(){var wt=_e.dest,kt=lt.get("jumpToDestination");e$d.getDestination(tt,wt).then(function(Mt){kt&&kt(n$d({label:_e.title},Mt))})},yt=function(){ut&&_e.dest&&xt()},ht=function(){!ut&&_e.dest&&xt()},bt=function(wt,kt){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*et,"rem")},onClick:wt},kt)},Tt=function(wt,kt){return ut?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(et,"-").concat(nt),onClick:ct},dt?wt:kt):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},Pt=function(wt){return _e.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:_e.url,rel:"noopener noreferrer nofollow",target:_e.newWindow?"_blank":""},_e.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":_e.title,onClick:wt},_e.title)};return o$d.createElement("li",{"aria-expanded":dt?"true":"false","aria-label":_e.title,"aria-level":et+1,"aria-posinset":nt+1,"aria-setsize":it,role:"treeitem",tabIndex:-1},st?st({bookmark:_e,depth:et,hasSubItems:ut,index:nt,isExpanded:dt,path:at,defaultRenderItem:bt,defaultRenderTitle:Pt,defaultRenderToggle:Tt,onClickItem:ht,onClickTitle:yt,onToggleSubItems:ct}):bt(ht,o$d.createElement(o$d.Fragment,null,Tt(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),Pt(yt))),ut&&dt&&o$d.createElement(m$9,{bookmarks:_e.items,depth:et+1,doc:tt,isBookmarkExpanded:rt,isRoot:!1,pathFromRoot:at,renderBookmarkItem:st,store:lt}))},m$9=function($){var _e=$.bookmarks,et=$.depth,tt=et===void 0?0:et,nt=$.doc,rt=$.isBookmarkExpanded,it=$.isRoot,ot=$.pathFromRoot,st=$.renderBookmarkItem,lt=$.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:it?"tree":"group",tabIndex:-1},_e.map(function(at,mt){return o$d.createElement(c$d,{bookmark:at,depth:tt,doc:nt,index:mt,isBookmarkExpanded:rt,key:mt,numberOfSiblings:_e.length,pathFromRoot:ot,renderBookmarkItem:st,store:lt})}))};(function($){$[$.Collapse=0]="Collapse",$[$.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function($){var _e=$.bookmarks,et=$.doc,tt=$.isBookmarkExpanded,nt=$.renderBookmarkItem,rt=$.store,it=o$d.useRef(),ot=function(mt){var ft=it.current;if(ft&&mt.target instanceof HTMLElement&&ft.contains(mt.target))switch(mt.key){case"ArrowDown":mt.preventDefault(),lt(function(gt,vt){return gt.indexOf(vt)+1});break;case"ArrowLeft":mt.preventDefault(),at(r$d.Collapse);break;case"ArrowRight":mt.preventDefault(),at(r$d.Expand);break;case"ArrowUp":mt.preventDefault,lt(function(gt,vt){return gt.indexOf(vt)-1});break;case"End":mt.preventDefault(),lt(function(gt,vt){return gt.length-1});break;case" ":case"Enter":case"Space":mt.preventDefault(),st();break;case"Home":mt.preventDefault(),lt(function(gt,vt){return 0})}},st=function(){var mt=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");mt&&mt.click()},lt=function(mt){var ft=it.current,gt=[].slice.call(ft.getElementsByClassName("rpv-bookmark__item"));if(gt.length!==0){var vt=document.activeElement,dt=gt[Math.min(gt.length-1,Math.max(0,mt(gt,vt)))];vt.setAttribute("tabindex","-1"),dt.setAttribute("tabindex","0"),dt.focus()}},at=function(mt){var ft=it.current;if([].slice.call(ft.getElementsByClassName("rpv-bookmark__item")).length!==0){var gt=document.activeElement.closest(".rpv-bookmark__item"),vt=mt===r$d.Collapse?"true":"false";if(gt&&gt.parentElement.getAttribute("aria-expanded")===vt){var dt=gt.querySelector(".rpv-bookmark__toggle");dt&&dt.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",ot),function(){document.removeEventListener("keydown",ot)}},[]),o$d.useEffect(function(){var mt=it.current;if(mt){var ft=[].slice.call(mt.getElementsByClassName("rpv-bookmark__item"));ft.length>0&&(ft[0].focus(),ft[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:it},o$d.createElement(m$9,{bookmarks:_e,depth:0,doc:et,isBookmarkExpanded:tt,isRoot:!0,pathFromRoot:"",renderBookmarkItem:nt,store:rt}))},s$9=function($){var _e=$.doc,et=$.isBookmarkExpanded,tt=$.renderBookmarkItem,nt=$.store,rt=o$d.useContext(e$d.LocalizationContext).l10n,it=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,ot=o$d.useState({isLoaded:!1,items:[]}),st=ot[0],lt=ot[1];return o$d.useEffect(function(){lt({isLoaded:!1,items:[]}),_e.getOutline().then(function(at){lt({isLoaded:!0,items:at||[]})})},[_e]),st.isLoaded?st.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":it})},rt&&rt.bookmark?rt.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":it})},o$d.createElement(l$d,{bookmarks:st.items,doc:_e,isBookmarkExpanded:et,renderBookmarkItem:tt,store:nt})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function($){var _e=$.isBookmarkExpanded,et=$.renderBookmarkItem,tt=$.store,nt=o$d.useState(tt.get("doc")),rt=nt[0],it=nt[1],ot=function(st){it(st)};return o$d.useEffect(function(){return tt.subscribe("doc",ot),function(){tt.unsubscribe("doc",ot)}},[]),rt?o$d.createElement(s$9,{doc:rt,isBookmarkExpanded:_e,renderBookmarkItem:et,store:tt}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var $=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(_e){$.update("jumpToDestination",_e.jumpToDestination)},onDocumentLoad:function(_e){$.update("doc",_e.doc)},Bookmarks:function(_e){return o$d.createElement(u$d,{isBookmarkExpanded:_e==null?void 0:_e.isBookmarkExpanded,renderBookmarkItem:_e==null?void 0:_e.renderBookmarkItem,store:$})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function($){var _e=libExports$h;function et(dt){var pt=Object.create(null);return dt&&Object.keys(dt).forEach(function(ut){if(ut!=="default"){var ct=Object.getOwnPropertyDescriptor(dt,ut);Object.defineProperty(pt,ut,ct.get?ct:{enumerable:!0,get:function(){return dt[ut]}})}}),pt.default=dt,Object.freeze(pt)}var tt,nt=et(reactExports);$.ThumbnailDirection=void 0,(tt=$.ThumbnailDirection||($.ThumbnailDirection={})).Horizontal="Horizontal",tt.Vertical="Vertical";var rt=function(){return rt=Object.assign||function(dt){for(var pt,ut=1,ct=arguments.length;ut<ct;ut++)for(var xt in pt=arguments[ut])Object.prototype.hasOwnProperty.call(pt,xt)&&(dt[xt]=pt[xt]);return dt},rt.apply(this,arguments)},it=function(dt){var pt=dt.doc,ut=dt.getPageIndex,ct=dt.renderSpinner,xt=dt.store,yt=dt.width,ht=pt.numPages,bt=ut?ut({numPages:ht}):0,Tt=Math.max(0,Math.min(bt,ht-1)),Pt=xt.get("pagesRotation")||new Map,wt=Pt.has(Tt)?Pt.get(Tt):0,kt=nt.useState(""),Mt=kt[0],Dt=kt[1],Ht=_e.useIsMounted(),Nt=nt.useRef(),Vt=nt.useState(xt.get("rotation")||0),qt=Vt[0],un=Vt[1],Bt=nt.useState(wt),nn=Bt[0],tn=Bt[1],_n=nt.useState(!1),Nn=_n[0],Lt=_n[1],Et=function(Rt){var jt=Rt.has(Tt)?Rt.get(Tt):0;tn(jt)},Ct=function(Rt){un(Rt)},St=_e.useIntersectionObserver({onVisibilityChanged:function(Rt){Lt(Rt.isVisible)}});return nt.useEffect(function(){if(Nn){var Rt=St.current;Rt&&(Dt(""),_e.getPage(pt,Tt).then(function(jt){var It=jt.getViewport({scale:1}),zt=(It.rotation+qt+nn)%360,Wt=Math.abs(qt+nn)%180==0,Zt=Wt?It.width:It.height,Kt=Wt?It.height:It.width,Xt=document.createElement("canvas"),rn=Xt.getContext("2d",{alpha:!1}),bn=Rt.clientWidth,En=Rt.clientHeight,Tn=yt?yt/Zt:Math.min(bn/Zt,En/Kt),In=Tn*Zt,Fn=Tn*Kt;Xt.height=Fn,Xt.width=In,Xt.style.opacity="0";var qn=jt.getViewport({rotation:zt,scale:Tn});Nt.current=jt.render({canvasContext:rn,viewport:qn}),Nt.current.promise.then(function(){Ht.current&&Dt(Xt.toDataURL()),Xt.width=0,Xt.height=0},function(){})}))}},[nn,Nn]),nt.useEffect(function(){return xt.subscribe("pagesRotation",Et),xt.subscribe("rotation",Ct),function(){xt.unsubscribe("pagesRotation",Et),xt.unsubscribe("rotation",Ct)}},[]),nt.useEffect(function(){return function(){var Rt;(Rt=Nt.current)===null||Rt===void 0||Rt.cancel()}},[]),nt.createElement("div",{ref:St,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Mt?nt.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Mt}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},ct?ct():nt.createElement(_e.Spinner,null)))},ot=function(dt){var pt=dt.getPageIndex,ut=dt.renderSpinner,ct=dt.store,xt=dt.width,yt=nt.useState(ct.get("doc")),ht=yt[0],bt=yt[1],Tt=function(Pt){bt(Pt)};return nt.useEffect(function(){return ct.subscribe("doc",Tt),function(){ct.unsubscribe("doc",Tt)}},[]),nt.createElement("div",{className:"rpv-thumbnail__cover"},ht?nt.createElement(it,{doc:ht,getPageIndex:pt,renderSpinner:ut,store:ct,width:xt}):nt.createElement("div",{className:"rpv-thumbnail__cover-loader"},ut?ut():nt.createElement(_e.Spinner,null)))},st=function(){return nt.createElement(_e.Spinner,null)},lt=nt.createContext({renderSpinner:st}),at=function(dt){var pt=dt.children,ut=dt.doc,ct=_e.useIsMounted(),xt=nt.useState({loading:!0,labels:[]}),yt=xt[0],ht=xt[1];return nt.useEffect(function(){ut.getPageLabels().then(function(bt){ct.current&&ht({loading:!1,labels:bt||[]})})},[ut.loadingTask.docId]),yt.loading?nt.createElement(nt.Fragment,null):pt(yt.labels)},mt=function(dt){var pt=dt.page,ut=dt.pageHeight,ct=dt.pageIndex,xt=dt.pageWidth,yt=dt.rotation,ht=dt.thumbnailHeight,bt=dt.thumbnailWidth,Tt=dt.onRenderCompleted,Pt=nt.useContext(_e.LocalizationContext).l10n,wt=nt.useRef(),kt=nt.useState(""),Mt=kt[0],Dt=kt[1],Ht=Pt&&Pt.thumbnail?Pt.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return nt.useEffect(function(){var Nt=wt.current;Nt&&Nt.cancel();var Vt=document.createElement("canvas"),qt=Vt.getContext("2d",{alpha:!1}),un=bt,Bt=un/(xt/ut),nn=un/xt;Vt.height=Bt,Vt.width=un,Vt.style.height="".concat(Bt,"px"),Vt.style.width="".concat(un,"px");var tn=pt.getViewport({rotation:yt,scale:nn});return wt.current=pt.render({canvasContext:qt,viewport:tn}),wt.current.promise.then(function(){Dt(Vt.toDataURL()),Tt(ct)},function(){Tt(ct)}),function(){var _n;(_n=wt.current)===null||_n===void 0||_n.cancel()}},[yt]),Mt?nt.createElement("img",{"aria-label":Ht.replace("{{pageIndex}}","".concat(ct+1)),src:Mt,height:"".concat(ht,"px"),width:"".concat(bt,"px")}):nt.useContext(lt).renderSpinner()},ft=function(dt){var pt=dt.doc,ut=dt.pageHeight,ct=dt.pageIndex,xt=dt.pageRotation,yt=dt.pageWidth,ht=dt.rotation,bt=dt.shouldRender,Tt=dt.thumbnailWidth,Pt=dt.onRenderCompleted,wt=dt.onVisibilityChanged,kt=_e.useIsMounted(),Mt=nt.useState({height:ut,page:null,viewportRotation:0,width:yt}),Dt=Mt[0],Ht=Mt[1],Nt=Dt.page,Vt=Dt.height,qt=Dt.width,un=qt/Vt,Bt=Math.abs(ht+xt)%180==0,nn=Bt?Tt:Tt/un,tn=Bt?Tt/un:Tt;nt.useEffect(function(){bt&&_e.getPage(pt,ct).then(function(Lt){var Et=Lt.getViewport({scale:1});kt.current&&Ht({height:Et.height,page:Lt,viewportRotation:Et.rotation,width:Et.width})})},[bt]);var _n=(Dt.viewportRotation+ht+xt)%360,Nn=_e.useIntersectionObserver({onVisibilityChanged:function(Lt){wt(ct,Lt)}});return nt.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(ct),ref:Nn,style:{height:"".concat(tn,"px"),width:"".concat(nn,"px")}},Nt?nt.createElement(mt,{page:Nt,pageHeight:Bt?Vt:qt,pageIndex:ct,pageWidth:Bt?qt:Vt,rotation:_n,thumbnailHeight:tn,thumbnailWidth:nn,onRenderCompleted:Pt}):nt.useContext(lt).renderSpinner())},gt=function(dt){var pt=dt.currentPage,ut=dt.doc,ct=dt.labels,xt=dt.pagesRotation,yt=dt.pageHeight,ht=dt.pageWidth,bt=dt.renderCurrentPageLabel,Tt=dt.renderThumbnailItem,Pt=dt.rotatedPage,wt=dt.rotation,kt=dt.thumbnailDirection,Mt=dt.thumbnailWidth,Dt=dt.viewMode,Ht=dt.onJumpToPage,Nt=dt.onRotatePage,Vt=ut.numPages,qt=ut.loadingTask.docId,un=nt.useRef(null),Bt=nt.useRef([]),nn=nt.useState(pt),tn=nn[0],_n=nn[1],Nn=nt.useContext(_e.ThemeContext).direction===_e.TextDirection.RightToLeft,Lt=nt.useState(-1),Et=Lt[0],Ct=Lt[1],St=_e.useIsMounted(),Rt=_e.usePrevious(Dt),jt=nt.useRef(!1),It=_e.useRenderQueue({doc:ut}),zt=nt.useMemo(function(){return Array(Vt).fill(0).map(function(Tn,In){return In})},[qt]),Wt=nt.useMemo(function(){switch(Dt){case _e.ViewMode.DualPage:return _e.chunk(zt,2);case _e.ViewMode.DualPageWithCover:return[[zt[0]]].concat(_e.chunk(zt.slice(1),2));case _e.ViewMode.SinglePage:default:return _e.chunk(zt,1)}},[qt,Dt]),Zt=function(){if(un.current){var Tn=Bt.current,In=tn+1;In<Tn.length&&(tn>=0&&Tn[tn].setAttribute("tabindex","-1"),_n(In))}},Kt=function(){if(un.current){var Tn=Bt.current,In=tn-1;In>=0&&(tn>=0&&Tn[tn].setAttribute("tabindex","-1"),_n(In))}},Xt=function(){tn>=0&&tn<Vt&&Ht(tn)};_e.useIsomorphicLayoutEffect(function(){var Tn=un.current;Tn&&(Bt.current=Array.from(Tn.querySelectorAll(".rpv-thumbnail__item")))},[Dt]),nt.useEffect(function(){var Tn=Bt.current;if(!(Tn.length===0||tn<0||tn>Tn.length)){var In=Tn[tn];In.setAttribute("tabindex","0"),In.focus()}},[tn]),_e.useIsomorphicLayoutEffect(function(){var Tn=un.current,In=Bt.current;if(!(!Tn||In.length===0||pt<0||pt>In.length)){var Fn=In[pt].closest(".rpv-thumbnail__items");Fn&&(kt===$.ThumbnailDirection.Vertical?function(qn,An){var hn=qn.getBoundingClientRect().top-An.getBoundingClientRect().top,pn=qn.clientHeight,jn=An.clientHeight;hn<0?An.scrollTop+=hn:hn+pn<=jn||(An.scrollTop+=hn+pn-jn)}(Fn,Tn):function(qn,An){var hn=qn.getBoundingClientRect().left-An.getBoundingClientRect().left,pn=qn.clientWidth,jn=An.clientWidth;hn<0?An.scrollLeft+=hn:hn+pn<=jn||(An.scrollLeft+=hn+pn-jn)}(Fn,Tn))}},[pt,kt]);var rn=nt.useCallback(function(Tn){St.current&&(It.markRendered(Tn),jt.current=!1,En())},[qt]),bn=nt.useCallback(function(Tn,In){In.isVisible?It.setVisibility(Tn,In.ratio):It.setOutOfRange(Tn),En()},[qt]),En=nt.useCallback(function(){if(!jt.current){var Tn=It.getHighestPriorityPage();Tn>-1&&(It.markRendering(Tn),jt.current=!0,Ct(Tn))}},[qt]);return nt.useEffect(function(){Pt>=0&&(It.markRendering(Pt),jt.current=!0,Ct(Pt))},[qt,Pt]),_e.useIsomorphicLayoutEffect(function(){Rt!==Dt&&(It.markNotRendered(),En())},[Dt]),nt.createElement("div",{ref:un,"data-testid":"thumbnail__list",className:_e.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":kt===$.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Nn,"rpv-thumbnail__list--vertical":kt===$.ThumbnailDirection.Vertical}),onKeyDown:function(Tn){switch(Tn.key){case"ArrowDown":Zt();break;case"ArrowUp":Kt();break;case"Enter":Xt()}}},Wt.map(function(Tn,In){var Fn=!1;switch(Dt){case _e.ViewMode.DualPage:Fn=pt===2*In||pt===2*In+1;break;case _e.ViewMode.DualPageWithCover:Fn=pt===0&&In===0||In>0&&pt===2*In-1||In>0&&pt===2*In;break;case _e.ViewMode.SinglePage:default:Fn=pt===In}return nt.createElement("div",{className:_e.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Dt===_e.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Dt===_e.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Dt===_e.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Fn}),key:"".concat(In,"___").concat(Dt)},Tn.map(function(qn){return function(An){var hn=Dt===_e.ViewMode.DualPageWithCover&&(An===0||Vt%2==0&&An===Vt-1),pn="".concat(ut.loadingTask.docId,"___").concat(An),jn=ct.length===Vt?ct[An]:"".concat(An+1),Gn=bt?bt({currentPage:pt,pageIndex:An,numPages:Vt,pageLabel:jn}):jn,Xn=xt.has(An)?xt.get(An):0,mr=nt.createElement(ft,{doc:ut,pageHeight:yt,pageIndex:An,pageRotation:Xn,pageWidth:ht,rotation:wt,shouldRender:Et===An,thumbnailWidth:Mt,onRenderCompleted:rn,onVisibilityChanged:bn});return Tt?Tt({currentPage:pt,key:pn,numPages:Vt,pageIndex:An,renderPageLabel:nt.createElement(nt.Fragment,null,Gn),renderPageThumbnail:mr,onJumpToPage:function(){return Ht(An)},onRotatePage:function(Sr){return Nt(An,Sr)}}):nt.createElement("div",{key:pn},nt.createElement("div",{className:_e.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Dt===_e.ViewMode.DualPage&&An%2==0,"rpv-thumbnail__item--dual-odd":Dt===_e.ViewMode.DualPage&&An%2==1,"rpv-thumbnail__item--dual-cover":hn,"rpv-thumbnail__item--dual-cover-even":Dt===_e.ViewMode.DualPageWithCover&&!hn&&An%2==0,"rpv-thumbnail__item--dual-cover-odd":Dt===_e.ViewMode.DualPageWithCover&&!hn&&An%2==1,"rpv-thumbnail__item--single":Dt===_e.ViewMode.SinglePage,"rpv-thumbnail__item--selected":pt===An}),role:"button",tabIndex:pt===An?0:-1,onClick:function(){return Ht(An)}},mr),nt.createElement("div",{"data-testid":"thumbnail__label-".concat(An),className:"rpv-thumbnail__label"},Gn))}(qn)}))}))},vt=function(dt){var pt=dt.renderCurrentPageLabel,ut=dt.renderThumbnailItem,ct=dt.store,xt=dt.thumbnailDirection,yt=dt.thumbnailWidth,ht=nt.useState(ct.get("doc")),bt=ht[0],Tt=ht[1],Pt=nt.useState(ct.get("currentPage")||0),wt=Pt[0],kt=Pt[1],Mt=nt.useState(ct.get("pageHeight")||0),Dt=Mt[0],Ht=Mt[1],Nt=nt.useState(ct.get("pageWidth")||0),Vt=Nt[0],qt=Nt[1],un=nt.useState(ct.get("rotation")||0),Bt=un[0],nn=un[1],tn=nt.useState(ct.get("pagesRotation")||new Map),_n=tn[0],Nn=tn[1],Lt=nt.useState(ct.get("rotatedPage")||-1),Et=Lt[0],Ct=Lt[1],St=nt.useState(ct.get("viewMode")),Rt=St[0],jt=St[1],It=function(In){kt(In)},zt=function(In){Tt(In)},Wt=function(In){Ht(In)},Zt=function(In){qt(In)},Kt=function(In){nn(In)},Xt=function(In){Nn(In)},rn=function(In){Ct(In)},bn=function(In){jt(In)},En=function(In){var Fn=ct.get("jumpToPage");Fn&&Fn(In)},Tn=function(In,Fn){ct.get("rotatePage")(In,Fn)};return nt.useEffect(function(){return ct.subscribe("doc",zt),ct.subscribe("pageHeight",Wt),ct.subscribe("pageWidth",Zt),ct.subscribe("rotatedPage",rn),ct.subscribe("rotation",Kt),ct.subscribe("pagesRotation",Xt),ct.subscribe("viewMode",bn),function(){ct.unsubscribe("doc",zt),ct.unsubscribe("pageHeight",Wt),ct.unsubscribe("pageWidth",Zt),ct.unsubscribe("rotatedPage",rn),ct.unsubscribe("rotation",Kt),ct.unsubscribe("pagesRotation",Xt),ct.unsubscribe("viewMode",bn)}},[]),_e.useIsomorphicLayoutEffect(function(){return ct.subscribe("currentPage",It),function(){ct.unsubscribe("currentPage",It)}},[]),bt?nt.createElement(_e.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},nt.createElement(at,{doc:bt},function(In){return nt.createElement(gt,{currentPage:wt,doc:bt,labels:In,pagesRotation:_n,pageHeight:Dt,pageWidth:Vt,renderCurrentPageLabel:pt,renderThumbnailItem:ut,rotatedPage:Et,rotation:Bt,thumbnailDirection:xt,thumbnailWidth:yt,viewMode:Rt,onJumpToPage:En,onRotatePage:Tn})})):nt.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},nt.useContext(lt).renderSpinner())};$.thumbnailPlugin=function(dt){var pt=nt.useMemo(function(){return _e.createStore({rotatePage:function(){},viewMode:_e.ViewMode.SinglePage})},[]),ut=nt.useState(""),ct=ut[0],xt=ut[1];return{install:function(yt){pt.update("jumpToPage",yt.jumpToPage),pt.update("rotatePage",yt.rotatePage)},onDocumentLoad:function(yt){xt(yt.doc.loadingTask.docId),pt.update("doc",yt.doc)},onViewerStateChange:function(yt){return pt.update("currentPage",yt.pageIndex),pt.update("pagesRotation",yt.pagesRotation),pt.update("pageHeight",yt.pageHeight),pt.update("pageWidth",yt.pageWidth),pt.update("rotation",yt.rotation),pt.update("rotatedPage",yt.rotatedPage),pt.update("viewMode",yt.viewMode),yt},Cover:function(yt){return nt.createElement(ot,rt({},yt,{renderSpinner:dt==null?void 0:dt.renderSpinner,store:pt}))},Thumbnails:nt.useCallback(function(yt){return nt.createElement(lt.Provider,{value:{renderSpinner:(dt==null?void 0:dt.renderSpinner)||st}},nt.createElement(vt,{renderCurrentPageLabel:dt==null?void 0:dt.renderCurrentPageLabel,renderThumbnailItem:yt==null?void 0:yt.renderThumbnailItem,store:pt,thumbnailDirection:(yt==null?void 0:yt.thumbnailDirection)||$.ThumbnailDirection.Vertical,thumbnailWidth:(dt==null?void 0:dt.thumbnailWidth)||100}))},[ct])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function($){var _e=libExports$h;function et(vt){var dt=Object.create(null);return vt&&Object.keys(vt).forEach(function(pt){if(pt!=="default"){var ut=Object.getOwnPropertyDescriptor(vt,pt);Object.defineProperty(dt,pt,ut.get?ut:{enumerable:!0,get:function(){return vt[pt]}})}}),dt.default=vt,Object.freeze(dt)}var tt,nt=et(reactExports),rt=function(){return nt.createElement(_e.Icon,{size:16},nt.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},it=function(){return it=Object.assign||function(vt){for(var dt,pt=1,ut=arguments.length;pt<ut;pt++)for(var ct in dt=arguments[pt])Object.prototype.hasOwnProperty.call(dt,ct)&&(vt[ct]=dt[ct]);return vt},it.apply(this,arguments)};$.SelectionMode=void 0,(tt=$.SelectionMode||($.SelectionMode={})).Hand="Hand",tt.Text="Text";var ot=function(){return nt.createElement(_e.Icon,{size:16},nt.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},st=function(vt){var dt=vt.children,pt=vt.mode,ut=vt.onClick,ct=nt.useContext(_e.LocalizationContext).l10n,xt="",yt=nt.createElement(ot,null);switch(pt){case $.SelectionMode.Hand:xt=ct&&ct.selectionMode?ct.selectionMode.handTool:"Hand tool",yt=nt.createElement(rt,null);break;case $.SelectionMode.Text:default:xt=ct&&ct.selectionMode?ct.selectionMode.textSelectionTool:"Text selection tool",yt=nt.createElement(ot,null)}return dt({icon:yt,label:xt,onClick:ut})},lt={left:0,top:8},at=function(vt){var dt=vt.isSelected,pt=vt.mode,ut=vt.onClick,ct="";switch(pt){case $.SelectionMode.Hand:ct="selection-mode__hand-button";break;case $.SelectionMode.Text:default:ct="selection-mode__text-button"}return nt.createElement(st,{mode:pt,onClick:ut},function(xt){return nt.createElement(_e.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:_e.Position.BottomCenter,target:nt.createElement(_e.MinimalButton,{ariaLabel:xt.label,isSelected:dt,testId:ct,onClick:xt.onClick},xt.icon),content:function(){return xt.label},offset:lt})})},mt=function(vt){var dt=vt.children,pt=vt.mode,ut=vt.store,ct=pt===ut.get("selectionMode");return(dt||function(xt){return nt.createElement(at,{isSelected:ct,mode:xt.mode,onClick:xt.onClick})})({isSelected:ct,mode:pt,onClick:function(){return ut.update("selectionMode",pt)}})},ft=function(vt){var dt=vt.isSelected,pt=vt.mode,ut=vt.onClick,ct="";switch(pt){case $.SelectionMode.Hand:ct="selection-mode__hand-menu";break;case $.SelectionMode.Text:default:ct="selection-mode__text-menu"}return nt.createElement(st,{mode:pt,onClick:ut},function(xt){return nt.createElement(_e.MenuItem,{checked:dt,icon:xt.icon,testId:ct,onClick:xt.onClick},xt.label)})},gt=function(vt){var dt=vt.store,pt=nt.useRef(null),ut=nt.useState($.SelectionMode.Text),ct=ut[0],xt=ut[1],yt=nt.useRef({top:0,left:0,x:0,y:0}),ht=function(kt){var Mt=pt.current;Mt&&(Mt.scrollTop=yt.current.top-(kt.clientY-yt.current.y),Mt.scrollLeft=yt.current.left-(kt.clientX-yt.current.x))},bt=function(){var kt=pt.current;kt&&(kt.classList.add("rpv-selection-mode__grab"),kt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",ht),document.removeEventListener("mouseup",bt))},Tt=function(kt){var Mt=pt.current;Mt&&ct!==$.SelectionMode.Text&&(Mt.classList.remove("rpv-selection-mode__grab"),Mt.classList.add("rpv-selection-mode__grabbing"),kt.preventDefault(),kt.stopPropagation(),yt.current={left:Mt.scrollLeft,top:Mt.scrollTop,x:kt.clientX,y:kt.clientY},document.addEventListener("mousemove",ht),document.addEventListener("mouseup",bt))},Pt=function(kt){pt.current=kt()},wt=function(kt){xt(kt)};return nt.useEffect(function(){var kt=pt.current;if(kt)return ct===$.SelectionMode.Hand?kt.classList.add("rpv-selection-mode__grab"):kt.classList.remove("rpv-selection-mode__grab"),kt.addEventListener("mousedown",Tt),function(){kt.removeEventListener("mousedown",Tt)}},[ct]),nt.useEffect(function(){return dt.subscribe("getPagesContainer",Pt),dt.subscribe("selectionMode",wt),function(){dt.unsubscribe("getPagesContainer",Pt),dt.unsubscribe("selectionMode",wt)}},[]),nt.createElement(nt.Fragment,null)};$.HandToolIcon=rt,$.TextSelectionIcon=ot,$.selectionModePlugin=function(vt){var dt=nt.useMemo(function(){return _e.createStore()},[]),pt=function(ut){return nt.createElement(mt,it({},ut,{store:dt}))};return{install:function(ut){dt.update("selectionMode",vt&&vt.selectionMode?vt.selectionMode:$.SelectionMode.Text),dt.update("getPagesContainer",ut.getPagesContainer)},renderViewer:function(ut){var ct=ut.slot;return ct.subSlot&&ct.subSlot.children&&(ct.subSlot.children=nt.createElement(nt.Fragment,null,nt.createElement(gt,{store:dt}),ct.subSlot.children)),ct},SwitchSelectionMode:pt,SwitchSelectionModeButton:function(ut){return nt.createElement(pt,{mode:ut.mode},function(ct){return nt.createElement(at,{isSelected:ct.isSelected,mode:ct.mode,onClick:function(){ct.onClick()}})})},SwitchSelectionModeMenuItem:function(ut){return nt.createElement(pt,{mode:ut.mode},function(ct){return nt.createElement(ft,{isSelected:ct.isSelected,mode:ct.mode,onClick:function(){ct.onClick(),ut.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$c.useContext(e$c.LocalizationContext).l10n,nt=tt&&tt.fullScreen?tt.fullScreen.enterFullScreen:"Full screen",rt=_e?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:et},n$c.createElement(l$c,null)),content:function(){return nt},offset:u$c})},i$c={left:0,top:8},a$c=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=et&&et.fullScreen?et.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:tt,testId:"full-screen__exit-button-with-tooltip",onClick:_e},n$c.createElement(r$c,null)),content:function(){return tt},offset:i$c})},f$9=function($,_e){var et=n$c.useState(_e.get("fullScreenMode")),tt=et[0],nt=et[1],rt=n$c.useCallback(function(it){nt(it)},[]);return n$c.useEffect(function(){return _e.subscribe("fullScreenMode",rt),function(){_e.unsubscribe("fullScreenMode",rt)}},[]),{enterFullScreen:function(){var it=_e.get("getPagesContainer");if(it){var ot=$(it());_e.get("enterFullScreenMode")(ot)}},exitFullScreen:function(){_e.get("exitFullScreenMode")()},isFullScreen:tt===e$c.FullScreenMode.Entering||tt===e$c.FullScreenMode.EnteredCompletely}},s$8=function($){var _e=$.children,et=$.enableShortcuts,tt=$.getFullScreenTarget,nt=$.store,rt=f$9(tt,nt),it=rt.enterFullScreen,ot=rt.exitFullScreen,st=rt.isFullScreen;return(_e||function(lt){return st?n$c.createElement(a$c,{onClick:lt.onClick}):n$c.createElement(o$c,{enableShortcuts:et,onClick:lt.onClick})})({onClick:st?ot:it})},S$4=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=et&&et.fullScreen?et.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:_e},tt)},d$9=function($){var _e=$.onClick,et=n$c.useContext(e$c.LocalizationContext).l10n,tt=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,nt=et&&et.fullScreen?et.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!tt,"rpv-full-screen__exit-button--rtl":tt})},n$c.createElement(e$c.MinimalButton,{ariaLabel:nt,testId:"full-screen__exit-button",onClick:_e},n$c.createElement(r$c,null)))},m$8=function($){var _e=$.children,et=$.getFullScreenTarget,tt=$.store,nt=f$9(et,tt),rt=nt.enterFullScreen,it=nt.exitFullScreen,ot=nt.isFullScreen;return ot&&(_e||function(st){return n$c.createElement(d$9,{onClick:st.onClick})})({onClick:ot?it:rt})},E$5=function($){var _e=$.store,et=$.onEnterFullScreen,tt=$.onExitFullScreen,nt=n$c.useState(_e.get("fullScreenMode")),rt=nt[0],it=nt[1],ot=n$c.useCallback(function(st){it(st)},[]);return n$c.useEffect(function(){switch(rt){case e$c.FullScreenMode.EnteredCompletely:et(_e.get("zoom"));break;case e$c.FullScreenMode.Exited:tt(_e.get("zoom"))}},[rt]),n$c.useEffect(function(){return _e.subscribe("fullScreenMode",ot),function(){_e.unsubscribe("fullScreenMode",ot)}},[]),(rt===e$c.FullScreenMode.Entering||rt===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function($){var _e=$.containerRef,et=$.getFullScreenTarget,tt=$.store,nt=f$9(et,tt).enterFullScreen,rt=function(it){if(!it.shiftKey&&!it.altKey&&(e$c.isMac()?it.metaKey&&it.ctrlKey&&it.key==="f":it.key==="F11")){var ot=_e.current;ot&&document.activeElement&&ot.contains(document.activeElement)&&(it.preventDefault(),nt())}};return n$c.useEffect(function(){if(_e.current)return document.addEventListener("keydown",rt),function(){document.removeEventListener("keydown",rt)}},[_e.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function($){var _e=($==null?void 0:$.getFullScreenTarget)||function(it){return it},et=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},$)},[]),tt=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),nt=function(it){return n$c.createElement(s$8,c$c({},it,{enableShortcuts:et.enableShortcuts,getFullScreenTarget:_e,store:tt}))},rt=function(){return n$c.createElement(m$8,{getFullScreenTarget:_e,store:tt},$==null?void 0:$.renderExitFullScreenButton)};return{install:function(it){tt.update("enterFullScreenMode",it.enterFullScreenMode),tt.update("exitFullScreenMode",it.exitFullScreenMode),tt.update("getPagesContainer",it.getPagesContainer),tt.update("zoom",it.zoom)},onViewerStateChange:function(it){return tt.update("fullScreenMode",it.fullScreenMode),it},renderViewer:function(it){var ot=it.slot;return ot.subSlot&&(ot.subSlot.children=n$c.createElement(n$c.Fragment,null,et.enableShortcuts&&n$c.createElement(F,{containerRef:it.containerRef,getFullScreenTarget:_e,store:tt}),n$c.createElement(E$5,{store:tt,onEnterFullScreen:et.onEnterFullScreen,onExitFullScreen:et.onExitFullScreen}),n$c.createElement(rt,null),ot.subSlot.children)),ot},EnterFullScreen:nt,EnterFullScreenButton:function(){return n$c.createElement(nt,null,function(it){return n$c.createElement(o$c,c$c({enableShortcuts:et.enableShortcuts},it))})},EnterFullScreenMenuItem:function(it){return n$c.createElement(nt,null,function(ot){return n$c.createElement(S$4,{onClick:function(){ot.onClick(),it.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function($){var _e=$.onClick,et=n$b.useContext(e$b.LocalizationContext).l10n,tt=et&&et.download?et.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:tt,testId:"get-file__download-button",onClick:_e},n$b.createElement(o$b,null)),content:function(){return tt},offset:i$b})},c$b=function($,_e){var et=document.createElement("a");et.style.display="none",et.href=$,et.setAttribute("download",_e),document.body.appendChild(et),et.click(),document.body.removeChild(et)},l$b=function($,_e,et){var tt=URL.createObjectURL(new Blob([$],{type:et}));c$b(tt,_e),tt&&URL.revokeObjectURL(tt)},u$b=function($,_e){$.getData().then(function(et){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(et,_e,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(tt){return btoa(Array(tt.length).fill("").map(function(nt,rt){return String.fromCharCode(tt[rt])}).join(""))}(et)),_e):l$b(et,_e,"application/pdf")})},f$8=function($){var _e=$.children,et=$.fileNameGenerator,tt=$.store,nt=n$b.useState(tt.get("file")),rt=nt[0],it=nt[1],ot=n$b.useState(tt.get("doc")),st=ot[0],lt=ot[1],at=function(ft){lt(ft)},mt=function(ft){it(ft)};return n$b.useEffect(function(){return tt.subscribe("doc",at),tt.subscribe("file",mt),function(){tt.subscribe("doc",at),tt.unsubscribe("file",mt)}},[]),(_e||function(ft){return n$b.createElement(a$b,{onClick:ft.onClick})})({onClick:function(){st&&rt&&u$b(st,et(rt))}})},d$8=function($){var _e=$.onClick,et=n$b.useContext(e$b.LocalizationContext).l10n,tt=et&&et.download?et.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:_e},tt)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function($){var _e=n$b.useMemo(function(){return e$b.createStore({})},[]),et=function(nt){return nt.name?(rt=nt.name,(it=rt.split("/").pop())?it.split("#")[0].split("?")[0]:rt):"document.pdf";var rt,it},tt=function(nt){return n$b.createElement(f$8,r$b({},nt,{fileNameGenerator:$&&$.fileNameGenerator||et,store:_e}))};return{onDocumentLoad:function(nt){_e.update("doc",nt.doc),_e.update("file",nt.file)},Download:tt,DownloadButton:function(){return n$b.createElement(tt,null,function(nt){return n$b.createElement(a$b,r$b({},nt))})},DownloadMenuItem:function(nt){return n$b.createElement(tt,null,function(rt){return n$b.createElement(d$8,{onClick:function(){rt.onClick(),nt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$a.apply(this,arguments)},i$a=function($){var _e=n$a.useRef(),et=function(){var nt=_e.current;nt&&(nt.click(),$.get("triggerOpenFile")&&$.update("triggerOpenFile",!1))},tt=function(nt){nt&&et()};return n$a.useEffect(function(){return $.subscribe("triggerOpenFile",tt),function(){$.unsubscribe("triggerOpenFile",tt)}},[]),{inputRef:_e,openFile:et}},c$a={left:0,top:8},u$a=function($){var _e=$.enableShortcuts,et=$.store,tt=$.onClick,nt=n$a.useContext(e$a.LocalizationContext).l10n,rt=nt&&nt.open?nt.open.openFile:"Open file",it=i$a(et),ot=it.inputRef,st=it.openFile,lt=_e?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:ot,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:tt}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:lt,ariaLabel:rt,testId:"open__button",onClick:st},n$a.createElement(r$a,null))),content:function(){return rt},offset:c$a})},a$a=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store;return(_e||function(nt){return n$a.createElement(u$a,{enableShortcuts:et,store:tt,onClick:nt.onClick})})({onClick:function(nt){var rt=nt.target.files;if(rt&&rt.length){var it=tt.get("openFile");it&&it(rt[0])}}})},l$a=function($){var _e=$.store,et=$.onClick,tt=n$a.useContext(e$a.LocalizationContext).l10n,nt=tt&&tt.open?tt.open.openFile:"Open file",rt=i$a(_e),it=rt.inputRef,ot=rt.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:ot},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:it,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:et}),nt))},p$7=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="o"&&(e$a.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),et.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function($){var _e=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$a.useMemo(function(){return e$a.createStore({})},[]),tt=function(nt){return n$a.createElement(a$a,o$a({enableShortcuts:_e.enableShortcuts},nt,{store:et}))};return{install:function(nt){et.update("openFile",nt.openFile)},renderViewer:function(nt){var rt=nt.slot,it={children:n$a.createElement(n$a.Fragment,null,_e.enableShortcuts&&n$a.createElement(p$7,{containerRef:nt.containerRef,store:et}),rt.children)};return o$a(o$a({},rt),it)},Open:tt,OpenButton:function(){return n$a.createElement(tt,null)},OpenMenuItem:function(){return n$a.createElement(tt,null,function(nt){return n$a.createElement(l$a,{store:et,onClick:nt.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$9.apply(this,arguments)},i$9=function($){var _e=n$9.useState($.get("currentPage")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return e$9.useIsomorphicLayoutEffect(function(){return $.subscribe("currentPage",nt),function(){$.unsubscribe("currentPage",nt)}},[]),{currentPage:et}},u$9=function($){var _e=n$9.useState($.get("numberOfPages")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return n$9.useEffect(function(){return $.subscribe("numberOfPages",nt),function(){$.unsubscribe("numberOfPages",nt)}},[]),{numberOfPages:et}},c$9=function($){var _e=$.store,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=n$9.useState("1"),nt=tt[0],rt=tt[1],it=i$9(_e).currentPage,ot=u$9(_e).numberOfPages;n$9.useEffect(function(){return rt("".concat(it+1))},[it]);var st=function(at){var mt=_e.get("jumpToPage");mt&&mt(at)},lt=et&&et.pageNavigation?et.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:lt,testId:"page-navigation__current-page-input",type:"text",value:nt,onChange:rt,onKeyDown:function(at){switch(at.key){case"ArrowUp":(gt=it-1)>=0&&(rt("".concat(gt+1)),st(gt));break;case"ArrowDown":(ft=it+1)<ot&&(rt("".concat(ft+1)),st(ft));break;case"Enter":mt=parseInt(nt,10),nt===""||mt<1||mt>ot?rt("".concat(it+1)):st(mt-1)}var mt,ft,gt}}))},l$9=function($){var _e=$.children,et=$.doc,tt=e$9.useIsMounted(),nt=n$9.useState({loading:!0,labels:[]}),rt=nt[0],it=nt[1];return n$9.useEffect(function(){et.getPageLabels().then(function(ot){tt.current&&it({loading:!1,labels:ot||[]})})},[et.loadingTask.docId]),rt.loading?n$9.createElement(n$9.Fragment,null):_e(rt.labels)},s$7=function($){var _e=$.children,et=$.store,tt=function(ot){var st=n$9.useState(ot.get("doc")),lt=st[0],at=st[1],mt=function(ft){at(ft)};return n$9.useEffect(function(){return ot.subscribe("doc",mt),function(){ot.unsubscribe("doc",mt)}},[]),lt}(et),nt=i$9(et).currentPage,rt=u$9(et).numberOfPages,it=_e||function(ot){return n$9.createElement(n$9.Fragment,null,ot.currentPage+1)};return tt?n$9.createElement(l$9,{doc:tt},function(ot){var st=ot.length===rt&&rt>0?ot[nt]:"";return it({currentPage:nt,numberOfPages:rt,pageLabel:st})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__first-button",onClick:et},n$9.createElement(g$5,null)),content:function(){return nt},offset:f$7})},p$6=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$9.createElement(m$7,{isDisabled:tt.isDisabled,onClick:tt.onClick})})({isDisabled:i$9(et).currentPage===0,onClick:function(){var tt=et.get("jumpToPage");tt&&tt(0)}})},v$5=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:_e,testId:"page-navigation__first-menu",onClick:et},nt)},d$7={left:0,top:8},P$2=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__last-button",onClick:et},n$9.createElement(a$9,null)),content:function(){return nt},offset:d$7})},b$4=function($){var _e=$.children,et=$.store,tt=i$9(et).currentPage,nt=u$9(et).numberOfPages;return(_e||function(rt){return n$9.createElement(P$2,{isDisabled:rt.isDisabled,onClick:rt.onClick})})({isDisabled:tt+1>=nt,onClick:function(){var rt=et.get("jumpToPage");rt&&rt(nt-1)}})},E$4=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:_e,testId:"page-navigation__last-menu",onClick:et},nt)},C$3={left:0,top:8},D=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__next-button",onClick:et},n$9.createElement(r$9,null)),content:function(){return nt},offset:C$3})},k$3=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$9.createElement(D,{onClick:tt.onClick,isDisabled:tt.isDisabled})})({isDisabled:i$9(et).currentPage+1>=u$9(et).numberOfPages,onClick:function(){var tt=et.get("jumpToNextPage");tt&&tt()}})},T=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:_e,testId:"page-navigation__next-menu",onClick:et},nt)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:nt,isDisabled:_e,testId:"page-navigation__previous-button",onClick:et},n$9.createElement(x$1,null)),content:function(){return nt},offset:L})},j=function($){var _e=$.store;return($.children||function(et){return n$9.createElement(N,{isDisabled:et.isDisabled,onClick:et.onClick})})({isDisabled:i$9(_e).currentPage<=0,onClick:function(){var et=_e.get("jumpToPreviousPage");et&&et()}})},I$2=function($){var _e=$.isDisabled,et=$.onClick,tt=n$9.useContext(e$9.LocalizationContext).l10n,nt=tt&&tt.pageNavigation?tt.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:_e,testId:"page-navigation__previous-menu",onClick:et},nt)},h$5=function($){var _e=$.children,et=$.store,tt=u$9(et).numberOfPages;return _e?_e({numberOfPages:tt}):n$9.createElement(n$9.Fragment,null,tt)},y$1=function($){var _e=$.containerRef,et=$.numPages,tt=$.store,nt=i$9(tt).currentPage,rt=n$9.useRef(nt);rt.current=nt;var it=n$9.useRef(!1),ot=function(){it.current=!0},st=function(){it.current=!1},lt=function(at){var mt=_e.current,ft=it.current||document.activeElement&&mt.contains(document.activeElement);if(mt&&ft){var gt,vt,dt=at.altKey&&at.key==="ArrowDown"||!at.shiftKey&&!at.altKey&&at.key==="PageDown",pt=at.altKey&&at.key==="ArrowUp"||!at.shiftKey&&!at.altKey&&at.key==="PageUp";if(dt)return at.preventDefault(),gt=tt.get("jumpToPage"),vt=rt.current+1,void(gt&&vt<et&&gt(vt));if(pt)return at.preventDefault(),void function(){var ut=tt.get("jumpToPage"),ct=rt.current-1;ut&&ct>=0&&ut(ct)}();if(e$9.isMac()?at.metaKey&&!at.ctrlKey:at.altKey)switch(at.key){case"ArrowLeft":at.preventDefault(),function(){var ut=tt.get("jumpToPreviousDestination");ut&&ut()}();break;case"ArrowRight":at.preventDefault(),function(){var ut=tt.get("jumpToNextDestination");ut&&ut()}()}}};return n$9.useEffect(function(){var at=_e.current;if(at)return document.addEventListener("keydown",lt),at.addEventListener("mouseenter",ot),at.addEventListener("mouseleave",st),function(){document.removeEventListener("keydown",lt),at.removeEventListener("mouseenter",ot),at.removeEventListener("mouseleave",st)}},[_e.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function($){var _e=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$9.useMemo(function(){return e$9.createStore()},[]),tt=function(ot){return n$9.createElement(p$6,o$9({},ot,{store:et}))},nt=function(ot){return n$9.createElement(b$4,o$9({},ot,{store:et}))},rt=function(ot){return n$9.createElement(k$3,o$9({},ot,{store:et}))},it=function(ot){return n$9.createElement(j,o$9({},ot,{store:et}))};return{install:function(ot){et.update("jumpToDestination",ot.jumpToDestination),et.update("jumpToNextDestination",ot.jumpToNextDestination),et.update("jumpToNextPage",ot.jumpToNextPage),et.update("jumpToPage",ot.jumpToPage),et.update("jumpToPreviousDestination",ot.jumpToPreviousDestination),et.update("jumpToPreviousPage",ot.jumpToPreviousPage)},renderViewer:function(ot){var st=ot.slot;if(!_e.enableShortcuts)return st;var lt={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:ot.containerRef,numPages:ot.doc.numPages,store:et}),st.children)};return o$9(o$9({},st),lt)},onDocumentLoad:function(ot){et.update("doc",ot.doc),et.update("numberOfPages",ot.doc.numPages)},onViewerStateChange:function(ot){return et.update("currentPage",ot.pageIndex),ot},jumpToNextPage:function(){var ot=et.get("jumpToNextPage");ot&&ot()},jumpToPage:function(ot){var st=et.get("jumpToPage");st&&st(ot)},jumpToPreviousPage:function(){var ot=et.get("jumpToPreviousPage");ot&&ot()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:et})},CurrentPageLabel:function(ot){return n$9.createElement(s$7,o$9({},ot,{store:et}))},GoToFirstPage:tt,GoToFirstPageButton:function(){return n$9.createElement(tt,null,function(ot){return n$9.createElement(m$7,o$9({},ot))})},GoToFirstPageMenuItem:function(ot){return n$9.createElement(tt,null,function(st){return n$9.createElement(v$5,{isDisabled:st.isDisabled,onClick:function(){st.onClick(),ot.onClick()}})})},GoToLastPage:nt,GoToLastPageButton:function(){return n$9.createElement(nt,null,function(ot){return n$9.createElement(P$2,o$9({},ot))})},GoToLastPageMenuItem:function(ot){return n$9.createElement(nt,null,function(st){return n$9.createElement(E$4,{isDisabled:st.isDisabled,onClick:function(){st.onClick(),ot.onClick()}})})},GoToNextPage:rt,GoToNextPageButton:function(){return n$9.createElement(rt,null,function(ot){return n$9.createElement(D,o$9({},ot))})},GoToNextPageMenuItem:function(ot){return n$9.createElement(rt,null,function(st){return n$9.createElement(T,{isDisabled:st.isDisabled,onClick:function(){st.onClick(),ot.onClick()}})})},GoToPreviousPage:it,GoToPreviousPageButton:function(){return n$9.createElement(it,null,function(ot){return n$9.createElement(N,o$9({},ot))})},GoToPreviousPageMenuItem:function(ot){return n$9.createElement(it,null,function(st){return n$9.createElement(I$2,{isDisabled:st.isDisabled,onClick:function(){st.onClick(),ot.onClick()}})})},NumberOfPages:function(ot){return n$9.createElement(h$5,o$9({},ot,{store:et}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function($){var _e=$.enableShortcuts,et=$.onClick,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=tt&&tt.print?tt.print.print:"Print",rt=_e?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"print__button",onClick:et},a$8.createElement(i$8,null)),content:function(){return nt},offset:u$8})};(function($){$.CheckingPermission="CheckingPermission",$.Inactive="Inactive",$.Preparing="Preparing",$.Cancelled="Cancelled",$.Ready="Ready"})(o$8||(o$8={}));var l$8=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store;return(_e||s$6)({enableShortcuts:et,onClick:function(){tt.update("printStatus",o$8.CheckingPermission)}})},p$5=function($){var _e=$.doc,et=$.store,tt=a$8.useContext(e$8.LocalizationContext).l10n,nt=a$8.useState(!0),rt=nt[0],it=nt[1];return a$8.useEffect(function(){_e.getPermissions().then(function(ot){ot===null||ot.includes(4)||ot.includes(2048)?et.update("printStatus",o$8.Preparing):it(!1)})},[]),rt?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(ot){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},tt&&tt.print?tt.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){ot(),et.update("printStatus",o$8.Cancelled)}},tt&&tt.print?tt.print.close:"Close")))},isOpened:!0})},m$6=function($){var _e=$.numLoadedPages,et=$.numPages,tt=$.onCancel,nt=a$8.useContext(e$8.LocalizationContext).l10n,rt=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,it=Math.floor(100*_e/et);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":rt})},a$8.createElement("div",{className:"rpv-print__progress-message"},nt&&nt.print?nt.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:it})),a$8.createElement(e$8.Button,{onClick:tt},nt&&nt.print?nt.print.cancel:"Cancel")))},d$6=function($){var _e=$.canvas,et=$.page,tt=$.pageHeight,nt=$.pageIndex,rt=$.pageWidth,it=$.rotation,ot=$.onLoad,st=e$8.useIsMounted(),lt=a$8.useRef(),at=a$8.useState(""),mt=at[0],ft=at[1],gt=a$8.useMemo(function(){return typeof process<"u"&&{}.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var vt=lt.current;vt&&vt.cancel();var dt=150/72;_e.height=Math.floor(tt*dt),_e.width=Math.floor(rt*dt);var pt=_e.getContext("2d");pt.save(),pt.fillStyle="rgb(255, 255, 255)",pt.fillRect(0,0,_e.width,_e.height),pt.restore();var ut=et.getViewport({rotation:it,scale:1});lt.current=et.render({canvasContext:pt,intent:"print",transform:[dt,0,0,dt,0,0],viewport:ut}),lt.current.promise.then(function(){"toBlob"in _e&&"createObjectURL"in URL?_e.toBlob(function(ct){st.current&&ft(URL.createObjectURL(ct)),gt&&ot()}):(st.current&&ft(_e.toDataURL()),gt&&ot())},function(){})},[]),mt&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(nt),src:mt,onLoad:function(){gt||ot()}}))},f$6=function($){var _e=$.canvas,et=$.doc,tt=$.pageIndex,nt=$.pageRotation,rt=$.pageSize,it=$.rotation,ot=$.shouldRender,st=$.onLoad,lt=e$8.useIsMounted(),at=a$8.useState(null),mt=at[0],ft=at[1],gt=Math.abs(it+nt)%180==0;a$8.useEffect(function(){ot&&e$8.getPage(et,tt).then(function(dt){lt.current&&ft(dt)})},[ot]);var vt=(rt.rotation+it+nt)%360;return mt&&a$8.createElement(d$6,{canvas:_e,page:mt,pageHeight:gt?rt.pageHeight:rt.pageWidth,pageIndex:tt,pageWidth:gt?rt.pageWidth:rt.pageHeight,rotation:vt,onLoad:st})},g$4=function($){var _e=$.doc,et=$.numLoadedPages,tt=$.pagesRotation,nt=$.pageSizes,rt=$.printPages,it=$.printStatus,ot=$.rotation,st=$.onCancel,lt=$.onLoad,at=a$8.useMemo(function(){return document.createElement("canvas")},[]),mt=a$8.useMemo(function(){var vt=document.querySelector(".rpv-print__zone");if(vt)return vt;var dt=document.createElement("div");return dt.classList.add("rpv-print__zone"),dt.setAttribute("data-testid","print__zone"),document.body.appendChild(dt),dt},[]);a$8.useEffect(function(){it===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var vt=function(){if(it===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var dt=document.querySelectorAll(".rpv-print__zone");dt&&dt.forEach(function(pt){pt.parentElement.removeChild(pt)}),at.height=0,at.width=0,document.removeEventListener("mousemove",vt),st()}};return document.addEventListener("mousemove",vt),function(){return document.removeEventListener("mousemove",vt)}},[it]);var ft=nt[0].pageHeight,gt=nt[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,rt.map(function(vt,dt){return a$8.createElement(f$6,{key:vt,canvas:at,doc:_e,pageIndex:vt,pageRotation:tt.has(vt)?tt.get(vt):0,pageSize:nt[vt],rotation:ot,shouldRender:dt===et,onLoad:lt})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(gt,"pt ").concat(ft,"pt }")}})),mt)},v$4=function($){var _e=$.doc,et=$.pagesRotation,tt=$.pageSizes,nt=$.renderProgressBar,rt=$.rotation,it=$.setPages,ot=$.store,st=a$8.useState(o$8.Inactive),lt=st[0],at=st[1],mt=a$8.useState(0),ft=mt[0],gt=mt[1],vt=a$8.useMemo(function(){var ct=_e.numPages;return it(_e).filter(function(xt){return xt>=0&&xt<ct})},[_e,it]),dt=vt.length,pt=function(){gt(0),at(o$8.Inactive)},ut=function(ct){return at(ct)};return a$8.useEffect(function(){return ot.subscribe("printStatus",ut),function(){ot.unsubscribe("printStatus",ut)}},[]),a$8.createElement(a$8.Fragment,null,lt===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:_e,store:ot}),lt===o$8.Preparing&&(nt?nt(ft,dt,pt):a$8.createElement(m$6,{numLoadedPages:ft,numPages:dt,onCancel:pt})),(lt===o$8.Preparing||lt===o$8.Ready)&&ft<=dt&&a$8.createElement(g$4,{doc:_e,numLoadedPages:ft,pagesRotation:et,pageSizes:tt,printPages:vt,printStatus:lt,rotation:rt,onCancel:pt,onLoad:function(){var ct=ft+1;ct<=dt&&(gt(ct),ct===dt&&at(o$8.Ready))}}))},h$4=function($){var _e=$.onClick,et=a$8.useContext(e$8.LocalizationContext).l10n,tt=et&&et.print?et.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:_e},tt)},E$3=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&nt.key==="p"&&(e$8.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;rt&&document.activeElement&&rt.contains(document.activeElement)&&(nt.preventDefault(),et.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et})},print_min.getCustomPagesNumbers=function($){return function(_e){var et,tt=[];return $.replace(/\s+/g,"").split(",").forEach(function(nt){var rt,it,ot=nt.split("-").map(function(st){return parseInt(st,10)}).filter(function(st){return Number.isInteger(st)});ot.length===1?tt.push(ot[0]-1):ot.length===2&&tt.push.apply(tt,(rt=ot[0]-1,it=ot[1]-1,Array(it-rt+1).fill(0).map(function(st,lt){return rt+lt})))}),(et=tt,et.filter(function(nt){return et.indexOf(nt)===et.lastIndexOf(nt)})).filter(function(nt){return nt>=0&&nt<_e.numPages})}},print_min.getEvenPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et}).filter(function(_e){return(_e+1)%2==0})},print_min.getOddPagesNumbers=function($){return Array($.numPages).fill(0).map(function(_e,et){return et}).filter(function(_e){return(_e+1)%2==1})},print_min.printPlugin=function($){var _e=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(nt){return Array(nt.numPages).fill(0).map(function(rt,it){return it})}},$)},[]),et=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),tt=function(nt){return a$8.createElement(l$8,c$8({enableShortcuts:_e.enableShortcuts},nt,{store:et}))};return{print:function(){et.update("printStatus",o$8.CheckingPermission)},renderViewer:function(nt){var rt=nt.slot,it={children:a$8.createElement(a$8.Fragment,null,_e.enableShortcuts&&a$8.createElement(E$3,{containerRef:nt.containerRef,store:et}),a$8.createElement(v$4,{doc:nt.doc,pagesRotation:nt.pagesRotation,pageSizes:nt.pageSizes,renderProgressBar:$==null?void 0:$.renderProgressBar,rotation:nt.rotation,setPages:_e.setPages,store:et}),rt.children)};return c$8(c$8({},rt),it)},Print:tt,PrintButton:function(){return a$8.createElement(tt,null,function(nt){return a$8.createElement(s$6,c$8({},nt))})},PrintMenuItem:function(nt){return a$8.createElement(tt,null,function(rt){return a$8.createElement(h$4,{onClick:function(){rt.onClick(),nt.onClick()}})})},setPages:function(nt){_e.setPages=nt}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$7.apply(this,arguments)},a$7=function($){var _e=$.doc,et=$.render,tt=r$7.useState(),nt=tt[0],rt=tt[1];return r$7.useEffect(function(){_e.getMetadata().then(function(it){return Promise.resolve(it)}).then(function(it){return _e.getDownloadInfo().then(function(ot){return Promise.resolve({fileName:it.contentDispositionFilename||"",info:it.info,length:ot.length})})}).then(function(it){rt(it)})},[]),nt?et(nt):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function($){var _e=$.label,et=$.value,tt=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":tt})},r$7.createElement("dt",{className:"rpv-properties__item-label"},_e,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},et||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function($,_e,et,tt){var nt=parseInt($,10);return nt>=_e&&nt<=et?nt:tt},p$4=function($){var _e=$.doc,et=$.fileName,tt=$.onToggle,nt=r$7.useContext(e$7.LocalizationContext).l10n,rt=function(it){var ot=function(st){var lt=l$7.exec(st);if(!lt)return null;var at=parseInt(lt[1],10),mt=c$7(lt[2],1,12,1)-1,ft=c$7(lt[3],1,31,1),gt=c$7(lt[4],0,23,0),vt=c$7(lt[5],0,59,0),dt=c$7(lt[6],0,59,0),pt=lt[7]||"Z",ut=c$7(lt[8],0,23,0),ct=c$7(lt[9],0,59,0);switch(pt){case"-":gt+=ut,vt+=ct;break;case"+":gt-=ut,vt-=ct}return new Date(Date.UTC(at,mt,ft,gt,vt,dt))}(it);return ot?"".concat(ot.toLocaleDateString(),", ").concat(ot.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:_e,render:function(it){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileName:"File name",value:it.fileName||(lt=et,at=lt.split("/").pop(),at?at.split("#")[0].split("?")[0]:lt)}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.fileSize:"File size",value:(ot=it.length,st=Math.floor(Math.log(ot)/Math.log(1024)),"".concat((ot/Math.pow(1024,st)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][st]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.title:"Title",value:it.info.Title}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.author:"Author",value:it.info.Author}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.subject:"Subject",value:it.info.Subject}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.keywords:"Keywords",value:it.info.Keywords}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.creator:"Creator",value:it.info.Creator}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.creationDate:"Creation date",value:rt(it.info.CreationDate)}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.modificationDate:"Modification date",value:rt(it.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfProducer:"PDF producer",value:it.info.Producer}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pdfVersion:"PDF version",value:it.info.PDFFormatVersion}),r$7.createElement(i$7,{label:nt&&nt.properties?nt.properties.pageCount:"Page count",value:"".concat(_e.numPages)})));var ot,st,lt,at}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:tt},nt&&nt.properties?nt.properties.close:"Close")))},s$5={left:0,top:8},u$7=function($){var _e=$.onClick,et=r$7.useContext(e$7.LocalizationContext).l10n,tt=et&&et.properties?et.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:tt,testId:"properties__button",onClick:_e},r$7.createElement(n$7,null)),content:function(){return tt},offset:s$5})},m$5=function($){var _e=$.children,et=$.store,tt=function(it){var ot=r$7.useState(it.get("doc")),st=ot[0],lt=ot[1],at=function(mt){lt(mt)};return r$7.useEffect(function(){return it.subscribe("doc",at),function(){it.unsubscribe("doc",at)}},[]),{currentDoc:st}}(et).currentDoc,nt=et.get("fileName")||"",rt=_e||function(it){return r$7.createElement(u$7,o$7({},it))};return tt?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(it){return rt({onClick:it})},content:function(it){return r$7.createElement(p$4,{doc:tt,fileName:nt,onToggle:it})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function($){var _e=$.onClick,et=r$7.useContext(e$7.LocalizationContext).l10n,tt=et&&et.properties?et.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:_e},tt)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var $=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),_e=function(et){return r$7.createElement(m$5,o$7({},et,{store:$}))};return{onDocumentLoad:function(et){$.update("doc",et.doc)},onViewerStateChange:function(et){return $.update("fileName",et.file.name),et},ShowProperties:_e,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:$})},ShowPropertiesMenuItem:function(et){return r$7.createElement(_e,null,function(tt){return r$7.createElement(f$5,o$7({},tt))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function($){var _e=$.direction,et=$.onClick,tt=r$6.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=_e===t$6.RotateDirection.Backward?nt:rt,ot=_e===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:it,testId:_e===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:et},ot),content:function(){return it},offset:a$6})},u$6=function($){var _e=$.children,et=$.direction,tt=$.store;return(_e||function(nt){return r$6.createElement(i$6,{direction:nt.direction,onClick:nt.onClick})})({direction:et,onClick:function(){var nt=tt.get("rotate");nt&&nt(et)}})},l$6=function($){var _e=$.direction,et=$.onClick,tt=r$6.useContext(t$6.LocalizationContext).l10n,nt=tt&&tt.rotate?tt.rotate.rotateBackward:"Rotate counterclockwise",rt=tt&&tt.rotate?tt.rotate.rotateForward:"Rotate clockwise",it=_e===t$6.RotateDirection.Backward?nt:rt,ot=_e===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:ot,testId:_e===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:et},it)},d$5=function($){var _e=$.children,et=$.store;return _e({onRotatePage:function(tt,nt){var rt=et.get("rotatePage");rt&&rt(tt,nt)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var $=r$6.useMemo(function(){return t$6.createStore()},[]),_e=function(et){return r$6.createElement(u$6,c$6({},et,{store:$}))};return{install:function(et){$.update("rotate",et.rotate),$.update("rotatePage",et.rotatePage)},Rotate:_e,RotateBackwardButton:function(){return r$6.createElement(_e,{direction:t$6.RotateDirection.Backward},function(et){return r$6.createElement(i$6,c$6({},et))})},RotateBackwardMenuItem:function(et){return r$6.createElement(_e,{direction:t$6.RotateDirection.Backward},function(tt){return r$6.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),et.onClick()}})})},RotateForwardButton:function(){return r$6.createElement(_e,{direction:t$6.RotateDirection.Forward},function(et){return r$6.createElement(i$6,c$6({},et))})},RotateForwardMenuItem:function(et){return r$6.createElement(_e,{direction:t$6.RotateDirection.Forward},function(tt){return r$6.createElement(l$6,{direction:tt.direction,onClick:function(){tt.onClick(),et.onClick()}})})},RotatePage:function(et){return r$6.createElement(d$5,c$6({},et,{store:$}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},i$5.apply(this,arguments)},a$5=function($,_e){$.get("switchScrollMode")(_e);var et=$.get("viewMode");_e!==e$5.ScrollMode.Horizontal&&_e!==e$5.ScrollMode.Wrapped||et===e$5.ViewMode.SinglePage||$.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function($){var _e=$.children,et=$.mode,tt=$.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(d$4,null);switch(et){case e$5.ScrollMode.Horizontal:rt=nt&&nt.scrollMode?nt.scrollMode.horizontalScrolling:"Horizontal scrolling",it=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:rt=nt&&nt.scrollMode?nt.scrollMode.pageScrolling:"Page scrolling",it=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:rt=nt&&nt.scrollMode?nt.scrollMode.wrappedScrolling:"Wrapped scrolling",it=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:rt=nt&&nt.scrollMode?nt.scrollMode.verticalScrolling:"Vertical scrolling",it=t$5.createElement(d$4,null)}return _e({icon:it,label:rt,onClick:tt})},m$4={left:0,top:8},M$2=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:_e,isSelected:et,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:m$4})})},f$4=function($){var _e=t$5.useState($.get("scrollMode")||e$5.ScrollMode.Vertical),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return $.subscribe("scrollMode",nt),function(){$.unsubscribe("scrollMode",nt)}},[]),{scrollMode:et}},w$1=function($){var _e=t$5.useState($.get("viewMode")||e$5.ViewMode.SinglePage),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return t$5.useEffect(function(){return $.subscribe("viewMode",nt),function(){$.unsubscribe("viewMode",nt)}},[]),{viewMode:et}},S$3=function($){var _e=$.children,et=$.mode,tt=$.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode===et,it=(et===e$5.ScrollMode.Horizontal||et===e$5.ScrollMode.Wrapped)&&nt!==e$5.ViewMode.SinglePage;return(_e||function(ot){return t$5.createElement(M$2,{isDisabled:it,isSelected:rt,mode:ot.mode,onClick:ot.onClick})})({isDisabled:it,isSelected:rt,mode:et,onClick:function(){a$5(tt,et)}})},g$3=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ScrollMode.Horizontal:rt="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:rt="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:rt="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:rt="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:et,icon:it.icon,isDisabled:_e,testId:rt,onClick:it.onClick},it.label)})},h$3=function($,_e){$.get("switchViewMode")(_e);var et=$.get("scrollMode");et!==e$5.ScrollMode.Horizontal&&et!==e$5.ScrollMode.Wrapped||_e===e$5.ViewMode.SinglePage||$.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function($){var _e=$.children,et=$.mode,tt=$.onClick,nt=t$5.useContext(e$5.LocalizationContext).l10n,rt="",it=t$5.createElement(r$5,null);switch(et){case e$5.ViewMode.DualPage:rt=nt&&nt.scrollMode?nt.scrollMode.dualPage:"Dual page",it=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:rt=nt&&nt.scrollMode?nt.scrollMode.dualPageCover:"Dual page with cover",it=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:rt=nt&&nt.scrollMode?nt.scrollMode.singlePage:"Single page",it=t$5.createElement(r$5,null)}return _e({icon:it,label:rt,onClick:tt})},p$3={left:0,top:8},v$3=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-button"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:it.label,isDisabled:_e,isSelected:et,testId:rt,onClick:it.onClick},it.icon),content:function(){return it.label},offset:p$3})})},k$2=function($){var _e=$.children,et=$.mode,tt=$.store,nt=w$1(tt).viewMode,rt=f$4(tt).scrollMode,it=nt===et,ot=(rt===e$5.ScrollMode.Horizontal||rt===e$5.ScrollMode.Wrapped)&&et!==e$5.ViewMode.SinglePage;return(_e||function(st){return t$5.createElement(v$3,{isDisabled:ot,isSelected:it,mode:st.mode,onClick:st.onClick})})({isDisabled:ot,isSelected:it,mode:et,onClick:function(){h$3(tt,et)}})},C$2=function($){var _e=$.isDisabled,et=$.isSelected,tt=$.mode,nt=$.onClick,rt="";switch(tt){case e$5.ViewMode.DualPage:rt="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:rt="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:rt="view-mode__single-menu"}return t$5.createElement(b$3,{mode:tt,onClick:nt},function(it){return t$5.createElement(e$5.MenuItem,{checked:et,icon:it.icon,isDisabled:_e,testId:rt,onClick:it.onClick},it.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var $=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),_e=function(tt){return t$5.createElement(S$3,i$5({},tt,{store:$}))},et=function(tt){return t$5.createElement(k$2,i$5({},tt,{store:$}))};return{install:function(tt){$.update("switchScrollMode",tt.switchScrollMode),$.update("switchViewMode",tt.switchViewMode)},onViewerStateChange:function(tt){return $.update("scrollMode",tt.scrollMode),$.update("viewMode",tt.viewMode),tt},switchScrollMode:function(tt){a$5($,tt)},switchViewMode:function(tt){h$3($,tt)},SwitchScrollMode:_e,SwitchScrollModeButton:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(M$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchScrollModeMenuItem:function(tt){return t$5.createElement(_e,{mode:tt.mode},function(nt){return t$5.createElement(g$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})},SwitchViewMode:et,SwitchViewModeButton:function(tt){return t$5.createElement(et,{mode:tt.mode},function(nt){return t$5.createElement(v$3,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick()}})})},SwitchViewModeMenuItem:function(tt){return t$5.createElement(et,{mode:tt.mode},function(nt){return t$5.createElement(C$2,{isDisabled:nt.isDisabled,isSelected:nt.isSelected,mode:nt.mode,onClick:function(){nt.onClick(),tt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function($){return{left:"".concat($.left,"%"),top:"".concat($.top,"%"),height:"".concat($.height,"%"),width:"".concat($.width,"%")}},s$3=function($){var _e=$.index,et=$.area,tt=$.onHighlightKeyword,nt=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var rt=nt.current;tt&&rt&&tt({highlightEle:rt,keyword:et.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":_e,ref:nt,style:i$4(et),title:et.keywordStr.trim()})},l$4=function($){var _e=$.parentNode;_e&&_e.removeChild($)},h$2=function($){var _e=$.parentNode;if(_e){var et=document.createRange();et.selectNodeContents($),function(tt,nt){l$4(tt);var rt=nt.parentNode;rt&&rt.insertBefore(tt,nt),l$4(nt)}(et.extractContents(),$),_e.normalize()}},d$3=function($,_e){return $.top<_e.top?-1:$.top>_e.top?1:$.left<_e.left?-1:$.left>_e.left?1:0},f$3=function($){var _e=$.numPages,et=$.pageIndex,tt=$.renderHighlights,nt=$.store,rt=$.onHighlightKeyword,it=r$4.useRef(),ot=r$4.useCallback(function(Nt){return r$4.createElement(r$4.Fragment,null,Nt.highlightAreas.map(function(Vt,qt){return r$4.createElement(s$3,{index:qt,key:qt,area:Vt,onHighlightKeyword:rt})}))},[]),st=tt||ot,lt=r$4.useState(nt.get("matchPosition")),at=lt[0],mt=lt[1],ft=r$4.useState(nt.get("keyword")||[u$4]),gt=ft[0],vt=ft[1],dt=r$4.useState({pageIndex:et,scale:1,status:e$4.LayerRenderStatus.PreRender}),pt=dt[0],ut=dt[1],ct=r$4.useRef(null),xt=r$4.useRef([]),yt=r$4.useState([]),ht=yt[0],bt=yt[1],Tt=function(){return!0},Pt=r$4.useCallback(function(){return nt.get("targetPageFilter")||Tt},[nt.get("targetPageFilter")]),wt=function(Nt){var Vt=xt.current;if(Vt.length===0)return[];var qt=[],un=[].slice.call(Nt.querySelectorAll(".rpv-core__text-layer-text")),Bt=Vt.map(function(nn){return nn.char}).join("");return gt.forEach(function(nn){var tn=nn.keyword;if(tn.trim()){for(var _n,Nn=nn.regExp.flags.indexOf("g")===-1?new RegExp(nn.regExp,"".concat(nn.regExp.flags,"g")):nn.regExp,Lt=[];(_n=Nn.exec(Bt))!==null;)Lt.push({keyword:Nn,startIndex:_n.index,endIndex:Nn.lastIndex});Lt.map(function(Et){return{keyword:Et.keyword,indexes:Vt.slice(Et.startIndex,Et.endIndex)}}).forEach(function(Et){var Ct=Et.indexes.reduce(function(St,Rt){return St[Rt.spanIndex]=(St[Rt.spanIndex]||[]).concat([Rt]),St},{});Object.values(Ct).forEach(function(St){if(St.length!==1||St[0].char.trim()!==""){var Rt=nn.wholeWords?St.slice(1,-1):St,jt=function(It,zt,Wt,Zt,Kt){var Xt=document.createRange(),rn=Zt.firstChild;if(!rn||rn.nodeType!==Node.TEXT_NODE)return null;var bn=rn.textContent.length,En=Kt[0].charIndexInSpan,Tn=Kt.length===1?En:Kt[Kt.length-1].charIndexInSpan;if(En>bn||Tn+1>bn)return null;Xt.setStart(rn,En),Xt.setEnd(rn,Tn+1);var In=document.createElement("span");Xt.surroundContents(In);var Fn=In.getBoundingClientRect(),qn=Wt.getBoundingClientRect(),An=qn.height,hn=qn.width,pn=100*(Fn.left-qn.left)/hn,jn=100*(Fn.top-qn.top)/An,Gn=100*Fn.height/An,Xn=100*Fn.width/hn;return h$2(In),{keyword:zt,keywordStr:It,numPages:_e,pageIndex:et,left:pn,top:jn,height:Gn,width:Xn,pageHeight:An,pageWidth:hn}}(tn,Et.keyword,Nt,un[Rt[0].spanIndex],Rt);jt&&qt.push(jt)}})})}}),qt.sort(d$3)},kt=function(Nt){Nt&&Nt.length>0&&vt(Nt)},Mt=function(Nt){return mt(Nt)},Dt=function(Nt){if(Nt.has(et)){var Vt=Nt.get(et);Vt&&ut({ele:Vt.ele,pageIndex:et,scale:Vt.scale,status:Vt.status})}},Ht=function(){return gt.length===0||gt.length===1&&gt[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Ht()&&pt.status===e$4.LayerRenderStatus.DidRender&&!xt.current.length){var Nt=pt.ele,Vt=[].slice.call(Nt.querySelectorAll(".rpv-core__text-layer-text")).map(function(qt){return qt.textContent}).reduce(function(qt,un,Bt){return qt.concat(un.split("").map(function(nn,tn){return{char:nn,charIndexInSpan:tn,spanIndex:Bt}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);xt.current=Vt}},[gt,pt.status]),r$4.useEffect(function(){if(!Ht()&&pt.ele&&pt.status===e$4.LayerRenderStatus.DidRender&&Pt()({pageIndex:et,numPages:_e})){var Nt=pt.ele,Vt=wt(Nt);bt(Vt)}},[gt,at,pt.status,xt.current]),r$4.useEffect(function(){Ht()&&pt.ele&&pt.status===e$4.LayerRenderStatus.DidRender&&bt([])},[gt,pt.status]),r$4.useEffect(function(){if(ht.length!==0){var Nt=it.current;if(at.pageIndex===et&&Nt&&pt.status===e$4.LayerRenderStatus.DidRender){var Vt=Nt.querySelector('.rpv-search__highlight[data-index="'.concat(at.matchIndex,'"]'));if(Vt){var qt=function(tn,_n){for(var Nn=tn.offsetTop,Lt=tn.offsetLeft,Et=tn.parentElement;Et&&Et!==_n;)Nn+=Et.offsetTop,Lt+=Et.offsetLeft,Et=Et.parentElement;return{left:Lt,top:Nn}}(Vt,Nt),un=qt.left,Bt=qt.top,nn=nt.get("jumpToDestination");nn&&(nn({pageIndex:et,bottomOffset:(Nt.getBoundingClientRect().height-Bt)/pt.scale,leftOffset:un/pt.scale,scaleTo:pt.scale}),ct.current&&ct.current.classList.remove("rpv-search__highlight--current"),ct.current=Vt,Vt.classList.add("rpv-search__highlight--current"))}}}},[ht,at]),r$4.useEffect(function(){return nt.subscribe("keyword",kt),nt.subscribe("matchPosition",Mt),nt.subscribe("renderStatus",Dt),function(){nt.unsubscribe("keyword",kt),nt.unsubscribe("matchPosition",Mt),nt.unsubscribe("renderStatus",Dt)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(et),ref:it},st({getCssProperties:i$4,highlightAreas:ht}))},p$2=function($){var _e,et=$.wholeWords?" ".concat($.keyword," "):$.keyword,tt=$.matchCase?"g":"gi";return{keyword:$.keyword,regExp:new RegExp((_e=et,_e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),tt),wholeWords:$.wholeWords||!1}},g$2=function($,_e,et){return $ instanceof RegExp?{keyword:$.source,regExp:$,wholeWords:et||!1}:typeof $=="string"?$===""?u$4:p$2({keyword:$,matchCase:_e||!1,wholeWords:et||!1}):(_e!==void 0&&($.matchCase=_e),et!==void 0&&($.wholeWords=et),p$2($))},m$3=function($){var _e,et=$.get("initialKeyword"),tt=r$4.useMemo(function(){if(et&&et.length===1){var Mt=g$2(et[0]);return{matchCase:Mt.regExp.flags.indexOf("i")===-1,wholeWords:Mt.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),nt=function(Mt){var Dt=r$4.useRef(Mt.get("doc")),Ht=function(Nt){Dt.current=Nt};return r$4.useEffect(function(){return Mt.subscribe("doc",Ht),function(){Mt.unsubscribe("doc",Ht)}},[]),Dt}($),rt=r$4.useState(et),it=rt[0],ot=rt[1],st=r$4.useState([]),lt=st[0],at=st[1],mt=r$4.useState(0),ft=mt[0],gt=mt[1],vt=r$4.useState(tt.matchCase),dt=vt[0],pt=vt[1],ut=r$4.useRef([]),ct=r$4.useState(tt.wholeWords),xt=ct[0],yt=ct[1],ht=function(){return!0},bt=r$4.useCallback(function(){return $.get("targetPageFilter")||ht},[$.get("targetPageFilter")]),Tt=function(Mt){var Dt=lt.length;if(it.length===0||Dt===0)return null;var Ht=Mt===Dt+1?1:Math.max(1,Math.min(Dt,Mt));return gt(Ht),wt(lt[Ht-1])},Pt=function(Mt){return ot(Mt===""?[]:[Mt])},wt=function(Mt){var Dt=$.get("jumpToPage");return Dt&&Dt(Mt.pageIndex),$.update("matchPosition",{matchIndex:Mt.matchIndex,pageIndex:Mt.pageIndex}),Mt},kt=function(Mt,Dt,Ht){var Nt=nt.current;if(!Nt)return Promise.resolve([]);var Vt=Nt.numPages,qt=Mt.map(function(un){return g$2(un,Dt,Ht)});return $.update("keyword",qt),gt(0),at([]),new Promise(function(un,Bt){var nn=ut.current.length===0?function(){var tn=nt.current;if(!tn)return Promise.resolve([]);var _n=Array(tn.numPages).fill(0).map(function(Nn,Lt){return e$4.getPage(tn,Lt).then(function(Et){return Et.getTextContent()}).then(function(Et){var Ct=Et.items.map(function(St){return St.str||""}).join("");return Promise.resolve({pageContent:Ct,pageIndex:Lt})})});return Promise.all(_n).then(function(Nn){return Nn.sort(function(Lt,Et){return Lt.pageIndex-Et.pageIndex}),Promise.resolve(Nn.map(function(Lt){return Lt.pageContent}))})}().then(function(tn){return ut.current=tn,Promise.resolve(tn)}):Promise.resolve(ut.current);nn.then(function(tn){var _n=[];tn.forEach(function(Nn,Lt){bt()({pageIndex:Lt,numPages:Vt})&&qt.forEach(function(Et){for(var Ct,St=0;(Ct=Et.regExp.exec(Nn))!==null;)_n.push({keyword:Et.regExp,matchIndex:St,pageIndex:Lt,pageText:Nn,startIndex:Ct.index,endIndex:Et.regExp.lastIndex}),St++})}),at(_n),_n.length>0&&(gt(1),wt(_n[0])),un(_n)})})};return r$4.useEffect(function(){ut.current=[]},[nt.current]),{clearKeyword:function(){$.update("keyword",[u$4]),Pt(""),gt(0),at([]),pt(!1),yt(!1)},changeMatchCase:function(Mt){pt(Mt),it.length>0&&kt(it,Mt,xt)},changeWholeWords:function(Mt){yt(Mt),it.length>0&&kt(it,dt,Mt)},currentMatch:ft,jumpToMatch:Tt,jumpToNextMatch:function(){return Tt(ft+1)},jumpToPreviousMatch:function(){return Tt(ft-1)},keywords:it,matchCase:dt,numberOfMatches:lt.length,wholeWords:xt,search:function(){return kt(it,dt,xt)},searchFor:kt,setKeywords:ot,keyword:it.length===0?"":(_e=it[0],_e instanceof RegExp?_e.source:typeof _e=="string"?_e:_e.keyword),setKeyword:Pt,setTargetPages:function(Mt){$.update("targetPageFilter",Mt)}}},v$2=function($){var _e=$.children,et=$.store,tt=m$3(et),nt=r$4.useState(!1),rt=nt[0],it=nt[1],ot=function(st){return it(!0)};return r$4.useEffect(function(){return et.subscribe("doc",ot),function(){et.unsubscribe("doc",ot)}},[]),_e(c$4(c$4({},tt),{isDocumentLoaded:rt}))},x=function($){var _e=$.containerRef,et=$.store,tt=r$4.useRef(!1),nt=function(){tt.current=!0},rt=function(){tt.current=!1},it=function(ot){var st=_e.current;st&&(ot.shiftKey||ot.altKey||ot.key!=="f"||(e$4.isMac()?ot.metaKey&&!ot.ctrlKey:ot.ctrlKey)&&(tt.current||document.activeElement&&st.contains(document.activeElement))&&(ot.preventDefault(),et.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var ot=_e.current;if(ot)return document.addEventListener("keydown",it),ot.addEventListener("mouseenter",nt),ot.addEventListener("mouseleave",rt),function(){document.removeEventListener("keydown",it),ot.removeEventListener("mouseenter",nt),ot.removeEventListener("mouseleave",rt)}},[_e.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function($){var _e=$.store,et=$.onToggle,tt=r$4.useContext(e$4.LocalizationContext).l10n,nt=r$4.useContext(e$4.ThemeContext).direction,rt=r$4.useState(!1),it=rt[0],ot=rt[1],st=r$4.useState(!1),lt=st[0],at=st[1],mt=nt===e$4.TextDirection.RightToLeft,ft=m$3(_e),gt=ft.clearKeyword,vt=ft.changeMatchCase,dt=ft.changeWholeWords,pt=ft.currentMatch,ut=ft.jumpToNextMatch,ct=ft.jumpToPreviousMatch,xt=ft.keyword,yt=ft.matchCase,ht=ft.numberOfMatches,bt=ft.wholeWords,Tt=ft.search,Pt=ft.setKeyword,wt=function(Nt){ot(!0),Tt().then(function(Vt){ot(!1),at(!0),Nt&&Nt()})};r$4.useEffect(function(){var Nt=_e.get("initialKeyword");Nt&&Nt.length===1&&xt&&wt(function(){_e.update("initialKeyword",[])})},[]);var kt=tt&&tt.search?tt.search.enterToSearch:"Enter to search",Mt=tt&&tt.search?tt.search.previousMatch:"Previous match",Dt=tt&&tt.search?tt.search.nextMatch:"Next match",Ht=tt&&tt.search?tt.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:kt,autoFocus:!0,placeholder:kt,type:"text",value:xt,onChange:function(Nt){at(!1),Pt(Nt)},onKeyDown:function(Nt){Nt.key==="Enter"&&xt&&(lt?ut():wt())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!mt,"rpv-search__popover-counter--rtl":mt})},it&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!it&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},pt,"/",ht))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:yt,type:"checkbox",onChange:function(Nt){at(!1),vt(Nt.target.checked)}})," ",tt&&tt.search?tt.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:bt,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Nt){at(!1),dt(Nt.target.checked)}})," ",tt&&tt.search?tt.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:mt?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Mt,isDisabled:pt<=1,onClick:ct},r$4.createElement(o$4,null)),content:function(){return Mt},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Dt,isDisabled:pt>ht-1,onClick:ut},r$4.createElement(n$4,null)),content:function(){return Dt},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!mt,"rpv-search__popover-footer-button--rtl":mt})},r$4.createElement(e$4.Button,{onClick:function(){et(),gt()}},Ht))))},w=function($){var _e=$.children,et=$.onClick,tt=r$4.useContext(e$4.LocalizationContext).l10n,nt=tt&&tt.search?tt.search.search:"Search";return _e({icon:r$4.createElement(a$4,null),label:nt,onClick:et})},b$2={left:0,top:8},k$1=function($){var _e=$.enableShortcuts,et=$.store,tt=$.onClick,nt=_e?e$4.isMac()?"Meta+F":"Ctrl+F":"",rt=function(it){it&&tt()};return r$4.useEffect(function(){return et.subscribe("areShortcutsPressed",rt),function(){et.unsubscribe("areShortcutsPressed",rt)}},[]),r$4.createElement(w,{onClick:tt},function(it){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:nt,ariaLabel:it.label,testId:"search__popover-button",onClick:tt},it.icon),content:function(){return it.label},offset:b$2})})},S$2={left:0,top:8},C$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,rt=_e||function(it){return r$4.createElement(k$1,c$4({enableShortcuts:et,store:tt},it))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:nt,target:function(it){return rt({onClick:it})},content:function(it){return r$4.createElement(E$2,{store:tt,onToggle:it})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function($){return Array.isArray($)?$.map(function(_e){return g$2(_e)}):[g$2($)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function($){var _e=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},$)},[]),et=r$4.useMemo(function(){return e$4.createStore({initialKeyword:$&&$.keyword?Array.isArray($.keyword)?$.keyword:[$.keyword]:[],keyword:$&&$.keyword?P$1($.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),tt=m$3(et),nt=tt.clearKeyword,rt=tt.jumpToMatch,it=tt.jumpToNextMatch,ot=tt.jumpToPreviousMatch,st=tt.searchFor,lt=tt.setKeywords,at=tt.setTargetPages,mt=function(ft){return r$4.createElement(C$1,c$4({enableShortcuts:_e.enableShortcuts},ft,{store:et}))};return{install:function(ft){var gt=$&&$.keyword?Array.isArray($.keyword)?$.keyword:[$.keyword]:[],vt=$&&$.keyword?P$1($.keyword):[u$4];et.update("initialKeyword",gt),et.update("jumpToDestination",ft.jumpToDestination),et.update("jumpToPage",ft.jumpToPage),et.update("keyword",vt)},renderPageLayer:function(ft){return r$4.createElement(f$3,{key:ft.pageIndex,numPages:ft.doc.numPages,pageIndex:ft.pageIndex,renderHighlights:$==null?void 0:$.renderHighlights,store:et,onHighlightKeyword:_e.onHighlightKeyword})},renderViewer:function(ft){var gt=ft.slot;return gt.subSlot&&(gt.subSlot.children=r$4.createElement(r$4.Fragment,null,_e.enableShortcuts&&r$4.createElement(x,{containerRef:ft.containerRef,store:et}),gt.subSlot.children)),gt},uninstall:function(ft){var gt=et.get("renderStatus");gt&&gt.clear()},onDocumentLoad:function(ft){et.update("doc",ft.doc)},onTextLayerRender:function(ft){var gt=et.get("renderStatus");gt&&(gt=gt.set(ft.pageIndex,ft),et.update("renderStatus",gt))},Search:function(ft){return r$4.createElement(v$2,c$4({},ft,{store:et}))},ShowSearchPopover:mt,ShowSearchPopoverButton:function(){return r$4.createElement(mt,null,function(ft){return r$4.createElement(k$1,c$4({enableShortcuts:_e.enableShortcuts,store:et},ft))})},clearHighlights:function(){nt()},highlight:function(ft){var gt=Array.isArray(ft)?ft:[ft];return lt(gt),st(gt)},jumpToMatch:rt,jumpToNextMatch:it,jumpToPreviousMatch:ot,setTargetPages:at}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function($){var _e=$.onClick,et=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=et.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:rt,testId:"theme__switch-button",onClick:_e},nt?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return rt},offset:a$3})},l$3=function($){var _e=$.children,et=n$3.useContext(e$3.ThemeContext);return(_e||function(tt){return n$3.createElement(i$3,{onClick:tt.onClick})})({onClick:function(){return et.setCurrentTheme(et.currentTheme==="dark"?"light":"dark")}})},u$3=function($){var _e=$.onClick,et=n$3.useContext(e$3.ThemeContext),tt=n$3.useContext(e$3.LocalizationContext).l10n,nt=et.currentTheme==="dark",rt=tt&&tt.theme?nt?tt.theme.switchLightTheme:tt.theme.switchDarkTheme:nt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:nt?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:_e},rt)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var $=function(_e){return n$3.createElement(l$3,o$3({},_e))};return{SwitchTheme:$,SwitchThemeButton:function(){return n$3.createElement($,null,function(_e){return n$3.createElement(i$3,o$3({},_e))})},SwitchThemeMenuItem:function(_e){return n$3.createElement($,null,function(et){return n$3.createElement(u$3,{onClick:function(){et.onClick(),_e.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},c$2.apply(this,arguments)},a$2=function($){var _e=n$2.useState($.get("scale")||0),et=_e[0],tt=_e[1],nt=function(rt){tt(rt)};return n$2.useEffect(function(){return $.subscribe("scale",nt),function(){$.unsubscribe("scale",nt)}},[]),{scale:et}},u$2=function($){var _e=$.children,et=$.store;return(_e||function(tt){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*tt.scale),"%"))})({scale:a$2(et).scale})},l$2={passive:!1},i$2=null,s$2=function($){var _e=$.pagesContainerRef,et=$.store,tt=e$2.useDebounceCallback(function(rt){var it=et.get("zoom");it&&it(rt)},40),nt=function(rt){if(rt.ctrlKey){rt.preventDefault();var it=rt.target.getBoundingClientRect(),ot=1-rt.deltaY/100,st=rt.clientX-it.left,lt=rt.clientY-it.top,at=et.get("scale"),mt=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(st,lt).scale(ot).translate(-st,-lt).scale(at);tt(mt.a)}};return e$2.useIsomorphicLayoutEffect(function(){var rt=_e.current;if(rt)return rt.addEventListener("wheel",nt,l$2),function(){rt.removeEventListener("wheel",nt)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function($){return m$2.find(function(_e){return _e>$})||$},v$1=function($){var _e=m$2.findIndex(function(et){return et>=$});return _e===-1||_e===0?$:m$2[_e-1]},p$1=function($){var _e=$.containerRef,et=$.store,tt=function(nt){if(!nt.shiftKey&&!nt.altKey&&(e$2.isMac()?nt.metaKey:nt.ctrlKey)){var rt=_e.current;if(rt&&document.activeElement&&rt.contains(document.activeElement)){var it=et.get("zoom");if(it){var ot=et.get("scale")||1,st=1;switch(nt.key){case"-":st=v$1(ot);break;case"=":st=f$2(ot);break;case"0":st=1;break;default:st=ot}st!==ot&&(nt.preventDefault(),it(st))}}}};return n$2.useEffect(function(){if(_e.current)return document.addEventListener("keydown",tt),function(){document.removeEventListener("keydown",tt)}},[_e.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function($){var _e=$.levels,et=_e===void 0?z:_e,tt=$.scale,nt=$.onZoom,rt=n$2.useContext(e$2.LocalizationContext).l10n,it=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,ot=rt&&rt.zoom?rt.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(st){return n$2.createElement(e$2.MinimalButton,{ariaLabel:ot,testId:"zoom__popover-target",onClick:function(){st()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!it,"rpv-zoom__popover-target-scale--rtl":it})},Math.round(100*tt),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(st){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(lt){var at=lt;return n$2.createElement(e$2.MenuItem,{key:at,onClick:function(){st(),nt(at)}},function(mt){switch(mt){case e$2.SpecialZoomLevel.ActualSize:return rt&&rt.zoom?rt.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return rt&&rt.zoom?rt.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return rt&&rt.zoom?rt.zoom.pageWidth:"Page width"}}(at))}),n$2.createElement(e$2.MenuDivider,null),et.map(function(lt){return n$2.createElement(e$2.MenuItem,{key:lt,onClick:function(){st(),nt(lt)}},"".concat(Math.round(100*lt),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function($){var _e=$.children,et=$.levels,tt=$.store;return(_e||function(nt){return n$2.createElement(d$2,{levels:et,scale:nt.scale,onZoom:nt.onZoom})})({scale:a$2(tt).scale,onZoom:function(nt){var rt=tt.get("zoom");rt&&rt(nt)}})},C={left:0,top:8},h$1=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomIn:"Zoom in",rt=_e?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__in-button",onClick:et},n$2.createElement(o$2,null)),content:function(){return nt},offset:C})},b$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=a$2(tt).scale;return(_e||h$1)({enableShortcuts:et,onClick:function(){var rt=tt.get("zoom");rt&&rt(f$2(nt))}})},k=function($){var _e=$.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:_e},tt)},S$1={left:0,top:8},M$1=function($){var _e=$.enableShortcuts,et=$.onClick,tt=n$2.useContext(e$2.LocalizationContext).l10n,nt=tt&&tt.zoom?tt.zoom.zoomOut:"Zoom out",rt=_e?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:rt,ariaLabel:nt,testId:"zoom__out-button",onClick:et},n$2.createElement(r$2,null)),content:function(){return nt},offset:S$1})},I$1=function($){var _e=$.children,et=$.enableShortcuts,tt=$.store,nt=a$2(tt).scale;return(_e||M$1)({enableShortcuts:et,onClick:function(){var rt=tt.get("zoom");rt&&rt(v$1(nt))}})},Z=function($){var _e=$.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:_e},tt)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function($){var _e=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},$)},[]),et=n$2.useMemo(function(){return e$2.createStore({})},[]),tt=function(it){return n$2.createElement(b$1,c$2({enableShortcuts:_e.enableShortcuts},it,{store:et}))},nt=function(it){return n$2.createElement(I$1,c$2({enableShortcuts:_e.enableShortcuts},it,{store:et}))},rt=function(it){return n$2.createElement(g$1,c$2({},it,{store:et}))};return{renderViewer:function(it){var ot=it.slot;if(!_e.enableShortcuts)return ot;var st={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:it.containerRef,store:et}),n$2.createElement(s$2,{pagesContainerRef:it.pagesContainerRef,store:et}),ot.children)};return c$2(c$2({},ot),st)},install:function(it){et.update("zoom",it.zoom)},onViewerStateChange:function(it){return et.update("scale",it.scale),it},zoomTo:function(it){var ot=et.get("zoom");ot&&ot(it)},CurrentScale:function(it){return n$2.createElement(u$2,c$2({},it,{store:et}))},ZoomIn:tt,ZoomInButton:function(){return n$2.createElement(tt,null,function(it){return n$2.createElement(h$1,c$2({},it))})},ZoomInMenuItem:function(it){return n$2.createElement(tt,null,function(ot){return n$2.createElement(k,{onClick:function(){ot.onClick(),it.onClick()}})})},ZoomOut:nt,ZoomOutButton:function(){return n$2.createElement(nt,null,function(it){return n$2.createElement(M$1,c$2({},it))})},ZoomOutMenuItem:function(it){return n$2.createElement(nt,null,function(ot){return n$2.createElement(Z,{onClick:function(){ot.onClick(),it.onClick()}})})},Zoom:rt,ZoomPopover:function(it){return n$2.createElement(rt,null,function(ot){return n$2.createElement(d$2,c$2({levels:it==null?void 0:it.levels},ot))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function($){var _e=$.toolbarSlot,et=_.useContext(e$1.LocalizationContext).l10n,tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,nt=_e.DownloadMenuItem,rt=_e.EnterFullScreenMenuItem,it=_e.GoToFirstPageMenuItem,ot=_e.GoToLastPageMenuItem,st=_e.GoToNextPageMenuItem,lt=_e.GoToPreviousPageMenuItem,at=_e.OpenMenuItem,mt=_e.PrintMenuItem,ft=_e.RotateBackwardMenuItem,gt=_e.RotateForwardMenuItem,vt=_e.ShowPropertiesMenuItem,dt=_e.SwitchScrollModeMenuItem,pt=_e.SwitchSelectionModeMenuItem,ut=_e.SwitchViewModeMenuItem,ct=_e.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:tt,target:function(xt,yt){var ht=et&&et.toolbar?et.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:tt,target:_.createElement(e$1.MinimalButton,{ariaLabel:ht,isSelected:yt,testId:"toolbar__more-actions-popover-target",onClick:xt},_.createElement(E,null)),content:function(){return ht},offset:g})},content:function(xt){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ct,{onClick:xt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(rt,{onClick:xt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(at,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(mt,{onClick:xt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(nt,{onClick:xt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(it,{onClick:xt}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(lt,{onClick:xt})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(st,{onClick:xt})),_.createElement(ot,{onClick:xt}),_.createElement(e$1.MenuDivider,null),_.createElement(gt,{onClick:xt}),_.createElement(ft,{onClick:xt}),_.createElement(e$1.MenuDivider,null),_.createElement(pt,{mode:t$1.SelectionMode.Text,onClick:xt}),_.createElement(pt,{mode:t$1.SelectionMode.Hand,onClick:xt}),_.createElement(e$1.MenuDivider,null),_.createElement(dt,{mode:e$1.ScrollMode.Page,onClick:xt}),_.createElement(dt,{mode:e$1.ScrollMode.Vertical,onClick:xt}),_.createElement(dt,{mode:e$1.ScrollMode.Horizontal,onClick:xt}),_.createElement(dt,{mode:e$1.ScrollMode.Wrapped,onClick:xt}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ut,{mode:e$1.ViewMode.SinglePage,onClick:xt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ut,{mode:e$1.ViewMode.DualPage,onClick:xt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ut,{mode:e$1.ViewMode.DualPageWithCover,onClick:xt})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(vt,{onClick:xt}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},M.apply(this,arguments)},h=function($){return function(_e){var et=_.useMemo(function(){return $(_e)},[]),tt=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,nt=et.CurrentPageInput,rt=et.Download,it=et.EnterFullScreen,ot=et.GoToNextPage,st=et.GoToPreviousPage,lt=et.NumberOfPages,at=et.Open,mt=et.Print,ft=et.ShowSearchPopover,gt=et.SwitchTheme,vt=et.Zoom,dt=et.ZoomIn,pt=et.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":tt}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ft,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(st,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(nt,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(lt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ot,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pt,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(vt,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(dt,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(gt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(it,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(at,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(rt,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(mt,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:et}))))}},f$1=function($){var _e=$.NumberOfPages;return Object.assign({},$,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(_e,null))}})},S=function($){return h(f$1)($)},I=function($){var _e=$.children,et=$.slot;return(_e||S)(et)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function($){var _e=n$1.fullScreenPlugin($?$.fullScreenPlugin:{}),et=o$1.getFilePlugin($?$.getFilePlugin:{}),tt=a$1.openPlugin($?$.openPlugin:{}),nt=l$1.pageNavigationPlugin($?$.pageNavigationPlugin:{}),rt=i$1.printPlugin($?$.printPlugin:{}),it=c$1.propertiesPlugin(),ot=m$1.rotatePlugin(),st=u$1.scrollModePlugin(),lt=s$1.searchPlugin($?$.searchPlugin:{}),at=t$1.selectionModePlugin($?$.selectionModePlugin:{}),mt=d$1.themePlugin(),ft=p.zoomPlugin($?$.zoomPlugin:{}),gt=[_e,et,tt,nt,rt,it,ot,st,lt,at,mt,ft],vt=_.useCallback(function(dt){var pt=_e.EnterFullScreen,ut=_e.EnterFullScreenMenuItem,ct=et.Download,xt=et.DownloadMenuItem,yt=tt.Open,ht=tt.OpenMenuItem,bt=nt.CurrentPageInput,Tt=nt.CurrentPageLabel,Pt=nt.GoToFirstPage,wt=nt.GoToFirstPageMenuItem,kt=nt.GoToLastPage,Mt=nt.GoToLastPageMenuItem,Dt=nt.GoToNextPage,Ht=nt.GoToNextPageMenuItem,Nt=nt.GoToPreviousPage,Vt=nt.GoToPreviousPageMenuItem,qt=nt.NumberOfPages,un=rt.Print,Bt=rt.PrintMenuItem,nn=it.ShowProperties,tn=it.ShowPropertiesMenuItem,_n=ot.Rotate,Nn=ot.RotateBackwardMenuItem,Lt=ot.RotateForwardMenuItem,Et=st.SwitchScrollMode,Ct=st.SwitchScrollModeMenuItem,St=st.SwitchViewMode,Rt=st.SwitchViewModeMenuItem,jt=lt.Search,It=lt.ShowSearchPopover,zt=at.SwitchSelectionMode,Wt=at.SwitchSelectionModeMenuItem,Zt=mt.SwitchTheme,Kt=mt.SwitchThemeMenuItem,Xt=ft.CurrentScale,rn=ft.Zoom,bn=ft.ZoomIn,En=ft.ZoomInMenuItem,Tn=ft.ZoomOut,In=ft.ZoomOutMenuItem;return _.createElement(I,M({},dt,{slot:{CurrentPageInput:bt,CurrentPageLabel:Tt,CurrentScale:Xt,Download:ct,DownloadMenuItem:xt,EnterFullScreen:pt,EnterFullScreenMenuItem:ut,GoToFirstPage:Pt,GoToFirstPageMenuItem:wt,GoToLastPage:kt,GoToLastPageMenuItem:Mt,GoToNextPage:Dt,GoToNextPageMenuItem:Ht,GoToPreviousPage:Nt,GoToPreviousPageMenuItem:Vt,NumberOfPages:qt,Open:yt,OpenMenuItem:ht,Print:un,PrintMenuItem:Bt,Rotate:_n,RotateBackwardMenuItem:Nn,RotateForwardMenuItem:Lt,Search:jt,ShowProperties:nn,ShowPropertiesMenuItem:tn,ShowSearchPopover:It,SwitchScrollMode:Et,SwitchScrollModeMenuItem:Ct,SwitchSelectionMode:zt,SwitchSelectionModeMenuItem:Wt,SwitchViewMode:St,SwitchViewModeMenuItem:Rt,SwitchTheme:Zt,SwitchThemeMenuItem:Kt,Zoom:rn,ZoomIn:bn,ZoomInMenuItem:En,ZoomOut:Tn,ZoomOutMenuItem:In}}))},[]);return{fullScreenPluginInstance:_e,getFilePluginInstance:et,openPluginInstance:tt,pageNavigationPluginInstance:nt,printPluginInstance:rt,propertiesPluginInstance:it,rotatePluginInstance:ot,scrollModePluginInstance:st,searchPluginInstance:lt,selectionModePluginInstance:at,themePluginInstance:mt,zoomPluginInstance:ft,install:function(dt){gt.forEach(function(pt){pt.install&&pt.install(dt)})},renderPageLayer:function(dt){return _.createElement(_.Fragment,null,gt.map(function(pt,ut){return pt.renderPageLayer?_.createElement(_.Fragment,{key:ut},pt.renderPageLayer(dt)):_.createElement(_.Fragment,{key:ut})}))},renderViewer:function(dt){var pt=dt.slot;return gt.forEach(function(ut){ut.renderViewer&&(pt=ut.renderViewer(M(M({},dt),{slot:pt})))}),pt},uninstall:function(dt){gt.forEach(function(pt){pt.uninstall&&pt.uninstall(dt)})},onDocumentLoad:function(dt){gt.forEach(function(pt){pt.onDocumentLoad&&pt.onDocumentLoad(dt)})},onAnnotationLayerRender:function(dt){gt.forEach(function(pt){pt.onAnnotationLayerRender&&pt.onAnnotationLayerRender(dt)})},onTextLayerRender:function(dt){gt.forEach(function(pt){pt.onTextLayerRender&&pt.onTextLayerRender(dt)})},onViewerStateChange:function(dt){var pt=dt;return gt.forEach(function(ut){ut.onViewerStateChange&&(pt=ut.onViewerStateChange(pt))}),pt},renderDefaultToolbar:h,Toolbar:vt}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l($){var _e=Object.create(null);return $&&Object.keys($).forEach(function(et){if(et!=="default"){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}}),_e.default=$,Object.freeze(_e)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++)for(var nt in _e=arguments[et])Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt]);return $},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function($){var _e=$.attachmentTabContent,et=$.bookmarkTabContent,tt=$.store,nt=$.thumbnailTabContent,rt=$.tabs,it=u.useRef(),ot=u.useContext(e.LocalizationContext).l10n,st=u.useState(tt.get("isCurrentTabOpened")||!1),lt=st[0],at=st[1],mt=u.useState(Math.max(tt.get("currentTab")||0,0)),ft=mt[0],gt=mt[1],vt=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,dt=[{content:nt,icon:u.createElement(d,null),title:ot&&ot.defaultLayout?ot.defaultLayout.thumbnail:"Thumbnail"},{content:et,icon:u.createElement(c,null),title:ot&&ot.defaultLayout?ot.defaultLayout.bookmark:"Bookmark"},{content:_e,icon:u.createElement(s,null),title:ot&&ot.defaultLayout?ot.defaultLayout.attachment:"Attachment"}],pt=rt?rt(dt):dt,ut=function(xt){xt>=0&&xt<=pt.length-1&&(tt.update("isCurrentTabOpened",!0),gt(xt))},ct=function(xt){at(xt)};return u.useEffect(function(){return tt.subscribe("currentTab",ut),tt.subscribe("isCurrentTabOpened",ct),function(){tt.unsubscribe("currentTab",ut),tt.unsubscribe("isCurrentTabOpened",ct)}},[]),pt.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":lt,"rpv-default-layout__sidebar--ltr":!vt,"rpv-default-layout__sidebar--rtl":vt}),ref:it},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},pt.map(function(xt,yt){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ft===yt,key:yt,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(yt),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(yt),position:vt?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:xt.title,isSelected:ft===yt,onClick:function(){return function(ht){if(ft===ht){tt.update("isCurrentTabOpened",!tt.get("isCurrentTabOpened"));var bt=it.current;bt&&bt.style.width&&bt.style.removeProperty("width")}else tt.update("currentTab",ht)}(yt)}},xt.icon),content:function(){return xt.title},offset:vt?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ft),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":lt,"rpv-default-layout__sidebar-content--ltr":!vt,"rpv-default-layout__sidebar-content--rtl":vt}),role:"tabpanel",tabIndex:-1},pt[ft].content))),lt&&u.createElement(e.Splitter,{constrain:function(xt){return xt.firstHalfPercentage>=20&&xt.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function($){var _e=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),et=n.attachmentPlugin(),tt=a.bookmarkPlugin(),nt=r.thumbnailPlugin($?$.thumbnailPlugin:{}),rt=o.toolbarPlugin($?$.toolbarPlugin:{}),it=et.Attachments,ot=tt.Bookmarks,st=nt.Thumbnails,lt=rt.Toolbar,at=$?$.sidebarTabs:function(ft){return ft},mt=[et,tt,nt,rt];return{attachmentPluginInstance:et,bookmarkPluginInstance:tt,thumbnailPluginInstance:nt,toolbarPluginInstance:rt,activateTab:function(ft){_e.update("currentTab",ft)},toggleTab:function(ft){var gt=_e.get("currentTab");_e.update("isCurrentTabOpened",!_e.get("isCurrentTabOpened")),gt!==ft&&_e.update("currentTab",ft)},install:function(ft){mt.forEach(function(gt){gt.install&&gt.install(ft)})},renderPageLayer:function(ft){return u.createElement(u.Fragment,null,mt.map(function(gt,vt){return gt.renderPageLayer?u.createElement(u.Fragment,{key:vt},gt.renderPageLayer(ft)):u.createElement(u.Fragment,{key:vt},u.createElement(u.Fragment,null))}))},renderViewer:function(ft){var gt=ft.slot;mt.forEach(function(dt){dt.renderViewer&&(gt=dt.renderViewer(i(i({},ft),{slot:gt})))});var vt=gt.subSlot&&gt.subSlot.attrs?{className:gt.subSlot.attrs.className,"data-testid":gt.subSlot.attrs["data-testid"],ref:gt.subSlot.attrs.ref,style:gt.subSlot.attrs.style}:{};return gt.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ft.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(it,null),bookmarkTabContent:u.createElement(ot,null),store:_e,thumbnailTabContent:u.createElement(st,null),tabs:at}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},$&&$.renderToolbar?$.renderToolbar(lt):u.createElement(lt,null)),u.createElement("div",i({},vt),gt.subSlot.children))),gt.children),gt.subSlot.attrs={},gt.subSlot.children=u.createElement(u.Fragment,null),gt},uninstall:function(ft){mt.forEach(function(gt){gt.uninstall&&gt.uninstall(ft)})},onDocumentLoad:function(ft){mt.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad(ft)}),$&&$.setInitialTab&&$.setInitialTab(ft.doc).then(function(gt){_e.update("currentTab",gt),_e.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ft){mt.forEach(function(gt){gt.onAnnotationLayerRender&&gt.onAnnotationLayerRender(ft)})},onTextLayerRender:function(ft){mt.forEach(function(gt){gt.onTextLayerRender&&gt.onTextLayerRender(ft)})},onViewerStateChange:function(ft){var gt=ft;return mt.forEach(function(vt){vt.onViewerStateChange&&(gt=vt.onViewerStateChange(gt))}),gt}}},defaultLayout_min.setInitialTabFromPageMode=function($){return new Promise(function(_e,et){$.getPageMode().then(function(tt){if(tt)switch(tt){case e.PageMode.Attachments:_e(2);break;case e.PageMode.Bookmarks:_e(1);break;case e.PageMode.Thumbnails:_e(0);break;default:_e(-1)}else _e(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const ManualViewer=()=>{const $=libExports.defaultLayoutPlugin();return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100vh",overflow:"auto",WebkitOverflowScrolling:"touch"},children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:"/manual.pdf",plugins:[$]})})})};function typeOf($){return $===null?"null":$!==Object($)?typeof $:{}.toString.call($).slice(8,-1).toLowerCase()}function isEmpty($){return typeOf($)!=="string"?!0:!$.length}function isCharInRange($="",_e,et){if(isEmpty($))return!1;const tt=$.charCodeAt(0);return _e<=tt&&tt<=et}const TO_KANA_METHODS={HIRAGANA:"toHiragana",KATAKANA:"toKatakana"},ROMANIZATIONS={HEPBURN:"hepburn"},DEFAULT_OPTIONS={useObsoleteKana:!1,passRomaji:!1,convertLongVowelMark:!0,upcaseKatakana:!1,IMEMode:!1,romanization:ROMANIZATIONS.HEPBURN},LATIN_UPPERCASE_START=65,LATIN_UPPERCASE_END=90,HIRAGANA_START=12353,HIRAGANA_END=12438,KATAKANA_START=12449,KATAKANA_END=12540,KANJI_START=19968,KANJI_END=40879,KANJI_ITERATION_MARK=12293,PROLONGED_SOUND_MARK=12540,KANA_SLASH_DOT=12539,MODERN_ENGLISH=[0,127],HEPBURN_MACRON_RANGES=[[256,257],[274,275],[298,299],[332,333],[362,363]],SMART_QUOTE_RANGES=[[8216,8217],[8220,8221]],ROMAJI_RANGES=[MODERN_ENGLISH,...HEPBURN_MACRON_RANGES],EN_PUNCTUATION_RANGES=[[32,47],[58,63],[91,96],[123,126],...SMART_QUOTE_RANGES];var safeIsNaN=Number.isNaN||function $(_e){return typeof _e=="number"&&_e!==_e};function isEqual($,_e){return!!($===_e||safeIsNaN($)&&safeIsNaN(_e))}function areInputsEqual($,_e){if($.length!==_e.length)return!1;for(var et=0;et<$.length;et++)if(!isEqual($[et],_e[et]))return!1;return!0}function memoizeOne($,_e){_e===void 0&&(_e=areInputsEqual);var et=null;function tt(){for(var nt=[],rt=0;rt<arguments.length;rt++)nt[rt]=arguments[rt];if(et&&et.lastThis===this&&_e(nt,et.lastArgs))return et.lastResult;var it=$.apply(this,nt);return et={lastResult:it,lastArgs:nt,lastThis:this},it}return tt.clear=function(){et=null},tt}var has=Object.prototype.hasOwnProperty;function find($,_e,et){for(et of $.keys())if(dequal(et,_e))return et}function dequal($,_e){var et,tt,nt;if($===_e)return!0;if($&&_e&&(et=$.constructor)===_e.constructor){if(et===Date)return $.getTime()===_e.getTime();if(et===RegExp)return $.toString()===_e.toString();if(et===Array){if((tt=$.length)===_e.length)for(;tt--&&dequal($[tt],_e[tt]););return tt===-1}if(et===Set){if($.size!==_e.size)return!1;for(tt of $)if(nt=tt,nt&&typeof nt=="object"&&(nt=find(_e,nt),!nt)||!_e.has(nt))return!1;return!0}if(et===Map){if($.size!==_e.size)return!1;for(tt of $)if(nt=tt[0],nt&&typeof nt=="object"&&(nt=find(_e,nt),!nt)||!dequal(tt[1],_e.get(nt)))return!1;return!0}if(et===ArrayBuffer)$=new Uint8Array($),_e=new Uint8Array(_e);else if(et===DataView){if((tt=$.byteLength)===_e.byteLength)for(;tt--&&$.getInt8(tt)===_e.getInt8(tt););return tt===-1}if(ArrayBuffer.isView($)){if((tt=$.byteLength)===_e.byteLength)for(;tt--&&$[tt]===_e[tt];);return tt===-1}if(!et||typeof $=="object"){tt=0;for(et in $)if(has.call($,et)&&++tt&&!has.call(_e,et)||!(et in _e)||!dequal($[et],_e[et]))return!1;return Object.keys(_e).length===tt}}return $!==$&&_e!==_e}const mergeWithDefaultOptions=($={})=>Object.assign({},DEFAULT_OPTIONS,$);function applyMapping($,_e,et){const tt=_e;function nt(ot,st){if(ot[st]!==void 0)return Object.assign({"":ot[""]+st},ot[st])}function rt(ot,st){const lt=ot.charAt(0);return it(Object.assign({"":lt},tt[lt]),ot.slice(1),st,st+1)}function it(ot,st,lt,at){if(!st)return et||Object.keys(ot).length===1?ot[""]?[[lt,at,ot[""]]]:[]:[[lt,at,null]];if(Object.keys(ot).length===1)return[[lt,at,ot[""]]].concat(rt(st,at));const mt=nt(ot,st.charAt(0));return mt===void 0?[[lt,at,ot[""]]].concat(rt(st,at)):it(mt,st.slice(1),lt,at+1)}return rt($,0)}function transform($){return Object.entries($).reduce((_e,[et,tt])=>{const nt=typeOf(tt)==="string";return _e[et]=nt?{"":tt}:transform(tt),_e},{})}function getSubTreeOf($,_e){return _e.split("").reduce((et,tt)=>(et[tt]===void 0&&(et[tt]={}),et[tt]),$)}function createCustomMapping($={}){const _e={};return typeOf($)==="object"&&Object.entries($).forEach(([et,tt])=>{let nt=_e;et.split("").forEach(rt=>{nt[rt]===void 0&&(nt[rt]={}),nt=nt[rt]}),nt[""]=tt}),function(tt){const nt=JSON.parse(JSON.stringify(tt));function rt(it,ot){return it===void 0||typeOf(it)==="string"?ot:Object.entries(ot).reduce((st,[lt,at])=>(st[lt]=rt(it[lt],at),st),it)}return rt(nt,_e)}}function mergeCustomMapping($,_e){return _e?typeOf(_e)==="function"?_e($):createCustomMapping(_e)($):$}const BASIC_KUNREI={a:"あ",i:"い",u:"う",e:"え",o:"お",k:{a:"か",i:"き",u:"く",e:"け",o:"こ"},s:{a:"さ",i:"し",u:"す",e:"せ",o:"そ"},t:{a:"た",i:"ち",u:"つ",e:"て",o:"と"},n:{a:"な",i:"に",u:"ぬ",e:"ね",o:"の"},h:{a:"は",i:"ひ",u:"ふ",e:"へ",o:"ほ"},m:{a:"ま",i:"み",u:"む",e:"め",o:"も"},y:{a:"や",u:"ゆ",o:"よ"},r:{a:"ら",i:"り",u:"る",e:"れ",o:"ろ"},w:{a:"わ",i:"ゐ",e:"ゑ",o:"を"},g:{a:"が",i:"ぎ",u:"ぐ",e:"げ",o:"ご"},z:{a:"ざ",i:"じ",u:"ず",e:"ぜ",o:"ぞ"},d:{a:"だ",i:"ぢ",u:"づ",e:"で",o:"ど"},b:{a:"ば",i:"び",u:"ぶ",e:"べ",o:"ぼ"},p:{a:"ぱ",i:"ぴ",u:"ぷ",e:"ぺ",o:"ぽ"},v:{a:"ゔぁ",i:"ゔぃ",u:"ゔ",e:"ゔぇ",o:"ゔぉ"}},SPECIAL_SYMBOLS$1={".":"。",",":"、",":":"：","/":"・","!":"！","?":"？","~":"〜","-":"ー","‘":"「","’":"」","“":"『","”":"』","[":"［","]":"］","(":"（",")":"）","{":"｛","}":"｝"},CONSONANTS={k:"き",s:"し",t:"ち",n:"に",h:"ひ",m:"み",r:"り",g:"ぎ",z:"じ",d:"ぢ",b:"び",p:"ぴ",v:"ゔ",q:"く",f:"ふ"},SMALL_Y$1={ya:"ゃ",yi:"ぃ",yu:"ゅ",ye:"ぇ",yo:"ょ"},SMALL_VOWELS={a:"ぁ",i:"ぃ",u:"ぅ",e:"ぇ",o:"ぉ"},ALIASES={sh:"sy",ch:"ty",cy:"ty",chy:"ty",shy:"sy",j:"zy",jy:"zy",shi:"si",chi:"ti",tsu:"tu",ji:"zi",fu:"hu"},SMALL_LETTERS=Object.assign({tu:"っ",wa:"ゎ",ka:"ヵ",ke:"ヶ"},SMALL_VOWELS,SMALL_Y$1),SPECIAL_CASES={yi:"い",wu:"う",ye:"いぇ",wi:"うぃ",we:"うぇ",kwa:"くぁ",whu:"う",tha:"てゃ",thu:"てゅ",tho:"てょ",dha:"でゃ",dhu:"でゅ",dho:"でょ"},AIUEO_CONSTRUCTIONS={wh:"う",kw:"く",qw:"く",q:"く",gw:"ぐ",sw:"す",ts:"つ",th:"て",tw:"と",dh:"で",dw:"ど",fw:"ふ",f:"ふ"};function createRomajiToKanaMap$1(){const $=transform(BASIC_KUNREI),_e=nt=>getSubTreeOf($,nt);Object.entries(CONSONANTS).forEach(([nt,rt])=>{Object.entries(SMALL_Y$1).forEach(([it,ot])=>{_e(nt+it)[""]=rt+ot})}),Object.entries(SPECIAL_SYMBOLS$1).forEach(([nt,rt])=>{_e(nt)[""]=rt}),Object.entries(AIUEO_CONSTRUCTIONS).forEach(([nt,rt])=>{Object.entries(SMALL_VOWELS).forEach(([it,ot])=>{const st=_e(nt+it);st[""]=rt+ot})}),["n","n'","xn"].forEach(nt=>{_e(nt)[""]="ん"}),$.c=JSON.parse(JSON.stringify($.k)),Object.entries(ALIASES).forEach(([nt,rt])=>{const it=nt.slice(0,nt.length-1),ot=nt.charAt(nt.length-1),st=_e(it);st[ot]=JSON.parse(JSON.stringify(_e(rt)))});function et(nt){return[...Object.entries(ALIASES),["c","k"]].reduce((rt,[it,ot])=>nt.startsWith(ot)?rt.concat(nt.replace(ot,it)):rt,[])}Object.entries(SMALL_LETTERS).forEach(([nt,rt])=>{const it=mt=>mt.charAt(mt.length-1),ot=mt=>mt.slice(0,mt.length-1),st=`x${nt}`,lt=_e(st);lt[""]=rt;const at=_e(`l${ot(nt)}`);at[it(nt)]=lt,et(nt).forEach(mt=>{["l","x"].forEach(ft=>{const gt=_e(ft+ot(mt));gt[it(mt)]=_e(ft+nt)})})}),Object.entries(SPECIAL_CASES).forEach(([nt,rt])=>{_e(nt)[""]=rt});function tt(nt){return Object.entries(nt).reduce((rt,[it,ot])=>(it?rt[it]=tt(ot):rt[it]=`っ${ot}`,rt),{})}return[...Object.keys(CONSONANTS),"c","y","w","j"].forEach(nt=>{const rt=$[nt];rt[nt]=tt(rt)}),delete $.n.n,Object.freeze(JSON.parse(JSON.stringify($)))}let romajiToKanaMap=null;function getRomajiToKanaTree(){return romajiToKanaMap==null&&(romajiToKanaMap=createRomajiToKanaMap$1()),romajiToKanaMap}const USE_OBSOLETE_KANA_MAP=createCustomMapping({wi:"ゐ",we:"ゑ"});function IME_MODE_MAP($){const _e=JSON.parse(JSON.stringify($));return _e.n.n={"":"ん"},_e.n[" "]={"":"ん"},_e}function isCharUpperCase($=""){return isEmpty($)?!1:isCharInRange($,LATIN_UPPERCASE_START,LATIN_UPPERCASE_END)}function isCharLongDash($=""){return isEmpty($)?!1:$.charCodeAt(0)===PROLONGED_SOUND_MARK}function isCharSlashDot($=""){return isEmpty($)?!1:$.charCodeAt(0)===KANA_SLASH_DOT}function isCharHiragana($=""){return isEmpty($)?!1:isCharLongDash($)?!0:isCharInRange($,HIRAGANA_START,HIRAGANA_END)}function hiraganaToKatakana($=""){const _e=[];return $.split("").forEach(et=>{if(isCharLongDash(et)||isCharSlashDot(et))_e.push(et);else if(isCharHiragana(et)){const tt=et.charCodeAt(0)+(KATAKANA_START-HIRAGANA_START),nt=String.fromCharCode(tt);_e.push(nt)}else _e.push(et)}),_e.join("")}const createRomajiToKanaMap=memoizeOne(($,_e,et)=>{let tt=getRomajiToKanaTree();return tt=$?IME_MODE_MAP(tt):tt,tt=_e?USE_OBSOLETE_KANA_MAP(tt):tt,et&&(tt=mergeCustomMapping(tt,et)),tt},dequal);function toKana($="",_e={},et){let tt;return et?tt=_e:(tt=mergeWithDefaultOptions(_e),et=createRomajiToKanaMap(tt.IMEMode,tt.useObsoleteKana,tt.customKanaMapping)),splitIntoConvertedKana($,tt,et).map(nt=>{const[rt,it,ot]=nt;if(ot===null)return $.slice(rt);const st=tt.IMEMode===TO_KANA_METHODS.HIRAGANA,lt=tt.IMEMode===TO_KANA_METHODS.KATAKANA||[...$.slice(rt,it)].every(isCharUpperCase);return st||!lt?ot:hiraganaToKatakana(ot)}).join("")}function splitIntoConvertedKana($="",_e={},et){const{IMEMode:tt,useObsoleteKana:nt,customKanaMapping:rt}=_e;return et||(et=createRomajiToKanaMap(tt,nt,rt)),applyMapping($.toLowerCase(),et,!tt)}function isCharRomaji($=""){return isEmpty($)?!1:ROMAJI_RANGES.some(([_e,et])=>isCharInRange($,_e,et))}function isRomaji($="",_e){const et=typeOf(_e)==="regexp";return isEmpty($)?!1:[...$].every(tt=>{const nt=isCharRomaji(tt);return et?nt||_e.test(tt):nt})}function isCharKatakana($=""){return isCharInRange($,KATAKANA_START,KATAKANA_END)}function isHiragana($=""){return isEmpty($)?!1:[...$].every(isCharHiragana)}function isKatakana($=""){return isEmpty($)?!1:[...$].every(isCharKatakana)}function isCharIterationMark($=""){return isEmpty($)?!1:$.charCodeAt(0)===KANJI_ITERATION_MARK}function isCharKanji($=""){return isCharInRange($,KANJI_START,KANJI_END)||isCharIterationMark($)}function isKanji($=""){return isEmpty($)?!1:[...$].every(isCharKanji)}function isMixed($="",_e={passKanji:!0}){const et=[...$];let tt=!1;return _e.passKanji||(tt=et.some(isKanji)),(et.some(isHiragana)||et.some(isKatakana))&&et.some(isRomaji)&&!tt}const isCharInitialLongDash=($,_e)=>isCharLongDash($)&&_e<1,isCharInnerLongDash=($,_e)=>isCharLongDash($)&&_e>0,isKanaAsSymbol=$=>["ヶ","ヵ"].includes($),LONG_VOWELS={a:"あ",i:"い",u:"う",e:"え",o:"う"};function katakanaToHiragana($="",_e,{isDestinationRomaji:et,convertLongVowelMark:tt}={}){let nt="";return $.split("").reduce((rt,it,ot)=>{if(isCharSlashDot(it)||isCharInitialLongDash(it,ot)||isKanaAsSymbol(it))return rt.concat(it);if(tt&&nt&&isCharInnerLongDash(it,ot)){const st=_e(nt).slice(-1);return isCharKatakana($[ot-1])&&st==="o"&&et?rt.concat("お"):rt.concat(LONG_VOWELS[st])}if(!isCharLongDash(it)&&isCharKatakana(it)){const st=it.charCodeAt(0)+(HIRAGANA_START-KATAKANA_START),lt=String.fromCharCode(st);return nt=lt,rt.concat(lt)}return nt="",rt.concat(it)},[]).join("")}let kanaToHepburnMap=null;const BASIC_ROMAJI={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",や:"ya",ゆ:"yu",よ:"yo",わ:"wa",ゐ:"wi",ゑ:"we",を:"wo",ん:"n",が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po",ゔぁ:"va",ゔぃ:"vi",ゔ:"vu",ゔぇ:"ve",ゔぉ:"vo"},SPECIAL_SYMBOLS={"。":".","、":",","：":":","・":"/","！":"!","？":"?","〜":"~",ー:"-","「":"‘","」":"’","『":"“","』":"”","［":"[","］":"]","（":"(","）":")","｛":"{","｝":"}","　":" "},AMBIGUOUS_VOWELS=["あ","い","う","え","お","や","ゆ","よ"],SMALL_Y={ゃ:"ya",ゅ:"yu",ょ:"yo"},SMALL_Y_EXTRA={ぃ:"yi",ぇ:"ye"},SMALL_AIUEO={ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},YOON_KANA=["き","に","ひ","み","り","ぎ","び","ぴ","ゔ","く","ふ"],YOON_EXCEPTIONS={し:"sh",ち:"ch",じ:"j",ぢ:"j"},SMALL_KANA={っ:"",ゃ:"ya",ゅ:"yu",ょ:"yo",ぁ:"a",ぃ:"i",ぅ:"u",ぇ:"e",ぉ:"o"},SOKUON_WHITELIST={b:"b",c:"t",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",m:"m",p:"p",q:"q",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",z:"z"};function getKanaToHepburnTree(){return kanaToHepburnMap==null&&(kanaToHepburnMap=createKanaToHepburnMap()),kanaToHepburnMap}function getKanaToRomajiTree($){switch($){case ROMANIZATIONS.HEPBURN:return getKanaToHepburnTree();default:return{}}}function createKanaToHepburnMap(){const $=transform(BASIC_ROMAJI),_e=tt=>getSubTreeOf($,tt),et=(tt,nt)=>{_e(tt)[""]=nt};return Object.entries(SPECIAL_SYMBOLS).forEach(([tt,nt])=>{_e(tt)[""]=nt}),[...Object.entries(SMALL_Y),...Object.entries(SMALL_AIUEO)].forEach(([tt,nt])=>{et(tt,nt)}),YOON_KANA.forEach(tt=>{const nt=_e(tt)[""][0];Object.entries(SMALL_Y).forEach(([rt,it])=>{et(tt+rt,nt+it)}),Object.entries(SMALL_Y_EXTRA).forEach(([rt,it])=>{et(tt+rt,nt+it)})}),Object.entries(YOON_EXCEPTIONS).forEach(([tt,nt])=>{Object.entries(SMALL_Y).forEach(([rt,it])=>{et(tt+rt,nt+it[1])}),et(`${tt}ぃ`,`${nt}yi`),et(`${tt}ぇ`,`${nt}e`)}),$.っ=resolveTsu($),Object.entries(SMALL_KANA).forEach(([tt,nt])=>{et(tt,nt)}),AMBIGUOUS_VOWELS.forEach(tt=>{et(`ん${tt}`,`n'${_e(tt)[""]}`)}),Object.freeze(JSON.parse(JSON.stringify($)))}function resolveTsu($){return Object.entries($).reduce((_e,[et,tt])=>{if(et)_e[et]=resolveTsu(tt);else{const nt=tt.charAt(0);_e[et]=Object.keys(SOKUON_WHITELIST).includes(nt)?SOKUON_WHITELIST[nt]+tt:tt}return _e},{})}const createKanaToRomajiMap=memoizeOne(($,_e)=>{let et=getKanaToRomajiTree($);return _e&&(et=mergeCustomMapping(et,_e)),et},dequal);function toRomaji($="",_e={},et){const tt=mergeWithDefaultOptions(_e);return et||(et=createKanaToRomajiMap(tt.romanization,tt.customRomajiMapping)),splitIntoRomaji($,tt,et).map(nt=>{const[rt,it,ot]=nt;return tt.upcaseKatakana&&isKatakana($.slice(rt,it))?ot.toUpperCase():ot}).join("")}function splitIntoRomaji($,_e,et){et||(et=createKanaToRomajiMap(_e.romanization,_e.customRomajiMapping));const tt=Object.assign({},{isDestinationRomaji:!0},_e);return applyMapping(katakanaToHiragana($,toRomaji,tt),et,!_e.IMEMode)}function isCharEnglishPunctuation($=""){return isEmpty($)?!1:EN_PUNCTUATION_RANGES.some(([_e,et])=>isCharInRange($,_e,et))}function toHiragana($="",_e={}){const et=mergeWithDefaultOptions(_e);if(et.passRomaji)return katakanaToHiragana($,toRomaji,et);if(isMixed($,{passKanji:!0})){const tt=katakanaToHiragana($,toRomaji,et);return toKana(tt.toLowerCase(),et)}return isRomaji($)||isCharEnglishPunctuation($)?toKana($.toLowerCase(),et):katakanaToHiragana($,toRomaji,et)}const TeamRegister=()=>{const[$,_e]=reactExports.useState({name:"",furigana:"",players:[]}),et=reactExports.useRef(null),[tt,nt]=reactExports.useState(""),rt=()=>{const dt=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),pt=URL.createObjectURL(dt),ut=document.createElement("a");ut.href=pt,ut.download="team_backup.json",ut.click(),URL.revokeObjectURL(pt)},it=async dt=>{var ut;const pt=(ut=dt.target.files)==null?void 0:ut[0];if(pt)try{const ct=await pt.text(),xt=JSON.parse(ct);_e(xt),nt("✅ バックアップを読み込みました。必要なら保存ボタンを押してください。")}catch{nt("❌ 読み込みに失敗しました。ファイル形式を確認してください。")}},[ot,st]=reactExports.useState({});reactExports.useEffect(()=>{ot.id&&typeof window<"u"&&setTimeout(()=>{var dt,pt;(dt=et.current)==null||dt.scrollIntoView({behavior:"smooth",block:"center"}),(pt=et.current)==null||pt.focus()},100)},[ot.id]),reactExports.useEffect(()=>{localForage.getItem("team").then(dt=>{dt&&_e(dt)})},[]);const lt=dt=>{const{name:pt,value:ut}=dt.target;_e(ct=>{if(pt==="name"){const xt=ct.furigana,yt=toHiragana(ut),ht=xt===toHiragana(ct.name);return{...ct,name:ut,furigana:ht?yt:xt}}else return{...ct,[pt]:ut}})},at=dt=>{const{name:pt,value:ut,type:ct,checked:xt}=dt.target;st(yt=>({...yt,[pt]:ct==="checkbox"?xt:ut}))};reactExports.useEffect(()=>{ot.lastName&&!ot.lastNameKana&&st(dt=>({...dt,lastNameKana:toHiragana(ot.lastName)}))},[ot.lastName,ot.lastNameKana]),reactExports.useEffect(()=>{ot.firstName&&!ot.firstNameKana&&st(dt=>({...dt,firstNameKana:toHiragana(ot.firstName)}))},[ot.firstName,ot.firstNameKana]);const mt=()=>{!ot.lastName||!ot.firstName||!ot.number||(_e(dt=>{const pt=dt.players.findIndex(xt=>xt.id===ot.id),ut={id:ot.id??Date.now(),lastName:ot.lastName,firstName:ot.firstName,lastNameKana:ot.lastNameKana??toHiragana(ot.lastName),firstNameKana:ot.firstNameKana??toHiragana(ot.firstName),number:ot.number,isFemale:ot.isFemale??!1},ct=pt>=0?[...dt.players.slice(0,pt),ut,...dt.players.slice(pt+1)]:[...dt.players,ut];return{...dt,players:ct}}),st({}))},ft=dt=>st(dt),gt=dt=>_e(pt=>({...pt,players:pt.players.filter(ut=>ut.id!==dt)})),vt=async()=>{const dt={...$,furigana:toHiragana($.name),players:[...$.players].sort((pt,ut)=>Number(pt.number)-Number(ut.number))};await localForage.setItem("team",dt),alert("✅ チーム情報を保存しました")};return jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 bg-gray-50 min-h-screen",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center text-blue-700 mb-6",children:"🏏 チーム／選手登録"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center mt-4 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"📁 バックアップ保存"}),jsxRuntimeExports.jsxs("label",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded cursor-pointer",children:["📂 バックアップ読み込み",jsxRuntimeExports.jsx("input",{type:"file",accept:"application/json",onChange:it,style:{display:"none"}})]})]}),tt&&jsxRuntimeExports.jsx("p",{className:"text-sm text-center text-red-600 mb-4",children:tt}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 bg-white rounded-xl shadow p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"teamName",className:"block text-sm font-semibold text-gray-700",children:"チーム名"}),jsxRuntimeExports.jsx("input",{id:"teamName",type:"text",name:"name",value:$.name,onChange:lt,className:"border border-gray-300 rounded px-3 py-2 w-full mt-1",placeholder:"例：広島カープ"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"teamFurigana",className:"block text-sm font-semibold text-gray-700",children:"ふりがな"}),jsxRuntimeExports.jsx("input",{id:"teamFurigana",type:"text",name:"furigana",value:$.furigana,onChange:lt,className:"border border-gray-300 rounded px-3 py-2 w-full mt-1",placeholder:"例：ひろしまかーぷ"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-blue-600 mb-4",children:ot.id?"選手を編集":"選手を追加"}),[{id:"lastName",label:"姓",placeholder:"例：山田"},{id:"lastNameKana",label:"ふりがな（姓）",placeholder:"やまだ"},{id:"firstName",label:"名",placeholder:"例：太郎"},{id:"firstNameKana",label:"ふりがな（名）",placeholder:"たろう"},{id:"number",label:"背番号",placeholder:"10"}].map(({id:dt,label:pt,placeholder:ut})=>jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{htmlFor:dt,className:"block text-sm font-semibold text-gray-700",children:pt}),jsxRuntimeExports.jsx("input",{id:dt,name:dt,ref:dt==="lastName"?et:void 0,value:ot[dt]||"",onChange:at,className:"border border-gray-300 rounded px-3 py-2 w-full mt-1",placeholder:ut})]},dt)),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center mt-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isFemale",checked:ot.isFemale||!1,onChange:at,className:"mr-2"}),"女子選手"]}),jsxRuntimeExports.jsx("button",{onClick:mt,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl text-lg font-semibold transition",children:ot.id?"✅ 更新":"➕ 追加"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-blue-600 mb-4",children:"👥 登録済み選手"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:$.players.sort((dt,pt)=>Number(dt.number)-Number(pt.number)).map(dt=>jsxRuntimeExports.jsxs("li",{className:"border rounded-lg p-3 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium",children:["背番号 ",dt.number,"：",dt.lastName," ",dt.firstName," ",dt.isFemale?"(女子)":""]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[dt.lastNameKana," ",dt.firstNameKana]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 text-sm",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ft(dt),className:"text-blue-600 font-semibold",children:"編集"}),jsxRuntimeExports.jsx("button",{onClick:()=>gt(dt.id),className:"text-red-500 font-semibold",children:"削除"})]})]},dt.id))})]}),jsxRuntimeExports.jsx("button",{onClick:vt,className:"w-full bg-blue-700 hover:bg-blue-800 text-white py-4 rounded-xl text-lg font-bold",children:"💾 保存する"})]})},MatchCreate=({onBack:$,onGoToLineup:_e})=>{const[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(1),[it,ot]=reactExports.useState(""),[st,lt]=reactExports.useState("先攻"),[at,mt]=reactExports.useState("1塁側"),[ft,gt]=reactExports.useState(!1),[vt,dt]=reactExports.useState([{role:"球審",name:"",furigana:""},{role:"1塁審",name:"",furigana:""},{role:"2塁審",name:"",furigana:""},{role:"3塁審",name:"",furigana:""}]);reactExports.useEffect(()=>{(async()=>{var bt;const ht=await localForage.getItem("matchInfo");ht&&(tt(ht.tournamentName??""),rt(ht.matchNumber??1),ot(ht.opponentTeam??""),lt(ht.isHome??"先攻"),mt(ht.benchSide??"1塁側"),((bt=ht.umpires)==null?void 0:bt.length)===4&&dt(ht.umpires))})()},[]);const pt=()=>{const yt=new SpeechSynthesisUtterance(`${et} 本日の第一試合、両チームのメンバー交換を行います。両チームのキャプテンと全てのベンチ入り指導者は、ボール3個とメンバー表とピッチングレコードを持って本部席付近にお集まりください。ベンチ入りのスコアラー、審判員、球場責任者、EasyScore担当、公式記録員、アナウンスもお集まりください。メンバーチェックと道具チェックはシートノックの間に行います。`);speechSynthesis.speak(yt)},ut=()=>{speechSynthesis.cancel()},ct=(yt,ht,bt)=>{const Tt=[...vt];Tt[yt][ht]=bt,dt(Tt)},xt=async()=>{const yt=await localForage.getItem("team"),ht={tournamentName:et,matchNumber:nt,opponentTeam:it,isHome:st==="後攻",benchSide:at,umpires:vt,inning:1,isTop:!0,teamName:(yt==null?void 0:yt.name)??""};await localForage.setItem("matchInfo",ht),alert("✅ 試合情報を保存しました")};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 overflow-auto",children:[jsxRuntimeExports.jsx("button",{onClick:$,className:"mb-4 px-4 py-3 bg-gray-300 rounded-lg hover:bg-gray-400 text-base",children:"← メニューに戻る"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"試合情報入力"}),jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-semibold text-lg mb-1",children:"大会名"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("input",{type:"text",value:et,onChange:yt=>tt(yt.target.value),className:"flex-1 p-3 border rounded-lg text-lg",placeholder:"大会名を入力"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:"本日の"}),jsxRuntimeExports.jsx("select",{value:nt,onChange:yt=>rt(Number(yt.target.value)),className:"p-2 border rounded-lg text-lg",children:[1,2,3,4,5].map(yt=>jsxRuntimeExports.jsxs("option",{value:yt,children:["第",yt,"試合"]},yt))})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-semibold text-lg mb-1",children:"相手チーム名"}),jsxRuntimeExports.jsx("input",{type:"text",value:it,onChange:yt=>ot(yt.target.value),className:"w-full p-3 border rounded-lg text-lg",placeholder:"相手チーム名を入力"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-semibold text-lg mb-2",children:"自チーム情報"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsxs("select",{value:st,onChange:yt=>lt(yt.target.value),className:"flex-1 p-3 border rounded-lg text-lg",children:[jsxRuntimeExports.jsx("option",{children:"先攻"}),jsxRuntimeExports.jsx("option",{children:"後攻"})]}),jsxRuntimeExports.jsxs("select",{value:at,onChange:yt=>mt(yt.target.value),className:"flex-1 p-3 border rounded-lg text-lg",children:[jsxRuntimeExports.jsx("option",{children:"1塁側"}),jsxRuntimeExports.jsx("option",{children:"3塁側"})]})]})]}),nt===1&&at==="1塁側"&&jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx("button",{onClick:()=>gt(!0),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-base",children:"メンバー交換"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-semibold text-lg mb-3",children:"審判"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:vt.map((yt,ht)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"w-full sm:w-20 font-medium text-base mb-1 sm:mb-0",children:yt.role}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"氏名",value:yt.name,onChange:bt=>ct(ht,"name",bt.target.value),className:"flex-1 p-3 border rounded-lg text-base mb-2 sm:mb-0"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"ふりがな",value:yt.furigana,onChange:bt=>ct(ht,"furigana",bt.target.value),className:"flex-1 p-3 border rounded-lg text-base"})]},ht))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",children:[jsxRuntimeExports.jsx("button",{onClick:xt,className:"w-full sm:w-auto px-6 py-4 bg-green-600 text-white rounded-lg text-lg hover:bg-green-700",children:"保存する"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{const yt=await localForage.getItem("team"),ht={tournamentName:et,matchNumber:nt,opponentTeam:it,isHome:st==="後攻",benchSide:at,umpires:vt,inning:1,isTop:!0,teamName:(yt==null?void 0:yt.name)??""};await localForage.setItem("matchInfo",ht),_e()},className:"w-full sm:w-auto px-6 py-4 bg-blue-600 text-white rounded-lg text-lg hover:bg-blue-700",children:"スタメン設定"})]}),ft&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full space-y-4 text-base",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mx-auto"}),jsxRuntimeExports.jsxs("p",{className:"whitespace-pre-line text-red-600 font-bold",children:[jsxRuntimeExports.jsx("strong",{children:et}),`
`,"本日の第一試合、両チームのメンバー交換を行います。",`
`,"両チームのキャプテンと全てのベンチ入り指導者は、ボール3個とメンバー表と ピッチングレコードを持って本部席付近にお集まりください。",`
`,"ベンチ入りのスコアラー、審判員、球場責任者、EasyScore担当、 公式記録員、アナウンスもお集まりください。",`
`,"メンバーチェックと道具チェックはシートノックの間に行います。"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:pt,className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:ut,className:"px-3 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",children:"停止"}),jsxRuntimeExports.jsx("button",{onClick:()=>{ut(),gt(!1)},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"OK"})]})]})})]})},positions$2=["投","捕","一","二","三","遊","左","中","右"],positionNames$1={投:"ピッチャー",捕:"キャッチャー",一:"ファースト",二:"セカンド",三:"サード",遊:"ショート",左:"レフト",中:"センター",右:"ライト"},positionStyles$2={投:{top:"66%",left:"50%"},捕:{top:"88%",left:"50%"},一:{top:"66%",left:"82%"},二:{top:"44%",left:"66%"},三:{top:"66%",left:"18%"},遊:{top:"44%",left:"32%"},左:{top:"22%",left:"18%"},中:{top:"22%",left:"50%"},右:{top:"22%",left:"81%"}},StartingLineup=()=>{const[$,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(Object.fromEntries(positions$2.map(yt=>[yt,null]))),[nt,rt]=reactExports.useState([]),[it,ot]=reactExports.useState([]);reactExports.useEffect(()=>{localForage.getItem("team").then(yt=>{_e((yt==null?void 0:yt.players)||[])})},[]),reactExports.useEffect(()=>{(async()=>{const ht=await localForage.getItem("team");_e((ht==null?void 0:ht.players)||[]);const bt=await localForage.getItem("benchOutIds");bt&&ot(bt);const Tt=await localForage.getItem("initialBattingOrder");if(Tt&&Tt.length>0){const Pt=Object.fromEntries(positions$2.map(kt=>[kt,null])),wt=[];for(const kt of Tt)Pt[kt.position]=kt.id,wt[kt.order-1]={id:kt.id,reason:"スタメン"};tt(Pt),rt(wt)}})()},[]),reactExports.useEffect(()=>{if(nt.length===0){const yt=[];for(const ht of positions$2){const bt=et[ht];bt&&!yt.includes(bt)&&yt.push(bt)}if(yt.length>0){const ht=yt.slice(0,9);rt(ht.map(bt=>({id:bt,reason:"スタメン"})))}}},[et]);const st=async()=>{await localForage.setItem("benchOutIds",it),await localForage.setItem("lineupAssignments",et),await localForage.setItem("battingOrder",nt);const yt=nt.map((ht,bt)=>{var Pt;const Tt=((Pt=Object.entries(et).find(([wt,kt])=>kt===ht.id))==null?void 0:Pt[0])??"－";return{id:ht.id,order:bt+1,position:Tt}});await localForage.setItem("initialBattingOrder",yt),alert("守備配置と打順を保存しました！")},lt=async()=>{const yt=Object.fromEntries(positions$2.map(ht=>[ht,null]));tt(yt),rt([]),ot([]),await localForage.removeItem("lineupAssignments"),await localForage.removeItem("battingOrder"),await localForage.removeItem("initialBattingOrder"),await localForage.removeItem("benchOutIds"),alert("スタメンと守備位置をクリアしました！")},at=yt=>{yt.preventDefault()},mt=(yt,ht,bt)=>{yt.dataTransfer.setData("playerId",String(ht)),yt.dataTransfer.setData("text/plain",String(ht)),bt&&yt.dataTransfer.setData("fromPosition",bt),yt.dataTransfer.effectAllowed="move"},ft=(yt,ht)=>{var kt;yt.preventDefault();const bt=yt.dataTransfer.getData("playerId")||yt.dataTransfer.getData("text/plain"),Tt=Number(bt);let Pt=yt.dataTransfer.getData("fromPosition");Pt||(Pt=((kt=Object.entries(et).find(([,Mt])=>Mt===Tt))==null?void 0:kt[0])??"");const wt=et[ht];tt(Mt=>{const Dt={...Mt};return Pt&&Pt!==ht&&(Dt[Pt]=wt??null),Dt[ht]=Tt,Dt}),rt(Mt=>{const Dt=[...Mt],Ht=!Dt.some(Nt=>Nt.id===Tt);if(Ht&&wt!==null){const Nt=Dt.findIndex(Vt=>Vt.id===wt);Nt!==-1&&(Dt[Nt]={id:Tt,reason:"スタメン"})}else Ht&&Dt.push({id:Tt,reason:"スタメン"});return Dt})},gt=yt=>{var ht;return(ht=Object.entries(et).find(([bt,Tt])=>Tt===yt))==null?void 0:ht[0]},vt=(yt,ht)=>{yt.dataTransfer.setData("battingPlayerId",String(ht)),yt.dataTransfer.setData("text/plain",String(ht))},dt=yt=>{yt.preventDefault();const ht=yt.dataTransfer.getData("playerId")||yt.dataTransfer.getData("text/plain"),bt=Number(ht);ot(Tt=>Tt.includes(bt)?Tt:[...Tt,bt])},pt=yt=>{yt.preventDefault();const ht=Number(yt.dataTransfer.getData("playerId"));ot(bt=>bt.filter(Tt=>Tt!==ht))},ut=(yt,ht)=>{yt.preventDefault();const bt=yt.dataTransfer.getData("battingPlayerId")||yt.dataTransfer.getData("text/plain"),Tt=Number(bt);rt(Pt=>{const wt=Pt.findIndex(Dt=>Dt.id===Tt),kt=Pt.findIndex(Dt=>Dt.id===ht);if(wt===-1||kt===-1)return Pt;const Mt=[...Pt];return[Mt[wt],Mt[kt]]=[Mt[kt],Mt[wt]],Mt})},ct=Object.values(et).filter(Boolean);$.filter(yt=>!ct.includes(yt.id));const xt=$.filter(yt=>it.includes(yt.id));return jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:"スタメン設定（守備配置）"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[jsxRuntimeExports.jsx("img",{src:"/field.jpg",alt:"フィールド図",className:"w-full rounded shadow select-none pointer-events-none"}),positions$2.map(yt=>{const ht=et[yt],bt=$.find(Tt=>Tt.id===ht);return jsxRuntimeExports.jsx("div",{onDragOver:at,onDrop:Tt=>ft(Tt,yt),style:{...positionStyles$2[yt],position:"absolute",transform:"translate(-50%, -50%)",backgroundColor:"rgba(255,255,255,0.85)",padding:"4px 8px",borderRadius:"8px",minWidth:"80px",textAlign:"center",cursor:bt?"move":"default"},children:bt?jsxRuntimeExports.jsxs("div",{draggable:!0,onDragStart:Tt=>mt(Tt,bt.id,yt),className:"font-semibold whitespace-nowrap overflow-hidden text-ellipsis touch-draggable",children:[bt.lastName,bt.firstName," #",bt.number]}):jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"空き"})},yt)})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"控え選手"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 min-h-[60px] bg-white p-2 border border-gray-300 rounded",onDragOver:at,onDrop:pt,children:$.filter(yt=>!ct.includes(yt.id)&&!it.includes(yt.id)).map(yt=>jsxRuntimeExports.jsxs("div",{draggable:!0,onDragStart:ht=>mt(ht,yt.id),className:"px-2 py-1 bg-gray-200 rounded cursor-move select-none",children:[yt.lastName,yt.firstName," #",yt.number]},yt.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"ベンチ外選手"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 min-h-[60px] bg-gray-50 p-2 border border-red-400 rounded",onDragOver:at,onDrop:dt,children:xt.length===0?jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"ベンチ外選手はいません"}):xt.map(yt=>jsxRuntimeExports.jsxs("div",{draggable:!0,onDragStart:ht=>mt(ht,yt.id),className:"px-2 py-1 bg-gray-100 text-gray-500 border rounded cursor-move select-none",children:[yt.lastName,yt.firstName," #",yt.number]},yt.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"打順（1～9番）"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:nt.map((yt,ht)=>{const bt=$.find(Pt=>Pt.id===yt.id);if(!bt)return null;const Tt=gt(yt.id);return jsxRuntimeExports.jsx("div",{className:"border p-2 bg-blue-100 rounded cursor-move",draggable:!0,onDragStart:Pt=>vt(Pt,yt.id),onDrop:Pt=>ut(Pt,yt.id),onDragOver:at,children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"w-10 font-bold",children:[ht+1,"番"]}),jsxRuntimeExports.jsx("span",{className:"w-24",children:Tt?positionNames$1[Tt]:"控え"}),jsxRuntimeExports.jsxs("span",{className:"w-28",children:[bt.lastName,bt.firstName]}),jsxRuntimeExports.jsxs("span",{className:"w-12",children:["#",bt.number]})]})},yt.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:st,children:"保存する"}),jsxRuntimeExports.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:lt,children:"クリア"})]})]})},isTouchDevice$2=()=>typeof window<"u"&&"ontouchstart"in window,StartingLineupWrapped=()=>jsxRuntimeExports.jsx(DndProvider,{backend:isTouchDevice$2()?TouchBackend:HTML5Backend,options:isTouchDevice$2()?{enableTouchEvents:!0,enableMouseEvents:!0,touchSlop:10}:void 0,children:jsxRuntimeExports.jsx(StartingLineup,{})}),StartGame=({onStart:$,onShowAnnouncement:_e})=>{const[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(""),[it,ot]=reactExports.useState("1塁側"),[st,lt]=reactExports.useState(!0),[at,mt]=reactExports.useState({}),[ft,gt]=reactExports.useState([]),[vt,dt]=reactExports.useState({}),[pt,ut]=reactExports.useState([]),[ct,xt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Tt=await localForage.getItem("matchInfo"),Pt=await localForage.getItem("lineupAssignments"),wt=await localForage.getItem("battingOrder"),kt=await localForage.getItem("team"),Mt=await localForage.getItem("benchOutIds");if(Array.isArray(Mt)&&xt(Mt),kt&&typeof kt=="object"){tt(kt.name||"");const Dt=kt.players.map(Ht=>({id:Number(Ht.id),number:Ht.number,name:`${Ht.lastName??""}${Ht.firstName??""}`}));gt(Dt)}if(Tt&&typeof Tt=="object"){const Dt=Tt;if(rt(Dt.opponentTeam||""),ot(Dt.benchSide==="3塁側"?"3塁側":"1塁側"),lt(Dt.isHome===!1),Array.isArray(Dt.umpires)){const Ht={};Dt.umpires.forEach(Nt=>{Ht[Nt.role]=Nt.name||""}),mt(Ht)}}if(Pt&&typeof Pt=="object"){const Dt={};Object.entries(Pt).forEach(([Ht,Nt])=>{Dt[Ht]=Nt!==null?Number(Nt):null}),dt(Dt)}Array.isArray(wt)&&ut(wt)})()},[]);const yt=bt=>{if(!(bt===null||isNaN(bt)))return ft.find(Tt=>Number(Tt.id)===bt)},ht=async()=>{const bt=!st;await localForage.removeItem("announcedPlayerIds"),await localForage.removeItem("runnerInfo"),await localForage.removeItem("pitchCounts"),await localForage.removeItem("scores"),await localForage.removeItem("lastBatterIndex"),await localForage.removeItem("nextBatterIndex"),await localForage.removeItem("usedBatterIds"),await localForage.setItem("battingOrder",pt),await localForage.removeItem("checkedIds"),await localForage.setItem("scores",{});const Tt={opponentTeam:nt,inning:1,isTop:!0,isDefense:!st,isHome:bt};await localForage.setItem("matchInfo",Tt),await localForage.setItem("usedPlayerInfo",{}),await localForage.setItem("runnerAssignments",{"1塁":null,"2塁":null,"3塁":null}),$(st)};return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 sm:py-8 bg-gradient-to-b from-blue-50 via-white to-gray-50 min-h-screen",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-center text-blue-800 mb-6 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"⚾"})," ",jsxRuntimeExports.jsx("span",{children:"試合開始"})]}),jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-blue-700 mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📋"})," ",jsxRuntimeExports.jsx("span",{children:"試合情報"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-md px-4 py-3 text-gray-700",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-medium",children:[et," vs ",nt]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ベンチ位置：",it,"　（",st?"先攻":"後攻","）"]})]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-blue-700 mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🧑‍⚖️"})," ",jsxRuntimeExports.jsx("span",{children:"審判"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-md px-4 py-3 text-sm text-gray-700 space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:["球審：",at.球審||"未設定"]}),jsxRuntimeExports.jsxs("p",{children:["1塁審：",at["1塁審"]||"未設定"]}),jsxRuntimeExports.jsxs("p",{children:["2塁審：",at["2塁審"]||"未設定"]}),jsxRuntimeExports.jsxs("p",{children:["3塁審：",at["3塁審"]||"未設定"]})]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"👥"})," ",jsxRuntimeExports.jsx("span",{children:"スターティングメンバー"})]}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-800 space-y-0 leading-tight",children:pt.slice(0,9).map((bt,Tt)=>{const Pt=Object.keys(vt).find(kt=>vt[kt]===bt.id),wt=yt(bt.id);return jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"w-8",children:[Tt+1,"番"]}),jsxRuntimeExports.jsx("span",{className:"w-10",children:Pt??"未設定"}),jsxRuntimeExports.jsx("span",{className:"w-24",children:(wt==null?void 0:wt.name)??"未設定"}),jsxRuntimeExports.jsxs("span",{children:["#",(wt==null?void 0:wt.number)??"-"]})]},bt.id??Tt)})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold mb-1",children:"控え選手"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-800 space-y-0 leading-tight",children:ft.filter(bt=>!pt.some(Tt=>Tt.id===bt.id)&&!ct.includes(bt.id)).map(bt=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-28",children:bt.name}),jsxRuntimeExports.jsxs("span",{children:["#",bt.number]})]},bt.id))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:ht,className:"bg-green-600 hover:bg-green-700 text-white text-lg font-semibold py-4 rounded-xl shadow-md transition",children:"🟢 試合を開始する"}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"bg-blue-500 hover:bg-blue-600 text-white text-lg font-semibold py-4 rounded-xl shadow-md transition",children:"📣 試合前アナウンス"})]})]})},PreGameAnnouncement=({onNavigate:$,onBack:_e})=>{const[et,tt]=reactExports.useState("先攻");reactExports.useEffect(()=>{(async()=>{const st=await localForage.getItem("matchInfo");st&&typeof st=="object"&&tt(st.isHome||"先攻")})()},[]);const nt=et==="先攻",rt="bg-gray-300 text-gray-500 hover:bg-gray-300",it="bg-green-600 text-white hover:bg-green-700";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center px-6 py-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-10 text-center",children:"試合前アナウンス"}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md space-y-6",children:[jsxRuntimeExports.jsx("button",{className:`w-full py-4 rounded-lg text-lg font-semibold ${nt?rt:it}`,onClick:()=>$("warmup"),children:"ウォーミングアップ（後攻チーム🎤）"}),jsxRuntimeExports.jsx("button",{className:`w-full py-4 rounded-lg text-lg font-semibold ${it}`,onClick:()=>$("sheetKnock"),children:"シートノック"}),jsxRuntimeExports.jsx("button",{className:`w-full py-4 rounded-lg text-lg font-semibold ${it}`,onClick:()=>$("announceStartingLineup"),children:"スタメン発表"}),jsxRuntimeExports.jsx("button",{className:`w-full px-4 py-3 rounded-lg text-lg font-semibold ${nt?it:rt}`,onClick:()=>$("gather"),children:"集合（先攻チーム🎤）"}),jsxRuntimeExports.jsx("button",{className:`w-full px-4 py-3 rounded-lg text-lg font-semibold ${nt?it:rt}`,onClick:()=>$("startGreeting"),children:"試合開始挨拶（先攻チーム🎤）"}),jsxRuntimeExports.jsx("button",{className:`w-full px-4 py-3 rounded-lg text-lg font-semibold ${nt?rt:it}`,onClick:()=>$("seatIntroduction"),children:"シート紹介（後攻チーム🎤）"}),jsxRuntimeExports.jsx("button",{className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 rounded-lg text-base mt-8",onClick:_e,children:"← 試合開始画面に戻る"})]})]})},Warmup=({onBack:$})=>{const[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(""),[rt,it]=reactExports.useState("1塁側"),[ot,st]=reactExports.useState(null),[lt,at]=reactExports.useState(!1),[mt,ft]=reactExports.useState(0),[gt,vt]=reactExports.useState(!1),[dt,pt]=reactExports.useState(0),[ut,ct]=reactExports.useState(!1),[xt,yt]=reactExports.useState(!1),ht=reactExports.useRef(null),bt=reactExports.useRef(null),[Tt,Pt]=reactExports.useState(300),[wt,kt]=reactExports.useState(300);reactExports.useEffect(()=>{(async()=>{const _n=await localForage.getItem("matchInfo"),Nn=await localForage.getItem("team");if(_n&&typeof _n=="object"){const Lt=_n;nt(Lt.opponentTeam||""),it(Lt.benchSide||"1塁側")}Nn&&typeof Nn=="object"&&et(Nn.name||"")})()},[]);const Mt=rt==="1塁側"?_e:tt,Dt=rt==="3塁側"?_e:tt,Ht=(tn,_n)=>{window.speechSynthesis.cancel();const Nn=new SpeechSynthesisUtterance(tn);Nn.lang="ja-JP",Nn.onstart=()=>st(_n),Nn.onend=()=>st(null),Nn.onerror=()=>st(null),window.speechSynthesis.speak(Nn)},Nt=()=>{window.speechSynthesis.cancel(),st(null)},Vt=tn=>{tn===1?(ft(Tt),at(!0)):(pt(wt),vt(!0))},qt=tn=>{tn===1&&ht.current&&(clearInterval(ht.current),at(!1)),tn===2&&bt.current&&(clearInterval(bt.current),vt(!1))},un=tn=>{tn===1&&ht.current&&(clearInterval(ht.current),ft(0),at(!1)),tn===2&&bt.current&&(clearInterval(bt.current),pt(0),vt(!1))};reactExports.useEffect(()=>(lt&&(ht.current=setInterval(()=>{ft(tn=>tn<=1?(clearInterval(ht.current),at(!1),ct(!0),0):tn-1)},1e3)),()=>clearInterval(ht.current)),[lt]),reactExports.useEffect(()=>(gt&&(bt.current=setInterval(()=>{pt(tn=>tn<=1?(clearInterval(bt.current),vt(!1),yt(!0),0):tn-1)},1e3)),()=>clearInterval(bt.current)),[gt]);const Bt=tn=>{const _n=Math.floor(tn/60),Nn=tn%60;return`${_n}分${Nn.toString().padStart(2,"0")}秒`},nn=({text:tn,keyName:_n})=>jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6"}),jsxRuntimeExports.jsx("p",{className:"text-left text-red-600 font-bold whitespace-pre-wrap",children:tn})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 text-white rounded ${ot===_n?"bg-green-600":"bg-blue-600"}`,onClick:()=>Ht(tn,_n),children:"読み上げ"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-1 text-white bg-red-600 rounded",onClick:Nt,disabled:ot!==_n,children:"停止"})]})]});return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6 text-center",children:[ut&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg text-center w-72",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold mb-4",children:"タイマーが終了しました。"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>ct(!1),children:"OK"})]})}),xt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg text-center w-72",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold mb-4",children:"タイマーが終了しました。"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>yt(!1),children:"OK"})]})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ウォーミングアップ"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," 試合開始30分前にアナウンス     ※後攻チーム🎤"]}),jsxRuntimeExports.jsx(nn,{text:`両チームはウォーミングアップに入って下さい。
 1塁側 ${Mt} はトスバッティング、
 3塁側 ${Dt} はキャッチボールを開始してください。`,keyName:"start"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center gap-4 mt-2 font-bold",children:mt===0&&!lt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"bg-gray-400 text-white px-2 rounded",onClick:()=>Pt(Math.max(60,Tt-60)),children:"−"}),jsxRuntimeExports.jsxs("span",{children:[Math.floor(Tt/60),"分間"]}),jsxRuntimeExports.jsx("button",{className:"bg-gray-400 text-white px-2 rounded",onClick:()=>Pt(Tt+60),children:"＋"})]}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>Vt(1),children:"タイマー開始"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:["残り時間　",Bt(mt)]}),lt?jsxRuntimeExports.jsx("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded",onClick:()=>qt(1),children:"STOP"}):jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>Vt(1),children:"START"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded",onClick:()=>un(1),children:"RESET"})]})}),jsxRuntimeExports.jsx(nn,{text:"両チーム交代してください。",keyName:"switch"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center gap-4 mt-2 font-bold",children:dt===0&&!gt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"bg-gray-400 text-white px-2 rounded",onClick:()=>kt(Math.max(60,wt-60)),children:"−"}),jsxRuntimeExports.jsxs("span",{children:[Math.floor(wt/60),"分間"]}),jsxRuntimeExports.jsx("button",{className:"bg-gray-400 text-white px-2 rounded",onClick:()=>kt(wt+60),children:"＋"})]}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>Vt(2),children:"タイマー開始"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:["残り時間　",Bt(dt)]}),gt?jsxRuntimeExports.jsx("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded",onClick:()=>qt(2),children:"STOP"}):jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>Vt(2),children:"START"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded",onClick:()=>un(2),children:"RESET"})]})}),jsxRuntimeExports.jsx(nn,{text:"ウォーミングアップを終了してください。",keyName:"end"})]})},SheetKnock=({onBack:$})=>{const[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(""),[rt,it]=reactExports.useState("先攻"),[ot,st]=reactExports.useState(0),[lt,at]=reactExports.useState(!1),[mt,ft]=reactExports.useState(null),[gt,vt]=reactExports.useState(!1),[dt,pt]=reactExports.useState(!1),ut=reactExports.useRef(null),ct=reactExports.useRef(!1);reactExports.useEffect(()=>{(async()=>{const Nt=await localForage.getItem("team"),Vt=await localForage.getItem("matchInfo");if(Nt&&typeof Nt=="object"&&et(Nt.name||""),Vt&&typeof Vt=="object"){const qt=Vt;it(qt.isHome===!0?"後攻":"先攻"),nt(qt.opponentTeam||"")}})()},[]);const xt=(Ht,Nt)=>{window.speechSynthesis.cancel();const Vt=new SpeechSynthesisUtterance(Ht);Vt.lang="ja-JP",Vt.onstart=()=>ft(Nt),Vt.onend=()=>ft(null),Vt.onerror=()=>ft(null),window.speechSynthesis.speak(Vt)},yt=()=>{window.speechSynthesis.cancel(),ft(null)},ht=()=>{ot===0&&st(420),at(!0),ct.current=!1},bt=()=>{ut.current&&clearInterval(ut.current),at(!1)},Tt=()=>{ut.current&&clearInterval(ut.current),at(!1),st(0),ct.current=!1};reactExports.useEffect(()=>(lt&&ot>0&&(ut.current=setInterval(()=>{st(Ht=>{const Nt=Ht-1;return Nt===120&&!ct.current&&(ct.current=!0,vt(!0)),Nt<=0?(clearInterval(ut.current),at(!1),pt(!0),0):Nt})},1e3)),()=>clearInterval(ut.current)),[lt]);const Pt=Ht=>{const Nt=Math.floor(Ht/60),Vt=Ht%60;return`${Nt}分${Vt.toString().padStart(2,"0")}秒`},wt=({text:Ht,keyName:Nt})=>jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 font-bold whitespace-pre-wrap",children:Ht})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 text-white rounded ${mt===Nt?"bg-green-600":"bg-blue-600"}`,onClick:()=>xt(Ht,Nt),children:"読み上げ"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-1 text-white bg-red-600 rounded",onClick:yt,disabled:mt!==Nt,children:"停止"})]})]}),kt=rt==="後攻"?"後攻チーム🎤":"先攻チーム🎤",Mt=rt==="後攻"?` ${_e} はシートノックの準備に入って下さい。`:null,Dt=rt==="後攻"?` ${_e} はシートノックに入って下さい。
ノック時間は7分以内です。`:` ${_e} はシートノックに入って下さい。
ノック時間は同じく7分以内です。`;return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6 text-center",children:[gt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg text-center w-72",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold mb-4",children:"残り2分になりました。"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>vt(!1),children:"OK"})]})}),dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg text-center w-72",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold mb-4",children:"タイマー終了になりました。"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>pt(!1),children:"OK"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center mb-6 space-x-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold",children:"シートノック"}),jsxRuntimeExports.jsx("button",{className:"border px-4 py-1 rounded-full text-sm",children:kt})]}),rt==="後攻"&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," ノックの準備ができていない場合のみ"]}),Mt&&jsxRuntimeExports.jsx(wt,{text:Mt,keyName:"prep"}),rt==="先攻"&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"}),"後攻チームのノック終了後に🎤"]}),jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"}),"最初のボールがノッカーの手から離れた時、",jsxRuntimeExports.jsx("br",{}),"もしくはボール回しから始まる場合はキャッチャーの手から",jsxRuntimeExports.jsx("br",{}),"ボールが離れてからスタート"]}),jsxRuntimeExports.jsx(wt,{text:Dt,keyName:"main"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center gap-4 mt-4 text-lg font-bold",children:ot===0&&!lt?jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:ht,children:"7分タイマー開始"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:["残り時間　",Pt(ot)]}),lt?jsxRuntimeExports.jsx("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded",onClick:bt,children:"STOP"}):jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:ht,children:"START"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded",onClick:Tt,children:"RESET"})]})}),jsxRuntimeExports.jsx(wt,{text:"ノック時間、残り2分です。",keyName:"2min"}),jsxRuntimeExports.jsx(wt,{text:"ノックを終了してください。",keyName:"end"})]})},positionMapJP={投:"ピッチャー",捕:"キャッチャー",一:"ファースト",二:"セカンド",三:"サード",遊:"ショート",左:"レフト",中:"センター",右:"ライト","-":"ー"},AnnounceStartingLineup=({onNavigate:$})=>{const[_e,et]=reactExports.useState([]),[tt,nt]=reactExports.useState({}),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState(""),[lt,at]=reactExports.useState(""),[mt,ft]=reactExports.useState(!0),[gt,vt]=reactExports.useState([]),[dt,pt]=reactExports.useState(!1),ut=reactExports.useRef(null),ct=rt.map(Ht=>Ht.id),[xt,yt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Nt=await localForage.getItem("benchOutIds");Array.isArray(Nt)&&yt(Nt)})()},[]),reactExports.useEffect(()=>{(async()=>{const[Nt,Vt,qt,un]=await Promise.all([localForage.getItem("team"),localForage.getItem("lineupAssignments"),localForage.getItem("battingOrder"),localForage.getItem("matchInfo")]);if(Nt&&(et(Nt.players||[]),st(Nt.name||"")),Vt&&typeof Vt=="object"&&nt(Vt),Array.isArray(qt)&&qt.every(Bt=>typeof Bt=="object"&&"id"in Bt)&&it(qt),un&&typeof un=="object"){const Bt=un;at(Bt.opponentTeam||""),ft(!Bt.isHome),Array.isArray(Bt.umpires)&&vt(Bt.umpires)}})()},[]);const ht=Ht=>positionMapJP[Ht]||Ht,bt=Ht=>Ht.isFemale?"さん":"くん",Tt=(Ht,Nt)=>jsxRuntimeExports.jsxs("ruby",{className:"ruby-text",children:[Ht,jsxRuntimeExports.jsx("rt",{className:"ruby-reading",children:Nt})]}),Pt=Ht=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Tt(Ht.lastName,Ht.lastNameKana),Tt(Ht.firstName,Ht.firstNameKana)]}),wt=Ht=>Tt(Ht.lastName,Ht.lastNameKana),kt=()=>{const Ht=ot,Nt=mt?`お待たせいたしました、${Ht}対${lt}のスターティングラインナップ並びに審判員をお知らせいたします。`:"",Vt=mt?`先攻（${Ht}）`:`続きまして後攻（${Ht}）`,qt=rt.map((nn,tn)=>{var Ct;const _n=_e.find(St=>St.id===nn.id);if(!_n)return null;const Nn=((Ct=Object.entries(tt).find(([St,Rt])=>Rt===nn.id))==null?void 0:Ct[0])||"-",Lt=ht(Nn),Et=bt(_n);return`${tn+1}番　[${Lt}]　${_n.lastNameKana}${_n.firstNameKana}${Et}、　[${Lt}]　${_n.lastNameKana}${Et}、背番号${_n.number}、`}).filter(Boolean).join(`
`),un=_e.filter(nn=>!rt.includes(nn.id)).map(nn=>`${nn.lastNameKana}${nn.firstNameKana}${bt(nn)}、背番号${nn.number}、`).join(`
`),Bt=gt.length===4?`なお、この試合の審判は球審（${gt[0].name}）、塁審は1塁（${gt[1].name}）、2塁（${gt[2].name}）、3塁（${gt[3].name}）以上4氏でございます。試合開始まで今しばらくお待ちください。`:"";return`${Nt}
${Vt}
${qt}
ベンチ入りの選手をお知らせいたします。
${un}
${Bt}`},Mt=()=>{if(dt)return;const Ht=kt();if(!Ht)return;const Nt=new SpeechSynthesisUtterance(Ht);Nt.lang="ja-JP",Nt.onstart=()=>pt(!0),Nt.onend=()=>pt(!1),Nt.onerror=()=>pt(!1),ut.current=Nt,window.speechSynthesis.speak(Nt)},Dt=()=>{window.speechSynthesis.cancel(),pt(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-4xl mx-auto bg-white border rounded-xl shadow",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"スタメン発表"}),mt&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," シートノック後、グラウンド整備中に読み上げ  ※先攻チーム🎤"]}),!mt&&jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," 先攻チームのアナウンスが終わったタイミング  ※後攻チーム🎤"]}),jsxRuntimeExports.jsx("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",className:"w-6 h-6 mb-2",alt:"Mic"}),jsxRuntimeExports.jsxs("div",{children:[mt&&jsxRuntimeExports.jsxs("p",{children:["お待たせいたしました、",ot," 対 ",lt," のスターティングラインナップ並びに審判員をお知らせいたします。"]}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-bold",children:mt?`先攻 ${ot} `:`続きまして後攻 ${ot} `}),rt.map((Ht,Nt)=>{var nn;const Vt=_e.find(tn=>tn.id===Ht.id);if(!Vt)return null;const qt=((nn=Object.entries(tt).find(([tn,_n])=>_n===Vt.id))==null?void 0:nn[0])||"-",un=ht(qt),Bt=bt(Vt);return jsxRuntimeExports.jsxs("p",{children:[Nt+1,"番 ",un," ",Pt(Vt),Bt,"、",un," ",wt(Vt),Bt,"、背番号",Vt.number,"、"]},Ht.id)}),jsxRuntimeExports.jsx("p",{className:"mt-4",children:"ベンチ入りの選手をお知らせいたします。"}),_e.filter(Ht=>!ct.includes(Ht.id)&&!xt.includes(Ht.id)).map(Ht=>jsxRuntimeExports.jsxs("p",{children:[Pt(Ht),bt(Ht),"、背番号",Ht.number,"、"]},Ht.id)),!mt&&gt.length===4&&jsxRuntimeExports.jsxs("p",{className:"mt-4",children:["なお、この試合の審判は 球審（",Tt(gt[0].name,gt[0].furigana),"）、 塁審は1塁（",Tt(gt[1].name,gt[1].furigana),"）、 2塁（",Tt(gt[2].name,gt[2].furigana),"）、 3塁（",Tt(gt[3].name,gt[3].furigana),"）以上4氏でございます。 試合開始まで今しばらくお待ちください。"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Mt,disabled:dt,className:"bg-blue-600 text-white px-4 py-2 rounded shadow disabled:bg-gray-400",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:Dt,disabled:!dt,className:"bg-red-600 text-white px-4 py-2 rounded shadow disabled:bg-gray-400",children:"停止"})]})]})},positionNames={投:"ピッチャー",捕:"キャッチャー",一:"ファースト",二:"セカンド",三:"サード",遊:"ショート",左:"レフト",中:"センター",右:"ライト"},OffenseScreen=({onSwitchToDefense:$,onGoToSeatIntroduction:_e})=>{var ar,lr,Er,Ir,Kr,Jr,wo,ao,Po,Lo;const[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState([]),[it,ot]=reactExports.useState([]),[st,lt]=reactExports.useState({}),[at,mt]=reactExports.useState(0),[ft,gt]=reactExports.useState(null),[vt,dt]=reactExports.useState({}),[pt,ut]=reactExports.useState(!0),[ct,xt]=reactExports.useState([]),[yt,ht]=reactExports.useState([]),[bt,Tt]=reactExports.useState(null),[Pt,wt]=reactExports.useState(null),[kt,Mt]=reactExports.useState(null),[Dt,Ht]=reactExports.useState(""),[Nt,Vt]=reactExports.useState(""),[qt,un]=reactExports.useState(1),[Bt,nn]=reactExports.useState(!0),[tn,_n]=reactExports.useState(!1),[Nn,Lt]=reactExports.useState(!1),[Et,Ct]=reactExports.useState(!1),[St,Rt]=reactExports.useState(null),jt=()=>{const Bn=new Date().toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});Rt(Bn),localForage.setItem("startTime",Bn),Wt(Bn),alert(`試合開始時間を記録しました: ${Bn}`)},It=reactExports.useRef(!1),[zt,Wt]=reactExports.useState(null),[Zt,Kt]=reactExports.useState(!1),[Xt,rn]=reactExports.useState([]);reactExports.useEffect(()=>{localForage.getItem("announcedIds").then(Dn=>{Array.isArray(Dn)&&rn(Dn)})},[]);const[bn,En]=reactExports.useState([]);reactExports.useEffect(()=>{localForage.getItem("checkedIds").then(Dn=>{Array.isArray(Dn)&&En(Dn)})},[]);const Tn=Dn=>{En(Bn=>{const dr=Bn.includes(Dn)?Bn.filter(Fr=>Fr!==Dn):[...Bn,Dn];return localForage.setItem("checkedIds",dr),dr})},In=reactExports.useRef(null),Fn=()=>{if(!window.speechSynthesis)return;const Dn="ファウルボールの行方には十分ご注意ください。",Bn=new SpeechSynthesisUtterance(Dn);In.current=Bn,window.speechSynthesis.speak(Bn)},qn=()=>{window.speechSynthesis&&window.speechSynthesis.cancel()},[An,hn]=reactExports.useState({});reactExports.useEffect(()=>{(async()=>{const Bn=await localForage.getItem("usedPlayerInfo");Bn&&(hn(Bn),console.log("✅ 読み込んだ usedPlayerInfo:",Bn))})()},[]);const[pn,jn]=reactExports.useState(!1);reactExports.useEffect(()=>{localForage.setItem("lastGameScreen","offense"),(async()=>{const Bn=await localForage.getItem("team"),dr=await localForage.getItem("battingOrder"),Fr=await localForage.getItem("lineupAssignments"),Wr=await localForage.getItem("matchInfo");if(Bn&&typeof Bn=="object"){const lo=Bn.players||[];rt(lo),tt(lo),Ht(Bn.name||"");const yo=dr.map(Gt=>Gt.id),Ut=await localForage.getItem("benchOutIds")||[],ln=lo.filter(Gt=>!yo.includes(Gt.id)&&!Ut.includes(Gt.id));Qn(ln)}if(dr&&Array.isArray(dr)){ot(dr);const lo=await localForage.getItem("lastBatterIndex");if(lo!==null&&typeof lo=="number"&&dr.length>0){const yo=lo%dr.length;mt(yo),ut(!0)}}Fr&&typeof Fr=="object"&&lt(Fr),Wr&&(Vt(Wr.opponentTeam||""),un(Wr.inning||1),nn(Wr.isTop??!0),_n(Wr.isHome??!1));const qr=await localForage.getItem("scores");qr&&typeof qr=="object"&&dt(qr);const ho=await localForage.getItem("announcedPlayerIds");ho&&xt(ho)})()},[]);const[Gn,Xn]=reactExports.useState(!1),[mr,Sr]=reactExports.useState(!1);reactExports.useState(!1);const[br,kr]=reactExports.useState(""),[Rr,xr]=reactExports.useState(""),[Nr,On]=reactExports.useState(null),[mn,an]=reactExports.useState(null),[Un,Ln]=reactExports.useState(!1),[ur,ro]=reactExports.useState(null),[xn,Qn]=reactExports.useState([]),[vr,Zn]=reactExports.useState(!1);reactExports.useState(!1);const[fr,gr]=reactExports.useState([]),[zr,Vn]=reactExports.useState({"1塁":null,"2塁":null,"3塁":null}),[Hr,hr]=reactExports.useState({}),Qt=Dn=>{Rr.length<2&&xr(Bn=>Bn+Dn)},At=async()=>{const Dn=parseInt(Rr||"0",10),Bn={...vt};if(Nr!==null&&mn!==null){const Fr=Nr-1;Bn[Fr]||(Bn[Fr]={top:0,bottom:0}),Bn[Fr][mn]=Dn,await localForage.setItem("scores",Bn),dt(Bn),xr(""),Xn(!1),On(null),an(null);return}const dr=qt-1;if(Bn[dr]||(Bn[dr]={top:0,bottom:0}),tn?Bn[dr].bottom=Dn:Bn[dr].top=Dn,await localForage.setItem("scores",Bn),dt(Bn),xr(""),Xn(!1),await localForage.setItem("lastBatterIndex",at),Bt)nn(!1),await localForage.setItem("matchInfo",{opponentTeam:Nt,inning:qt,isTop:!1,isHome:tn});else{const Fr=qt+1;nn(!0),un(Fr),await localForage.setItem("matchInfo",{opponentTeam:Nt,inning:Fr,isTop:!0,isHome:tn})}Dn>0?(kr(`${Dt}、この回の得点は${Dn}点です。`),tn&&qt===4&&!Bt&&Ct(!0),Sr(!0)):tn&&qt===4&&!Bt?Lt(!0):qt===1&&Bt?_e():$()},Ft=Dn=>et.find(Bn=>Bn.id===Dn)||nt.find(Bn=>Bn.id===Dn),Yt=Dn=>{const Bn=Object.entries(st).find(([Fr,Wr])=>Wr===Dn),dr=it.findIndex(Fr=>Fr.id===Dn);return Object.values(zr).some(Fr=>(Fr==null?void 0:Fr.id)===Dn)?"代走":yt.includes(dr)?"代打":Bn?positionNames[Bn[0]]:null},cn=Dn=>{const Bn=new SpeechSynthesisUtterance(Dn);Bn.lang="ja-JP",speechSynthesis.speak(Bn)},vn=()=>{const Dn=(at+1)%it.length;Dn===1&&zt&&!It.current&&(Kt(!0),It.current=!0),mt(Dn),ut(!1);const Bn=it[at];Bn&&(bn.includes(Bn.id)||Tn(Bn.id));const dr=(at+1)%it.length;mt(dr),ut(!1)},$n=()=>{const Dn=(at-1+it.length)%it.length;mt(Dn),ut(!1)},zn=()=>{const Dn=it[at],Bn=Ft(Dn==null?void 0:Dn.id),dr=Yt(Dn==null?void 0:Dn.id);if(Bn&&dr){const Fr=Bn.number,Wr=Bn!=null&&Bn.isFemale?"さん":"くん",qr=dr,ho=bn.includes(Bn.id),lo=ho?jsxRuntimeExports.jsxs("ruby",{children:[Bn.lastName,jsxRuntimeExports.jsx("rt",{children:Bn.lastNameKana})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("ruby",{children:[Bn.lastName,jsxRuntimeExports.jsx("rt",{children:Bn.lastNameKana})]}),jsxRuntimeExports.jsxs("ruby",{children:[Bn.firstName,jsxRuntimeExports.jsx("rt",{children:Bn.firstNameKana})]})]}),yo=ho?jsxRuntimeExports.jsxs("ruby",{children:[Bn.lastName,jsxRuntimeExports.jsx("rt",{children:Bn.lastNameKana})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("ruby",{children:[Bn.lastName,jsxRuntimeExports.jsx("rt",{children:Bn.lastNameKana})]})});let Ut=[];pt&&Ut.push(jsxRuntimeExports.jsx("div",{children:`${qt}回${Bt?"表":"裏"}、${Dt}の攻撃は、`})),ho?Ut.push(jsxRuntimeExports.jsxs("div",{children:[at+1,"番 ",qr," ",lo,Wr,"、背番号",Fr,"。"]})):Ut.push(jsxRuntimeExports.jsxs("div",{children:[at+1,"番 ",qr," ",lo,Wr,"、",qr," ",yo,Wr,"、背番号",Fr,"。"]})),gt(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ut}))}else gt("⚠️ アナウンスに必要な選手情報が見つかりません。")},nr=async()=>{const Dn=it[at],Bn=Ft(Dn.id),dr=Yt(Dn.id);if(Bn&&dr){const Fr=`${Bn.lastNameKana||Bn.lastName}${Bn.firstNameKana||Bn.firstName}`,Wr=Bn.lastNameKana||Bn.lastName,qr=Bn.number,ho=Bn!=null&&Bn.isFemale?"さん":"くん",lo=dr,yo=ct.includes(Dn.id);let Ut="";if(yo?Ut=`${at+1}番 ${lo} ${Wr}${ho}、背番号${qr}。`:Ut=`${pt?`${qt}回${Bt?"表":"裏"}、${Dt}の攻撃は、`:""}${at+1}番 ${lo} ${Fr}${ho}、${lo} ${Wr}${ho}、背番号${qr}。`,cn(Ut),!yo){const ln=[...ct,Dn.id];xt(ln),await localForage.setItem("announcedPlayerIds",ln)}}else gt("⚠️ アナウンスに必要な選手情報が見つかりません。")},er=Dn=>{const Bn=window.speechSynthesis;Bn.speaking&&Bn.cancel();const dr=new SpeechSynthesisUtterance(Dn);Bn.speak(dr)},Ar=()=>{const Dn=window.speechSynthesis;Dn.speaking&&Dn.cancel()};return reactExports.useEffect(()=>{zn()},[at]),reactExports.useEffect(()=>{et.length>0&&it.length>0&&st&&Dt!==""&&zn()},[et,it,st,Dt]),jsxRuntimeExports.jsxs(DndProvider,{backend:HTML5Backend,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-2"}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-2",children:[Dt||"自チーム"," vs ",Nt||"対戦相手"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("select",{value:qt,onChange:Dn=>un(Number(Dn.target.value)),children:[...Array(9)].map((Dn,Bn)=>jsxRuntimeExports.jsx("option",{value:Bn+1,children:Bn+1},Bn))}),jsxRuntimeExports.jsx("span",{children:"回"}),jsxRuntimeExports.jsxs("select",{value:Bt?"表":"裏",onChange:Dn=>nn(Dn.target.value==="表"),children:[jsxRuntimeExports.jsx("option",{value:"表",children:"表"}),jsxRuntimeExports.jsx("option",{value:"裏",children:"裏"})]})]}),jsxRuntimeExports.jsx("button",{className:"bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-600",onClick:jt,children:"試合開始"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xn(!0),className:"px-3 py-1 bg-orange-700 text-white rounded",children:"イニング終了"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full border border-gray-400 text-center text-sm mb-6",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border",children:"回"}),[...Array(9).keys()].map(Dn=>jsxRuntimeExports.jsx("th",{className:"border",children:Dn+1},Dn)),jsxRuntimeExports.jsx("th",{className:"border",children:"計"})]})}),jsxRuntimeExports.jsx("tbody",{children:[{name:Dt||"自チーム",isMyTeam:!0},{name:Nt||"対戦相手",isMyTeam:!1}].sort((Dn,Bn)=>tn?Dn.isMyTeam?1:-1:Dn.isMyTeam?-1:1).map((Dn,Bn)=>jsxRuntimeExports.jsxs("tr",{className:Dn.isMyTeam?"bg-gray-100":"",children:[jsxRuntimeExports.jsx("td",{className:"border",children:Dn.name}),[...Array(9).keys()].map(dr=>{var ho,lo,yo,Ut;const Fr=Dn.isMyTeam?tn?(ho=vt[dr])==null?void 0:ho.bottom:(lo=vt[dr])==null?void 0:lo.top:tn?(yo=vt[dr])==null?void 0:yo.top:(Ut=vt[dr])==null?void 0:Ut.bottom,Wr=Dn.isMyTeam?tn?"bottom":"top":tn?"top":"bottom",qr=dr+1===qt&&Wr===(Bt?"top":"bottom");return jsxRuntimeExports.jsx("td",{className:`border text-center cursor-pointer hover:bg-gray-200 ${qr?"bg-yellow-300 font-bold border-2 border-yellow-500":""}`,onClick:()=>{var Gt;if(qr||dr+1>=qt)return;On(dr+1),an(Wr);const ln=(Gt=vt[dr])==null?void 0:Gt[Wr];xr(ln!==void 0?String(ln):""),Xn(!0)},children:qr||dr+1>qt?"":Fr??""},dr)}),jsxRuntimeExports.jsx("td",{className:"border font-bold",children:Object.values(vt).reduce((dr,Fr)=>{const Wr=Dn.isMyTeam?tn?Fr.bottom??0:Fr.top??0:tn?Fr.top??0:Fr.bottom??0;return dr+Wr},0)})]},Bn))})]}),Gn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:"得点を入力してください"}),jsxRuntimeExports.jsx("div",{className:"text-2xl border p-2 w-24 mx-auto",children:Rr||"0"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:[..."1234567890"].map(Dn=>jsxRuntimeExports.jsx("button",{onClick:()=>Qt(Dn),className:"bg-blue-500 text-white p-2 rounded",children:Dn},Dn))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:At,className:"bg-green-600 text-white px-4 py-2 rounded",children:"OK"}),jsxRuntimeExports.jsx("button",{onClick:()=>xr(""),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"クリア"}),jsxRuntimeExports.jsx("button",{onClick:()=>{xr(""),Xn(!1)},className:"bg-gray-600 text-white px-4 py-2 rounded",children:"キャンセル"})]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-1 text-sm font-bold text-gray-800",children:it.map((Dn,Bn)=>{const dr=Ft(Dn.id),Fr=Bn===at,Wr=Yt(Dn.id),qr=Dn.reason==="代走"?"代走":Wr??"";return bn.includes(Dn.id),jsxRuntimeExports.jsx("div",{onClick:()=>{mt(Bn),ut(!0)},className:`px-2 py-0.5 border-b cursor-pointer ${Fr?"bg-yellow-200":""}`,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[50px_100px_150px_60px] items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[Bn+1,"番"]}),jsxRuntimeExports.jsx("div",{children:qr}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:bn.includes(Dn.id),onChange:()=>Tn(Dn.id),className:"mr-2"}),jsxRuntimeExports.jsxs("ruby",{children:[(dr==null?void 0:dr.lastName)??"苗字",(dr==null?void 0:dr.lastNameKana)&&jsxRuntimeExports.jsx("rt",{children:dr.lastNameKana})]}),jsxRuntimeExports.jsxs("ruby",{children:[(dr==null?void 0:dr.firstName)??"名前",(dr==null?void 0:dr.firstNameKana)&&jsxRuntimeExports.jsx("rt",{children:dr.firstNameKana})]})]}),jsxRuntimeExports.jsxs("div",{children:["#",(dr==null?void 0:dr.number)??"番号"]})]})},Dn.id)})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 my-2",children:[jsxRuntimeExports.jsx("button",{onClick:$n,className:"bg-green-500 text-white px-4 py-2 rounded",children:"前の打者"}),jsxRuntimeExports.jsx("button",{onClick:vn,className:"bg-green-500 text-white px-4 py-2 rounded",children:"次の打者"})]}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-red-600 font-bold whitespace-pre-line",children:"ファウルボールの行方には十分ご注意ください。"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex justify-start gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Fn,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:qn,className:"bg-red-600 text-white px-4 py-2 rounded",children:"停止"})]})]}),pt&&jsxRuntimeExports.jsx("div",{className:"flex items-center text-blue-600 font-bold mb-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," 攻撃回1人目のバッター紹介は、キャッチャーが2塁に送球後に🎤"]})}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-red-600 font-bold whitespace-pre-line",children:ft||"アナウンス文がここに表示されます。"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:nr,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:()=>speechSynthesis.cancel(),className:"bg-red-600 text-white px-4 py-2 rounded",children:"停止"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Zn(!0),className:"bg-orange-600 text-white px-6 py-2 rounded",children:"代走"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ln(!0),className:"bg-orange-600 text-white px-6 py-2 rounded",children:"代打"})]}),mr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 p-6 rounded-lg shadow text-center text-xl text-red-600 font-bold space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-4",children:jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6"})}),jsxRuntimeExports.jsx("p",{children:br}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const Dn=new SpeechSynthesisUtterance(br);speechSynthesis.speak(Dn)},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:()=>speechSynthesis.cancel(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"停止"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Sr(!1),Et?(Ct(!1),Lt(!0)):qt===1&&Bt?_e():$()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"OK"})]})]})}),pn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-4 max-w-sm w-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-red-600",children:"守備位置の設定"}),jsxRuntimeExports.jsx("p",{children:"代打／代走で出場した選手の守備位置を設定してください。"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>{jn(!1),onChangeDefense()},children:"OK"})]})}),Un&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-200 p-6 rounded-xl shadow-xl text-center max-w-3xl w-full space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-black",children:"代打"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-bold text-xl",children:[at+1,"番",(lr=Ft((ar=it[at])==null?void 0:ar.id))==null?void 0:lr.lastName," ",(Ir=Ft((Er=it[at])==null?void 0:Er.id))==null?void 0:Ir.firstName,"#",(Jr=Ft((Kr=it[at])==null?void 0:Kr.id))==null?void 0:Jr.number]}),jsxRuntimeExports.jsx("div",{className:"text-blue-600 text-3xl",children:"⬅"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4 max-h-32 overflow-y-auto",children:xn.map(Dn=>{console.log("🪑 benchPlayers",xn),console.log("🗑️ usedPlayerInfo",An);const Bn=Dn.id in An&&!it.some(dr=>dr.id===Dn.id)&&!Object.values(st).some(dr=>dr===Dn.id);return jsxRuntimeExports.jsxs("div",{onClick:()=>!Bn&&ro(Dn),className:`w-[22%] text-sm px-2 py-1 rounded border font-semibold text-center
          ${Bn?"bg-gray-300 text-gray-500 line-through cursor-not-allowed":(ur==null?void 0:ur.id)===Dn.id?"bg-yellow-200 border-yellow-600 cursor-pointer":"bg-gray-100 border-gray-400 cursor-pointer"}`,children:[Dn.lastName," ",Dn.firstName," #",Dn.number]},Dn.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 left-4 text-2xl",children:"🎤📢"}),jsxRuntimeExports.jsxs("span",{className:"whitespace-pre-line text-base font-bold text-red-700 leading-relaxed block mt-2 ml-6",children:[at+1,"番"," ",jsxRuntimeExports.jsxs("ruby",{children:[(ao=Ft((wo=it[at])==null?void 0:wo.id))==null?void 0:ao.lastName,jsxRuntimeExports.jsx("rt",{children:(Lo=Ft((Po=it[at])==null?void 0:Po.id))==null?void 0:Lo.lastNameKana})]})," ","くん に代わりまして"," ",jsxRuntimeExports.jsxs("ruby",{children:[ur==null?void 0:ur.lastName,jsxRuntimeExports.jsx("rt",{children:ur==null?void 0:ur.lastNameKana})]})," ",jsxRuntimeExports.jsxs("ruby",{children:[ur==null?void 0:ur.firstName,jsxRuntimeExports.jsx("rt",{children:ur==null?void 0:ur.firstNameKana})]})," ","くん、バッターは"," ",jsxRuntimeExports.jsxs("ruby",{children:[ur==null?void 0:ur.lastName,jsxRuntimeExports.jsx("rt",{children:ur==null?void 0:ur.lastNameKana})]})," ","くん、背番号 ",ur==null?void 0:ur.number]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{var ho;const Dn=Ft((ho=it[at])==null?void 0:ho.id),Bn=ur;if(!Dn||!Bn)return;const dr=Dn.lastNameKana||Dn.lastName||"",Fr=`${Bn.lastNameKana||Bn.lastName||""}${Bn.firstNameKana||Bn.firstName||""}`,Wr=Bn.lastNameKana||Bn.lastName||"",qr=Bn.isFemale?"さん":"くん";cn(`${at+1}番 ${dr} ${qr} に代わりまして、${Fr} ${qr}、バッターは ${Wr} ${qr}、背番号 ${Bn.number}`)},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:()=>speechSynthesis.cancel(),className:"bg-red-600 text-white px-4 py-2 rounded",children:"停止"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row justify-center gap-4 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:async()=>{var Fr;const Dn=it[at].id,Bn=Ft(Dn),dr=((Fr=it.find(Wr=>Wr.id===Dn))==null?void 0:Fr.reason)==="スタメン";if(Bn&&ur){const Wr=await localForage.getItem("usedPlayerInfo")||{},qr={ピッチャー:"投",キャッチャー:"捕",ファースト:"一",セカンド:"二",サード:"三",ショート:"遊",レフト:"左",センター:"中",ライト:"右",投:"投",捕:"捕",一:"一",二:"二",三:"三",遊:"遊",左:"左",中:"中",右:"右"},ho=Yt(Bn.id),lo=qr[ho??""]??ho??"";Wr[Bn.id]={fromPos:lo,subId:ur.id,reason:"代打",order:at+1,wasStarter:dr},await localForage.setItem("usedPlayerInfo",Wr),hn(Wr),console.log("✅ 攻撃画面で登録された usedPlayerInfo：",Wr)}if(ur){const Wr=[...it];Wr[at]={id:ur.id,reason:"代打"},ot(Wr),await localForage.setItem("battingOrder",Wr),et.some(qr=>qr.id===ur.id)||tt(qr=>[...qr,ur]),nt.some(qr=>qr.id===ur.id)||rt(qr=>[...qr,ur]),yt.includes(at)||ht(qr=>[...qr,at]),Ln(!1)}},className:"bg-orange-600 text-white px-6 py-2 rounded",children:"確定"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ln(!1),className:"bg-green-600 text-white px-6 py-2 rounded",children:"キャンセル"})]})]})}),vr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center overflow-y-auto p-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl w-full max-w-md space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center",children:"代走"}),bt===null&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold mb-2 text-center",children:"代走対象のランナーを選択"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:it.map((Dn,Bn)=>{const dr=Ft(Dn.id),Fr=Object.values(Hr).some(Wr=>(Wr==null?void 0:Wr.id)===(dr==null?void 0:dr.id));return dr?jsxRuntimeExports.jsxs("div",{className:`border p-2 rounded cursor-pointer ${bt===Bn?"bg-yellow-100":""} ${Fr?"bg-gray-300 text-gray-500 cursor-not-allowed":"hover:bg-gray-100"}`,onClick:()=>!Fr&&Tt(Bn),children:[Bn+1,"番 ",dr.lastName," ",dr.firstName," #",dr.number]},Dn.id):null})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>{Zn(!1),Tt(null),Mt(null),wt(null),Vn({"1塁":null,"2塁":null,"3塁":null}),hr({"1塁":null,"2塁":null,"3塁":null}),gr([])},className:"bg-green-600 text-white px-4 py-2 rounded",children:"キャンセル"})})]}),bt!==null&&kt===null&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-center",children:"ランナーはどの塁にいますか？"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-2",children:["1塁","2塁","3塁"].map(Dn=>jsxRuntimeExports.jsx("button",{disabled:zr[Dn]!==null,onClick:()=>Mt(Dn),className:`px-4 py-2 rounded border ${zr[Dn]?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-white hover:bg-gray-100"}`,children:Dn},Dn))}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>{Zn(!1),Tt(null),Mt(null),wt(null),Vn({"1塁":null,"2塁":null,"3塁":null}),hr({"1塁":null,"2塁":null,"3塁":null}),gr([])},className:"bg-green-600 text-white px-4 py-2 rounded",children:"キャンセル"})})]}),bt!==null&&kt!==null&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-2",children:"代走設定内容"}),jsxRuntimeExports.jsx("div",{className:"text-md mb-4",children:(()=>{const Dn=Ft(it[bt].id),Bn=zr[kt],dr=Dn?`${Dn.lastName}${Dn.firstName} #${Dn.number}`:"",Fr=Bn?`➡ ${Bn.lastName}${Bn.firstName} #${Bn.number}`:"➡";return jsxRuntimeExports.jsxs("p",{children:[kt,"：",dr," ",Fr]})})()}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-2",children:"代走として出す選手を選択"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:xn.map(Dn=>{var Fr;const Bn=Object.values(zr).some(Wr=>(Wr==null?void 0:Wr.id)===Dn.id),dr=((Fr=zr[kt])==null?void 0:Fr.id)===Dn.id;return jsxRuntimeExports.jsxs("button",{disabled:Bn&&!dr,onClick:()=>{var lo;const Wr=(lo=it[bt])==null?void 0:lo.id,qr=Ft(Wr),ho=Dn.isFemale?"さん":"くん";gr(yo=>[...yo.filter(ln=>!ln.startsWith(`${kt}ランナー`)),`${kt}ランナー ${qr==null?void 0:qr.lastName}${qr!=null&&qr.isFemale?"さん":"くん"} に代わりまして、${Dn.lastName}${ho}、${kt}ランナーは ${Dn.lastName}${ho}、背番号 ${Dn.number}`]),Vn(yo=>({...yo,[kt]:Dn})),hr(yo=>({...yo,[kt]:qr})),wt(Dn)},className:`p-2 border rounded font-semibold text-center ${dr?"bg-yellow-300 border-yellow-600 text-black":Bn?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white hover:bg-gray-100"}`,children:[Dn.lastName," ",Dn.firstName," #",Dn.number]},Dn.id)})}),fr&&fr.length>0&&jsxRuntimeExports.jsxs("div",{className:"border p-4 bg-red-200 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-2",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mr-2"}),jsxRuntimeExports.jsx("div",{className:"text-red-600 font-bold space-y-1",children:["1塁","2塁","3塁"].map(Dn=>fr.filter(Bn=>Bn.startsWith(`${Dn}ランナー`)).map((Bn,dr)=>jsxRuntimeExports.jsx("div",{children:Bn},`${Dn}-${dr}`)))})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>cn(["1塁","2塁","3塁"].map(Dn=>fr.find(Bn=>Bn.startsWith(`${Dn}ランナー`))).filter(Boolean).join("、")),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:()=>speechSynthesis.cancel(),className:"bg-red-600 text-white px-4 py-2 rounded",children:"停止"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{wt(null),Tt(null),Mt(null)},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"もう1人"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Zn(!1),Tt(null),Mt(null),wt(null),Vn({"1塁":null,"2塁":null,"3塁":null}),hr({"1塁":null,"2塁":null,"3塁":null}),gr([])},className:"bg-green-600 text-white px-4 py-2 rounded",children:"キャンセル"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{const Dn=[...it],Bn={...An},dr=await localForage.getItem("lineupAssignments"),Fr=await localForage.getItem("wasStarterMap"),Wr={...dr||{}};let qr=[...et];Object.entries(zr).forEach(([ho,lo])=>{var Gt;const yo=Hr[ho];if(!lo||!yo)return;const Ut=it.findIndex(kn=>kn.id===yo.id);if(Ut===-1)return;Dn[Ut]={id:lo.id,reason:"代走"};const ln=((Gt=Object.entries(dr||{}).find(([kn,Mn])=>Mn===yo.id))==null?void 0:Gt[0])??"";Bn[yo.id]={fromPos:ln,subId:lo.id,reason:"代走",order:Ut,wasStarter:(Fr==null?void 0:Fr[yo.id])??!0,replacedId:yo.id},ln&&(Wr[ln]=lo.id),qr.some(kn=>kn.id===lo.id)||qr.push(lo)}),ot(Dn),hn(Bn),await localForage.setItem("lineupAssignments",Wr),await localForage.setItem("battingOrder",Dn),tt(qr),Zn(!1),Tt(null),Mt(null),wt(null),Vn({"1塁":null,"2塁":null,"3塁":null}),hr({"1塁":null,"2塁":null,"3塁":null}),gr([])},className:"bg-red-600 text-white px-4 py-2 rounded",children:"確定"})]})]})]})]})}),Nn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-6 border-4 border-red-500 max-w-md w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("img",{src:"icons/mic-red.png",alt:"マイク",className:"w-10 h-10"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-red-600",children:"両チームはグランド整備をお願いします。"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>er("両チームはグランド整備をお願いします。"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:Ar,className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-1 rounded",children:"停止"})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-red-600",children:"グランド整備、ありがとうございました。"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>er("グランド整備、ありがとうございました。"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:Ar,className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-1 rounded",children:"停止"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{Ar(),Lt(!1),$()},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-1.5 rounded font-bold",children:"OK"})})]})}),Zt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-pink-200 p-6 rounded-xl shadow-xl text-center space-y-4 max-w-md w-full",children:[jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-red-600 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:"🎤"}),"この試合の開始時刻は ",zt," です。"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{const Dn=new SpeechSynthesisUtterance(`この試合の開始時刻は${zt}です`);speechSynthesis.speak(Dn)},children:"読み上げ"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>speechSynthesis.cancel(),children:"停止"}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>Kt(!1),children:"OK"})]})]})})]})]})},positionStyles$1={投:{top:"65%",left:"50%"},捕:{top:"89%",left:"50%"},一:{top:"66%",left:"80%"},二:{top:"45%",left:"66%"},三:{top:"66%",left:"17%"},遊:{top:"45%",left:"32%"},左:{top:"22%",left:"17%"},中:{top:"22%",left:"50%"},右:{top:"22%",left:"80%"}},positions$1=Object.keys(positionStyles$1),DefenseScreen=({onChangeDefense:$,onSwitchToOffense:_e})=>{const[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(""),[it,ot]=reactExports.useState(null),[st,lt]=reactExports.useState(null),[at,mt]=reactExports.useState(""),[ft,gt]=reactExports.useState(""),[vt,dt]=reactExports.useState({}),[pt,ut]=reactExports.useState([]),[ct,xt]=reactExports.useState(0),[yt,ht]=reactExports.useState(0),[bt,Tt]=reactExports.useState({}),[Pt,wt]=reactExports.useState(1),[kt,Mt]=reactExports.useState(!0),[Dt,Ht]=reactExports.useState(!0),[Nt,Vt]=reactExports.useState(!1),[qt,un]=reactExports.useState([]),[Bt,nn]=reactExports.useState([]),[tn,_n]=reactExports.useState(!1),Nn=reactExports.useRef(window.speechSynthesis),Lt=reactExports.useRef(null),[Et,Ct]=reactExports.useState(!1);reactExports.useEffect(()=>{localForage.setItem("lastGameScreen","defense"),(async()=>{const Xt=await localForage.getItem("lineupAssignments"),rn=await localForage.getItem("team")||{name:"",players:[]},bn=await localForage.getItem("matchInfo")||{opponentTeam:"",inning:1,isTop:!0,isDefense:!0,isHome:!1},En=await localForage.getItem("scores")||{},Tn=await localForage.getItem("pitchCounts")||{current:0,total:0};if((await localForage.getItem("battingOrder")||[]).some(mr=>mr.reason==="代打"||mr.reason==="代走")){Ct(!0);return}Xt&&dt(Xt),rn.name&&mt(rn.name),rn.players&&ut(rn.players),bn.opponentTeam&&gt(bn.opponentTeam),En&&Tt(En),wt(bn.inning??1),Mt(bn.isTop??!0),Ht(bn.isDefense??!0),Vt(bn.isHome??!1);const qn=Xt==null?void 0:Xt.投,An=Tn.pitcherId,hn=rn.players.find(mr=>mr.id===qn),pn=(hn==null?void 0:hn.lastName)??"投手";let jn=0,Gn=Tn.total??0;const Xn=bn.inning===Pt&&bn.isTop===kt;if(qn!==void 0&&qn===An){jn=Tn.current??0,Gn=Tn.total??0;const mr=[`ピッチャー${pn}くん、この回の投球数は${jn}球です。`];Xn||mr.push(`トータル${Gn}球です。`),un(mr)}else jn=0,Gn=0,un([`ピッチャー${pn}くんに交代です。`,"この回の投球数は0球です。","トータル0球です。"]);xt(jn),ht(Gn),await localForage.setItem("pitchCounts",{current:jn,total:Gn,pitcherId:qn??null}),xt(jn),ht(Gn),await localForage.setItem("pitchCounts",{current:jn,total:Gn,pitcherId:qn??null})})()},[]);const St=async()=>{const Kt=ct+1,Xt=yt+1;xt(Kt),ht(Xt);const rn=vt.投,bn=await localForage.getItem("matchInfo");(bn==null?void 0:bn.inning)===Pt&&(bn==null||bn.isTop),await localForage.setItem("pitchCounts",{current:Kt,total:Xt,pitcherId:rn??null});const En=pt.find(Fn=>Fn.id===rn),Tn=(En==null?void 0:En.lastName)??"投手",In=[];if(In.push(`ピッチャー${Tn}くん、この回の投球数は${Kt}球です。`),Kt!==Xt&&In.push(`トータル${Xt}球です。`),Xt===40||Xt===50){const Fn=Xt===50?`ピッチャー${Tn}くん、ただいまの投球で${Xt}球に到達しました。`:`ピッチャー${Tn}くん、ただいまの投球で${Xt}球です。`;nn([Fn]),_n(!0)}un(In)},Rt=async()=>{const Kt=Math.max(ct-1,0),Xt=Math.max(yt-1,0);xt(Kt),ht(Xt);const rn=vt.投,bn=await localForage.getItem("matchInfo");(bn==null?void 0:bn.inning)===Pt&&(bn==null||bn.isTop),await localForage.setItem("pitchCounts",{current:Kt,total:Xt,pitcherId:rn??null});const En=pt.find(Fn=>Fn.id===rn),In=[`ピッチャー${(En==null?void 0:En.lastName)??"投手"}くん、この回の投球数は${Kt}球です。`];Kt!==Xt&&In.push(`トータル${Xt}球です。`),un(In)},jt=async()=>{const Kt=parseInt(nt||"0",10),Xt={...bt};if(it!==null&&st!==null){const In=it-1;Xt[In]||(Xt[In]={top:0,bottom:0}),Xt[In][st]=Kt,await localForage.setItem("scores",Xt),Tt(Xt),rt(""),ot(null),lt(null),tt(!1);return}const rn=Pt-1;Xt[rn]||(Xt[rn]={top:0,bottom:0}),kt?Xt[rn].top=Kt:Xt[rn].bottom=Kt,await localForage.setItem("scores",Xt),Tt(Xt),rt(""),tt(!1);const bn=!kt,En=kt?Pt:Pt+1;await localForage.setItem("matchInfo",{opponentTeam:ft,inning:En,isTop:bn,isDefense:!0,isHome:Nt}),Mt(bn),kt||wt(En),(bn&&!Nt||!bn&&Nt)&&_e()},It=Kt=>{if(Kt===null)return null;const Xt=pt.find(rn=>rn.id===Kt);return(Xt==null?void 0:Xt.name)??`${(Xt==null?void 0:Xt.lastName)??""}${(Xt==null?void 0:Xt.firstName)??""} #${Xt==null?void 0:Xt.number}`},zt=()=>{var rn;if((rn=Nn.current)!=null&&rn.speaking&&Nn.current.cancel(),qt.length===0)return;const Kt=qt.join("。"),Xt=new SpeechSynthesisUtterance(Kt);Lt.current=Xt,Nn.current.speak(Xt)},Wt=()=>{var rn;if((rn=Nn.current)!=null&&rn.speaking&&Nn.current.cancel(),Bt.length===0)return;const Kt=Bt.join("。"),Xt=new SpeechSynthesisUtterance(Kt);Lt.current=Xt,Nn.current.speak(Xt)},Zt=()=>{var Kt;(Kt=Nn.current)!=null&&Kt.speaking&&Nn.current.cancel()};return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[jsxRuntimeExports.jsxs("section",{className:"mb-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-2",children:[at||"自チーム"," vs ",ft||"対戦相手"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("select",{value:Pt,onChange:Kt=>wt(Number(Kt.target.value)),children:[...Array(9)].map((Kt,Xt)=>jsxRuntimeExports.jsx("option",{value:Xt+1,children:Xt+1},Xt))}),jsxRuntimeExports.jsx("span",{children:"回"}),jsxRuntimeExports.jsxs("select",{value:kt?"表":"裏",onChange:Kt=>Mt(Kt.target.value==="表"),children:[jsxRuntimeExports.jsx("option",{value:"表",children:"表"}),jsxRuntimeExports.jsx("option",{value:"裏",children:"裏"})]}),jsxRuntimeExports.jsx("span",{children:Dt?"守備中":"攻撃中"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>tt(!0),className:"px-3 py-1 bg-orange-700 text-white rounded",children:"イニング終了"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full border border-gray-400 text-center text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border",children:"回"}),[...Array(9).keys()].map(Kt=>jsxRuntimeExports.jsx("th",{className:"border",children:Kt+1},Kt)),jsxRuntimeExports.jsx("th",{className:"border",children:"計"})]})}),jsxRuntimeExports.jsx("tbody",{children:[{name:at||"自チーム",isMyTeam:!0},{name:ft||"対戦相手",isMyTeam:!1}].sort((Kt,Xt)=>Nt?Kt.isMyTeam?1:-1:Kt.isMyTeam?-1:1).map((Kt,Xt)=>jsxRuntimeExports.jsxs("tr",{className:Kt.isMyTeam?"bg-gray-100":"",children:[jsxRuntimeExports.jsx("td",{className:"border text-center",children:Kt.name}),[...Array(9).keys()].map(rn=>{var Fn,qn,An,hn;const bn=Kt.isMyTeam?Nt?(Fn=bt[rn])==null?void 0:Fn.bottom:(qn=bt[rn])==null?void 0:qn.top:Nt?(An=bt[rn])==null?void 0:An.top:(hn=bt[rn])==null?void 0:hn.bottom,En=Kt.isMyTeam?Nt?"bottom":"top":Nt?"top":"bottom",Tn=rn+1===Pt&&En===(kt?"top":"bottom"),In=Tn&&bn===0?"":bn??"";return jsxRuntimeExports.jsx("td",{className:`border cursor-pointer text-center hover:bg-gray-200 ${Tn?"bg-yellow-300 font-bold border-2 border-yellow-500":""}`,onClick:()=>{var jn;if(Tn||rn+1>=Pt)return;ot(rn+1),lt(En);const pn=(jn=bt[rn])==null?void 0:jn[En];rt(pn!==void 0?String(pn):""),tt(!0)},children:rn+1>Pt?"":In},rn)}),jsxRuntimeExports.jsx("td",{className:"border font-bold text-center",children:Object.values(bt).reduce((rn,bn)=>{const En=Kt.isMyTeam?Nt?bn.bottom??0:bn.top??0:Nt?bn.top??0:bn.bottom??0;return rn+En},0)})]},Xt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-2xl mx-auto my-6",children:[jsxRuntimeExports.jsx("img",{src:"/field.jpg",alt:"フィールド図",className:"w-full rounded shadow"}),positions$1.map(Kt=>{const Xt=vt[Kt],rn=It(Xt);return jsxRuntimeExports.jsx("div",{className:"absolute text-base font-bold text-white bg-black bg-opacity-60 rounded px-1 py-0.5 whitespace-nowrap text-center",style:{...positionStyles$1[Kt],transform:"translate(-50%, -50%)",minWidth:"80px"},children:rn??jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"空き"})},Kt)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Rt,className:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"投球数－１"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:["この回の投球数: ",jsxRuntimeExports.jsx("strong",{children:ct})]}),jsxRuntimeExports.jsxs("p",{children:["累計投球数: ",jsxRuntimeExports.jsx("strong",{children:yt})]})]}),jsxRuntimeExports.jsx("button",{onClick:St,className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",children:"投球数＋１"})]}),qt.length>0&&jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 text-red-700 p-4 rounded relative text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col text-red-600 text-lg font-bold space-y-2 w-full",children:[jsxRuntimeExports.jsx("div",{children:qt.map((Kt,Xt)=>jsxRuntimeExports.jsx("p",{children:Kt},Xt))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:zt,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:Zt,className:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700",children:"停止"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex items-center gap-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 px-4 py-2 mb-3 text-sm font-semibold text-left",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-2xl",children:"⚠️"})," 守備回終了時に🎤"]})})]}),jsxRuntimeExports.jsx("div",{className:"my-6 text-center",children:jsxRuntimeExports.jsx("button",{onClick:$,className:"px-4 py-2 bg-orange-500 text-white rounded shadow hover:bg-orange-600",children:"守備交代"})}),Et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-4 max-w-sm",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-red-600",children:"代打/代走の選手の守備位置を設定して下さい"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-4 mt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{Ct(!1),$()},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"ＯＫ"})})]})}),tn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-4",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"text-red-600 text-lg font-bold space-y-2",children:Bt.map((Kt,Xt)=>jsxRuntimeExports.jsx("p",{children:Kt},Xt))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Wt,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"読み上げ"}),jsxRuntimeExports.jsx("button",{onClick:Zt,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"停止"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-4 mt-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{_n(!1),nn([])},className:"bg-green-600 text-white px-4 py-2 rounded",children:"OK"})})]})}),et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl text-center space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:"得点を入力してください"}),jsxRuntimeExports.jsx("div",{className:"text-2xl border p-2 w-24 mx-auto",children:nt||"0"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:[..."1234567890"].map(Kt=>jsxRuntimeExports.jsx("button",{onClick:()=>{nt.length<2&&rt(Xt=>Xt+Kt)},className:"bg-blue-500 text-white p-2 rounded",children:Kt},Kt))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:jt,className:"bg-green-600 text-white px-4 py-2 rounded",children:"OK"}),jsxRuntimeExports.jsx("button",{onClick:()=>rt(""),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"クリア"}),jsxRuntimeExports.jsx("button",{onClick:()=>{rt(""),tt(!1),ot(null),lt(null)},className:"bg-gray-600 text-white px-4 py-2 rounded",children:"キャンセル"})]})]})})]})},posNameToSymbol={ピッチャー:"投",キャッチャー:"捕",ファースト:"一",セカンド:"二",サード:"三",ショート:"遊",レフト:"左",センター:"中",ライト:"右"},ruby=($,_e)=>_e?`<ruby>${$}<rt>${_e}</rt></ruby>`:$??"",lastRuby=$=>ruby($.lastName,$.lastNameKana),firstRuby=$=>ruby($.firstName,$.firstNameKana),honor=$=>$.isFemale?"さん":"くん",fullName=$=>`${lastRuby($)}${firstRuby($)}`,fullNameHonor=$=>`${fullName($)}${honor($)}`,lastWithHonor=$=>`${lastRuby($)}${honor($)}`,generateAnnouncementText=($,_e,et=[],tt={},nt=[],rt={},it={})=>{const ot={投:"ピッチャー",捕:"キャッチャー",一:"ファースト",二:"セカンド",三:"サード",遊:"ショート",左:"レフト",中:"センター",右:"ライト"};Object.fromEntries(et.map(kt=>[kt.id,kt.reason]));const st=kt=>{var Mt,Dt;if(kt.type==="replace"){const Ht=tt[kt.pos],Nt=rt[kt.pos];return Ht===Nt}if(kt.type==="shift"){const Ht=(Mt=Object.entries(tt).find(([Vt,qt])=>qt===kt.player.id))==null?void 0:Mt[0],Nt=(Dt=Object.entries(rt).find(([Vt,qt])=>qt===kt.player.id))==null?void 0:Dt[0];return Ht===Nt}if(kt.type==="mixed"){const Ht=tt[kt.toPos],Nt=rt[kt.fromPos];return Ht===Nt&&kt.fromPos===kt.toPos}return!1};$=$.filter(kt=>!st(kt));const lt=$.filter(kt=>kt.type==="replace"),at=$.filter(kt=>kt.type==="shift"),mt=$.filter(kt=>kt.type==="mixed"),ft=[],gt=[],vt=[];et.forEach((kt,Mt)=>{var qt;const Dt=nt.find(un=>un.id===kt.id);if(!Dt)return;const Ht=(qt=Object.entries(tt).find(([un,Bt])=>Bt===kt.id))==null?void 0:qt[0];if(!Ht)return;const Nt=!!it[kt.id],Vt=rt[Ht]===kt.id;if((kt.reason==="代打"||kt.reason==="代走")&&!Nt&&Vt){const un=Dt.isFemale?"さん":"くん",Bt=`<ruby>${Dt.lastName}${Dt.firstName}<rt>${Dt.lastNameKana??""}${Dt.firstNameKana??""}</rt></ruby>${un}`,nn=vt.length===0?"先ほど":"同じく先ほど";vt.push(`${nn}${kt.reason}致しました${Bt} がそのまま入り ${ot[Ht]}`),gt.push({order:Mt+1,text:`${Mt+1}番 ${ot[Ht]} ${Bt}`})}}),vt.length===1?ft.push(vt[0]+"。"):vt.length>1&&ft.push(vt.join(`、
`)+"。");const dt=at.length>0,pt=lt.length>0;mt.length>0,at.length+lt.length+mt.length;const ut=mt.some(kt=>kt.from.id!==kt.to.id),ct=mt.every(kt=>kt.from.id===kt.to.id);(pt||ut)&&(dt||ct)?ft.push(`${_e}、選手の交代並びにシートの変更をお知らせいたします。`):pt||ut?ft.push(`${_e}、選手の交代をお知らせいたします。`):(dt||ct)&&ft.push(`${_e}、シートの変更をお知らせいたします。`);const xt=["投","捕","一","二","三","遊","左","中","右"],yt=kt=>xt.indexOf(kt);lt.sort((kt,Mt)=>yt(kt.pos)-yt(Mt.pos)),mt.sort((kt,Mt)=>yt(kt.fromPos)-yt(Mt.fromPos)),at.sort((kt,Mt)=>yt(kt.fromPos)-yt(Mt.fromPos));const ht=(kt,Mt)=>ft.push(Mt?kt+"。":kt+"、"),bt=[];if(lt.forEach(kt=>{const Mt=`${ot[kt.pos]} ${lastWithHonor(kt.from)} に代わりまして、${fullNameHonor(kt.to)}`;bt.push(Mt),gt.some(Dt=>Dt.order===kt.order)||gt.push({order:kt.order,text:`${kt.order}番 ${ot[kt.pos]} ${fullNameHonor(kt.to)} 背番号 ${kt.to.number}`})}),bt.length===1){const kt=at.length>0?bt[0]+"、":bt[0]+" が入ります。";ft.push(kt)}else if(bt.length>1){const kt=bt.pop(),Mt=bt.map(Ht=>Ht+"、").join(`
`),Dt=at.length>0?kt+"、":kt+" が入ります。";ft.push(`${Mt}
${Dt}`)}mt.forEach((kt,Mt)=>{kt.from.id===kt.to.id?ft.push(`${ot[kt.fromPos]}の ${lastWithHonor(kt.from)} が ${ot[kt.toPos]} に${Mt===mt.length-1&&!dt?"入ります。":"、"}`):ht(`${ot[kt.fromPos]}の ${lastWithHonor(kt.from)} に代わりまして、${kt.order}番に ${fullNameHonor(kt.to)} が入り ${ot[kt.toPos]}へ`,Mt===mt.length-1&&!dt),gt.push({order:kt.order,text:`${kt.order}番 ${ot[kt.toPos]} ${fullNameHonor(kt.to)} 背番号 ${kt.to.number}`})});const Pt=(kt=>{const Mt=new Map(kt.map(Nt=>[Nt.fromPos,Nt]));new Map(kt.map(Nt=>[Nt.toPos,Nt]));const Dt=new Set,Ht=[];return kt.forEach(Nt=>{if(Dt.has(Nt.fromPos))return;const Vt=[];let qt=Nt;for(;qt&&!Dt.has(qt.fromPos);)Vt.push(qt),Dt.add(qt.fromPos),qt=Mt.get(qt.toPos);Ht.push(...Vt)}),Ht})(at);return Pt.forEach((kt,Mt)=>{const Dt=kt.player.isFemale?"さん":"くん",Ht=ot[kt.fromPos],Nt=ot[kt.toPos],Vt=Mt===Pt.length-1?"入ります。":"、";ft.push(`${Ht}の ${lastRuby(kt.player)}${Dt} が ${Nt} に${Vt}`),gt.push({order:kt.order,text:`${kt.order}番 ${Nt} ${lastRuby(kt.player)}${Dt}`})}),gt.sort((kt,Mt)=>kt.order-Mt.order).forEach(kt=>ft.push(kt.text)),(lt.length+at.length+mt.length>=2||gt.length>=2)&&ft.push("以上に代わります。"),ft.length===0?"交代はありません。":ft.join(`
`)},positionStyles={投:{top:"66%",left:"50%"},捕:{top:"88%",left:"50%"},一:{top:"66%",left:"82%"},二:{top:"44%",left:"66%"},三:{top:"66%",left:"18%"},遊:{top:"44%",left:"32%"},左:{top:"22%",left:"18%"},中:{top:"22%",left:"50%"},右:{top:"22%",left:"81%"}},positions=Object.keys(positionStyles),BENCH="控え",formatPlayerLabel=$=>$?`${$.lastName??""}${$.firstName??""} #${$.number??"-"}`:"未設定",getPositionName=($,_e)=>{const et=Object.entries($).find(([tt,nt])=>nt===_e);return et?et[0]:"－"},formatLog=($,_e)=>`${$}：${formatPlayerLabel(_e)}`,DefenseChange=({onConfirmed:$})=>{const[_e,et]=reactExports.useState("自チーム");reactExports.useEffect(()=>{localForage.getItem("team").then(Et=>{Et&&typeof Et=="object"&&"name"in Et&&et(Et.name)})},[]);const[tt,nt]=reactExports.useState({}),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState([]),[lt,at]=reactExports.useState([]),[mt,ft]=reactExports.useState(null),[gt,vt]=reactExports.useState([]),[dt,pt]=reactExports.useState(!1),[ut,ct]=reactExports.useState(!0),[xt,yt]=reactExports.useState({}),[ht,bt]=reactExports.useState({}),[Tt,Pt]=reactExports.useState({});reactExports.useEffect(()=>{(async()=>{const Ct=await localForage.getItem("battingOrder"),St=await localForage.getItem("lineupAssignments"),Rt=await localForage.getItem("usedPlayerInfo");if(!Ct||!St||!Rt)return;const jt={...St};Object.entries(Rt).forEach(([It,zt])=>{const{subId:Wt,fromPos:Zt,reason:Kt}=zt;(Kt==="代打"||Kt==="代走")&&Zt in jt&&(jt[Zt]=Wt)}),Pt(jt)})()},[]),reactExports.useEffect(()=>{console.log("✅ DefenseScreen mounted"),(async()=>{const[Ct,St,Rt,jt]=await Promise.all([localForage.getItem("battingOrder"),localForage.getItem("lineupAssignments"),localForage.getItem("team"),localForage.getItem("usedPlayerInfo")]),It=Array.isArray(Ct)?Ct:[],zt=St??{},Wt=jt??{},Zt={...zt};let Kt=Array.isArray(Rt==null?void 0:Rt.players)?[...Rt.players]:[];for(const[Xt,rn]of Object.entries(Wt)){const bn=rn.subId,En=rn.fromPos,Tn=posNameToSymbol[En??""]??En??"";if(bn&&Tn&&(Zt[Tn]=bn,console.log(`[DEBUG] 代打/代走 ${bn} を ${Tn} に配置`),!Kt.some(Fn=>Fn.id===bn))){const Fn=Kt.find(qn=>qn.id===Number(Xt));Fn&&(Kt.push({...Fn,id:bn}),console.log(`[DEBUG] 仮選手追加: ${bn}`))}}st(It),Pt(zt),kt(Wt),nt(Zt),it(Kt),console.log("[DEBUG] battingOrder:",It),console.log("[DEBUG] usedPlayerInfo:",Wt),console.log("[DEBUG] 最終 assignments:",Zt)})()},[]);const[wt,kt]=reactExports.useState({});reactExports.useState([]);const Mt=useNavigate(),Dt={投:"①",捕:"②",一:"③",二:"④",三:"⑤",遊:"⑥",左:"⑦",中:"⑧",右:"⑨"},Ht=Et=>`${Dt[Et]??""}${Et}`,Nt=reactExports.useMemo(()=>{const Et=[];return ot.forEach((Ct,St)=>{const Rt=rt.find(zt=>zt.id===Ct.id);if(!Rt)return;const jt=xt[St],It=getPositionName(Tt,Rt.id);if(jt){const zt=getPositionName(tt,jt.id);It===zt?Et.push({type:"replace",order:St+1,from:Rt,to:jt,pos:It}):Et.push({type:"mixed",order:St+1,from:Rt,to:jt,fromPos:It,toPos:zt})}else{const zt=getPositionName(tt,Rt.id);It!==zt&&Et.push({type:"shift",order:St+1,player:Rt,fromPos:It,toPos:zt})}}),generateAnnouncementText(Et,_e,ot,tt,rt,Tt,wt)},[ot,tt,Tt,xt,_e,rt,wt]);reactExports.useEffect(()=>{if(!ot||!wt)return;const Et={...tt};let Ct=!1;ot.forEach(St=>{var jt;const Rt=wt[St.id];if(Rt!=null&&Rt.subId&&(St.reason==="代打"||St.reason==="代走")){const It=Tt?(jt=Object.entries(Tt).find(([,zt])=>zt===St.id))==null?void 0:jt[0]:void 0;It&&Et[It]!==Rt.subId&&(console.log(`[DEBUG] 代打/代走 ${Rt.subId} を ${It} に配置`),Et[It]=Rt.subId,Ct=!0)}}),Ct&&nt(Et)},[ot,wt,Tt]),reactExports.useEffect(()=>{(async()=>{const Et=await localForage.getItem("lineupAssignments"),Ct=await localForage.getItem("team");if(Ct!=null&&Ct.players){it(Ct.players);const St=Et?Object.values(Et).filter(jt=>jt!==null):[],Rt=await localForage.getItem("benchOutIds")||[];at(Ct.players.filter(jt=>!St.includes(jt.id)&&!Rt.includes(jt.id)))}ct(!1)})()},[]);const Vt=(Et,Ct)=>{Et.dataTransfer.setData("fromPos",Ct),Et.dataTransfer.effectAllowed="move",ft(Ct)},qt=(Et,Ct)=>{Et.dataTransfer.setData("playerId",Ct.toString()),Et.dataTransfer.setData("text/plain",Ct.toString()),Et.dataTransfer.effectAllowed="move",ft(BENCH)},un=(Et,Ct)=>{Ct.preventDefault(),mt&&(nt(St=>{var jt;const Rt={...St};if(mt!==BENCH&&Et!==BENCH&&mt!==Et){const It=St[mt],zt=St[Et];if(It===null||zt===null)return St;const Wt={...St};return Wt[mt]=zt,Wt[Et]=It,It!==null&&bt(Zt=>({...Zt,[It]:mt})),zt!==null&&bt(Zt=>({...Zt,[zt]:Et})),It!==null&&zt!==null&&ot.forEach((Zt,Kt)=>{const Xt=getPositionName(Tt,Zt.id),rn=Wt[Xt],bn=ot.some(Tn=>Tn.id===rn);if(!Object.values(xt).some(Tn=>Tn.id===rn&&rn!==Zt.id))if(rn!==Zt.id&&!bn){const Tn=rt.find(In=>In.id===rn);Tn&&yt(In=>({...In,[Kt]:Tn}))}else rn===Zt.id&&yt(Tn=>{const In={...Tn};return delete In[Kt],In})}),Bt(mt,It,Et,zt),Wt}if(mt===BENCH&&Et!==BENCH){const It=Ct.dataTransfer.getData("playerId")||Ct.dataTransfer.getData("text/plain");if(!It)return St;const zt=Number(It),Wt=Rt[Et];Rt[Et]=zt,Wt&&at(Xt=>{if(Xt.some(bn=>bn.id===Wt))return Xt;const rn=rt.find(bn=>bn.id===Wt);return rn?[...Xt,rn]:Xt}),at(Xt=>Xt.filter(rn=>rn.id!==zt));let Zt=ot.findIndex(Xt=>Xt.id===Wt);if(Zt===-1){const Xt=Object.entries(xt).find(([,rn])=>rn.id===Wt);Xt&&(Zt=Number(Xt[0]))}if(Zt!==-1&&Wt!==zt){const Xt=rt.find(rn=>rn.id===zt);Xt&&yt(rn=>({...rn,[Zt]:Xt}))}yt(Xt=>{const rn={...Xt};return ot.forEach((bn,En)=>{const Tn=getPositionName(Tt,bn.id),In=Rt[Tn],Fn=typeof In=="number"&&ot.some(An=>An.id===In),qn=Object.values(Rt).includes(bn.id);if(In&&In!==bn.id&&!Fn&&!qn){const An=rt.find(hn=>hn.id===In);An&&(rn[En]=An)}}),rn});const Kt=(jt=Object.entries(Tt).find(([Xt,rn])=>rn===zt))==null?void 0:jt[0];return Kt&&Kt!==Et&&yt(Xt=>{const rn={...Xt},bn=ot.findIndex(En=>En.id===zt);return bn!==-1&&delete rn[bn],rn}),Bt(BENCH,zt,Et,Wt),Rt}return St}),ft(null))},Bt=(Et,Ct,St,Rt)=>{const jt=rt.find(Zt=>Zt.id===Ct),It=rt.find(Zt=>Zt.id===Rt);if(!jt&&!It||Ct!==null&&Rt!==null&&Ct===Rt)return;const zt=`${formatLog(Et,jt)} ⇄ ${formatLog(St,It)}`,Wt=`${formatLog(St,It)} ⇄ ${formatLog(Et,jt)}`;vt(Zt=>Zt.includes(zt)?Zt:Zt.includes(Wt)?Zt.filter(Kt=>Kt!==Wt):[...Zt,zt])},nn=Et=>{const Ct=[...Et],St=new Set;for(let Rt=0;Rt<Ct.length;Rt++){if(St.has(Rt))continue;const It=Ct[Rt].split(" ⇄ ").reverse().join(" ⇄ ");for(let zt=Rt+1;zt<Ct.length;zt++)if(Ct[zt]===It){St.add(Rt),St.add(zt);break}}return Ct.filter((Rt,jt)=>!St.has(jt))},tn=async()=>{const Et=await localForage.getItem("usedPlayerInfo")||{};positions.forEach(Rt=>{var Wt;const jt=Tt[Rt],It=tt[Rt];if(jt&&It&&jt!==It){const Zt=ot.findIndex(Kt=>Kt.id===jt);if(Zt!==-1){const Kt=Zt+1,Xt=(Wt=ot[Zt])==null?void 0:Wt.reason,rn=Xt==="スタメン",bn=Xt==="代打"?"代打":Xt==="代走"?"代走":Rt;Et[jt]={fromPos:bn,subId:It,reason:"守備交代",order:Kt,wasStarter:rn}}}}),await localForage.setItem("usedPlayerInfo",Et),console.log("✅ 守備交代で登録された usedPlayerInfo：",Et);const Ct=structuredClone(ot);positions.forEach(Rt=>{const jt=Tt[Rt],It=tt[Rt];if(It){const zt=Ct.findIndex(Zt=>Zt.id===It),Wt=jt?Ct.findIndex(Zt=>Zt.id===jt):Ct.findIndex(Zt=>Zt.id===null);if(Wt!==-1)Ct[Wt]={id:It,reason:"途中出場"},console.log(`[SET] ${Rt}：打順${Wt+1} に ${It} を途中出場で登録`);else if(zt===-1){const Zt=Ct.findIndex(Kt=>Kt.id===null);Zt!==-1?(Ct[Zt]={id:It,reason:"途中出場"},console.log(`[NEW] ${Rt}：空いてる打順${Zt+1} に ${It} を登録`)):console.warn(`[SKIP] ${Rt}：${It} を打順に登録できる空きがありません`)}else Ct[zt]={id:It,reason:Ct[zt].reason==="代打"?"途中出場":Ct[zt].reason},console.log(`[KEEP] ${Rt}：${It} は既に登録済み（打順${zt+1}）`)}}),Object.entries(Tt).forEach(([Rt,jt])=>{const It=tt[Rt];if(!jt||!It)return;const zt=ot.find(Zt=>Zt.id===jt&&Zt.reason==="代打"),Wt=Object.values(tt).includes(jt);if(zt&&!Wt){const Zt=ot.findIndex(Kt=>Kt.id===jt);Zt!==-1&&(Ct[Zt]={id:It,reason:"途中出場"},console.log(`[FIXED] 代打(${jt}) ➡ 控え(${It})を打順${Zt+1}に上書き`))}}),ot.forEach((Rt,jt)=>{const It=Object.entries(tt).find(([zt,Wt])=>Wt===Rt.id);Rt.reason==="代打"&&!It&&(Ct[jt].reason="途中出場",console.log(`[FIX] 代打(${Rt.id})が守備に就いていないが、控えと交代されたため「途中出場」に修正（打順${jt+1}）`))}),Ct.forEach((Rt,jt)=>{const It=Rt.reason==="代打",zt=Object.values(tt).includes(Rt.id);It&&zt&&(Ct[jt]={...Rt,reason:"途中出場"},console.log(`[UPDATE] 守備に就いた代打(${Rt.id})を「途中出場」に修正（打順${jt+1}）`))});{const Rt=new Set,jt=[];for(const It of Ct)It.id!=null&&!Rt.has(It.id)&&(Rt.add(It.id),jt.push(It));for(Object.values(tt).forEach(It=>{It!=null&&!Rt.has(It)&&(Rt.add(It),jt.push({id:It,reason:"途中出場"}))});jt.length<9;)jt.push({id:null,reason:""});Ct.splice(0,Ct.length,...jt)}await localForage.setItem("lineupAssignments",tt),await localForage.setItem("battingReplacements",xt),await localForage.setItem("battingOrder",Ct),console.log("[CONFIRM] 守備交代確定後の battingOrder:"),console.table(Ct);const St={};positions.forEach(Rt=>{const jt=Tt[Rt],It=tt[Rt];jt&&It&&jt!==It&&(St[jt]={fromPos:Rt,subId:It})}),await localForage.setItem("usedPlayerInfo",St),$==null||$(),console.log("✅ onConfirmed called")},_n=()=>{pt(!0)};reactExports.useEffect(()=>{rt.slice(0,9).forEach((Et,Ct)=>{const St=getPositionName(tt,Et.id),Rt=getPositionName(Tt,Et.id),jt=Tt[Rt];tt[St],formatPlayerLabel(Et)})},[tt,Tt,rt]);const Nn=()=>{const Et=nn(gt);if(Et.length===0)return;const Ct=`守備交代をお知らせします。${Et.join("、")}`,St=new SpeechSynthesisUtterance(Ct);St.lang="ja-JP",window.speechSynthesis.cancel(),window.speechSynthesis.speak(St)},Lt=()=>{window.speechSynthesis.cancel()};return ut?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500 mt-10",children:"読み込み中..."}):(nn(gt),jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:"守備交代"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-2xl mx-auto mb-6",children:[jsxRuntimeExports.jsx("img",{src:"/field.jpg",alt:"フィールド図",className:"w-full rounded shadow pointer-events-none",draggable:!1}),positions.map(Et=>{var Zt;const Ct=tt[Et],St=Tt[Et],Rt=Ct?rt.find(Kt=>Kt.id===Ct)??null:null;let jt;if(Ct){const Kt=ot.find(Xt=>Xt.id===Ct);if(jt=Kt==null?void 0:Kt.reason,!jt){const Xt=Object.entries(wt).find(([,rn])=>rn.subId===Ct);if(Xt){const rn=Number(Xt[0]);jt=(Zt=ot.find(En=>En.id===rn))==null?void 0:Zt.reason}console.warn(`[WARN] reasonが見つからない: currentId = ${Ct}`),console.warn("usedPlayerInfo:",wt),console.warn("battingOrder:",ot)}}const Wt=`absolute text-sm font-bold px-2 py-1 rounded cursor-move 
    ${jt==="代打"||jt==="代走"?"text-yellow-300 bg-black bg-opacity-90 ring-2 ring-yellow-400":Ct!==St?"text-white bg-black bg-opacity-60 ring-2 ring-yellow-400":"text-white bg-black bg-opacity-60"}`;return jsxRuntimeExports.jsx("div",{onDragOver:Kt=>Kt.preventDefault(),onDrop:Kt=>un(Et,Kt),className:Wt,style:{...positionStyles[Et],transform:"translate(-50%, -50%)",zIndex:10},children:Rt?jsxRuntimeExports.jsxs("div",{draggable:!0,onDragStart:Kt=>Vt(Kt,Et),className:"cursor-move text-base whitespace-nowrap text-center bg-black bg-opacity-60 text-white font-bold rounded px-1 py-0.5",style:{minWidth:"80px"},children:[Rt.lastName??"",Rt.firstName??""," #",Rt.number]}):jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-base",children:"空き"})},Et)})]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"控え選手"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-6",onDragOver:Et=>Et.preventDefault(),onDrop:Et=>un(BENCH,Et),children:lt.map(Et=>jsxRuntimeExports.jsx("div",{draggable:!0,onDragStart:Ct=>qt(Ct,Et.id),className:"px-2 py-1 bg-gray-200 rounded cursor-move select-none",children:formatPlayerLabel(Et)},Et.id))}),jsxRuntimeExports.jsxs("div",{className:"mt-8 flex flex-col lg:flex-row gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"打順（1番〜9番）"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm border border-gray-300 p-2 rounded",children:ot.map((Et,Ct)=>{const St=rt.find(rn=>rn.id===Et.id);if(!St)return null;const Rt=xt[Ct],jt=(Rt==null?void 0:Rt.id)??Et.id,It=Rt??St,zt=getPositionName(tt,jt),Wt=getPositionName(Tt,Et.id),Zt=Rt&&Rt.id!==Et.id,Kt=zt!==Wt,Xt=Et.reason==="代打";return jsxRuntimeExports.jsx("li",{className:"border px-2 py-1 rounded bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"w-8",children:[Ct+1,"番"]}),jsxRuntimeExports.jsx("div",{children:Xt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-500 text-sm",children:"代打"}),jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-bold",children:[zt,"　",It.lastName,It.firstName," #",It.number]})]}):Zt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"line-through text-gray-500 text-sm",children:[Wt,"　",St.lastName,St.firstName," #",St.number]}),jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-bold",children:[zt,"　",It.lastName,It.firstName," #",It.number]})]}):Kt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"line-through text-gray-500 text-sm",children:Wt}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-red-600 font-bold",children:zt}),"　",St.lastName,St.firstName," #",St.number]})]}):jsxRuntimeExports.jsxs("div",{children:[zt,"　",St.lastName,St.firstName," #",St.number]})})]})},`${Ct}-${jt}`)})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-1/2",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"交代内容"}),jsxRuntimeExports.jsx("ul",{className:"text-sm border border-gray-300 p-3 rounded bg-white space-y-1",children:(()=>{const Et={投:1,捕:2,一:3,二:4,三:5,遊:6,左:7,中:8,右:9},Ct=ot.map((St,Rt)=>{const jt=rt.find(Tn=>Tn.id===St.id);if(!jt)return null;let It=xt[Rt]??rt.find(Tn=>Tn.id===St.id);const zt=(It==null?void 0:It.id)??St.id,Wt=It??jt,Zt=getPositionName(tt,zt),Kt=getPositionName(Tt,St.id),Xt=It&&It.id!==St.id,rn=Zt!==Kt,bn=St.reason==="代打",En=St.reason==="代走";return bn&&It&&!Object.values(tt).includes(It.id)?{key:`pinch-${Rt}`,type:1,pos:"",jsx:jsxRuntimeExports.jsxs("li",{children:["代打 ➡ ",It.lastName,It.firstName," #",It.number]},`pinch-${Rt}`)}:bn&&Zt?(It||(It=rt.find(Tn=>Tn.id===St.id)),console.log(`✅ [${Rt+1}番] 条件一致（代打 ➡ 守備位置あり）`),{key:`pinch-assigned-${Rt}`,type:1,pos:Zt,jsx:jsxRuntimeExports.jsxs("li",{children:["代打 ➡ ",Ht(Zt),"：",It.lastName,It.firstName," #",It.number]},`pinch-assigned-${Rt}`)}):En&&It?{key:`runner-${Rt}`,type:2,pos:Zt,jsx:jsxRuntimeExports.jsxs("li",{children:["代走 ➡ ",Zt??"―","：",It.lastName,It.firstName," #",It.number]},`runner-${Rt}`)}:Xt?{key:`replaced-${Rt}`,type:3,pos:Zt,jsx:jsxRuntimeExports.jsxs("li",{children:[Ht(Kt),"：",jt.lastName,jt.firstName," #",jt.number," ➡ ",Ht(Zt),"：",Wt.lastName,Wt.firstName," #",Wt.number]},`replaced-${Rt}`)}:rn?{key:`shift-${Rt}`,type:4,pos:Zt,jsx:jsxRuntimeExports.jsxs("li",{children:[Ht(Kt),"：",jt.lastName,jt.firstName," #",jt.number," ➡ ",Ht(Zt)]},`shift-${Rt}`)}:null}).filter(Boolean);return Ct.sort((St,Rt)=>{if(St.type!==Rt.type)return St.type-Rt.type;const jt=Et[St.pos]??99,It=Et[Rt.pos]??99;return jt-It}),Ct.map(St=>St.jsx)})()})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 text-center flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:tn,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition",children:"交代を確定する"}),jsxRuntimeExports.jsx("button",{onClick:_n,className:"bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700 transition",children:"アナウンス表示"})]}),dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:`bg-white rounded p-6 max-w-md w-full text-left\r
                   flex flex-col max-h-[90vh] overflow-y-auto`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-4",children:jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"mic",className:"w-6 h-6"})}),Nt&&jsxRuntimeExports.jsx("div",{className:"flex-1 mt-4 px-4 py-3 border rounded bg-white overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"text-red-600 text-lg font-bold whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:Nt}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:Nn,children:"音声読み上げ"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",onClick:Lt,children:"音声停止"})]}),jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",onClick:()=>{pt(!1),Mt(-1)},children:"閉じる"})]})})]}))},isTouchDevice$1=()=>typeof window<"u"&&"ontouchstart"in window,DefenseChangeWrapped=$=>jsxRuntimeExports.jsx(DndProvider,{backend:isTouchDevice$1()?TouchBackend:HTML5Backend,options:isTouchDevice$1()?{enableTouchEvents:!0,enableMouseEvents:!0,touchSlop:10}:void 0,children:jsxRuntimeExports.jsx(DefenseChange,{...$})}),APP_VERSION="0.0.6",screenMap={"チーム・選手登録":"teamRegister",試合作成:"matchCreate",試合開始:"startGame",テンプレート編集:"templateEdit"},Menu=({onNavigate:$})=>{const[_e,et]=reactExports.useState(!1),[tt,nt]=reactExports.useState(null);return reactExports.useState(!1),reactExports.useState(""),reactExports.useEffect(()=>{console.log("📺 screen =",screen),(async()=>{const rt=await localForage.getItem("lastGameScreen");rt&&typeof rt=="string"&&["offense","defense","defenseChange","startGame","announcement"].includes(rt)&&(et(!0),nt(rt))})()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center px-6 py-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black tracking-widest text-center drop-shadow-lg leading-tight",children:"⚾️Easyアナウンス🎤"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-lg font-semibold tracking-wide text-center drop-shadow mt-1 mb-10",children:"～ Pony League Version ～"}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[Object.keys(screenMap).map((rt,it)=>jsxRuntimeExports.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 w-full py-5 rounded-2xl shadow text-white text-lg font-semibold transition-transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-gray-300",onClick:()=>$(screenMap[rt]),children:rt},rt)),_e&&tt&&jsxRuntimeExports.jsx("button",{onClick:()=>$(tt),className:"bg-red-400 hover:bg-red-500 w-full py-5 rounded-2xl shadow text-white text-lg font-semibold transition-transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-red-200",children:"▶ 試合を継続する"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12 text-white text-sm opacity-70 select-none",children:["バージョン: ",APP_VERSION]})]})},NotImplemented=({onBack:$})=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 px-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-xl mb-6",children:"未実装の画面です"}),jsxRuntimeExports.jsx("button",{className:"px-5 py-3 bg-gray-300 rounded-full shadow hover:bg-gray-400 transition",onClick:$,children:"← メニューに戻る"})]}),App=()=>{const[$,_e]=reactExports.useState("menu"),et=reactExports.useRef(!1),tt=reactExports.useRef(!1),[nt,rt]=reactExports.useState(!1),[it,ot]=reactExports.useState(""),[st,lt]=reactExports.useState(""),[at,mt]=reactExports.useState(!1),[ft]=reactExports.useState("本日は気温が高く、熱中症が心配されますので、水分をこまめにとり、体調に気を付けてください。"),[gt,vt]=reactExports.useState(""),[dt,pt]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{await localForage.getItem("initialized")||(await localForage.setItem("team",{name:"東京武蔵ポニー",furigana:"とうきょうむさしぽにー",players:[{id:1,lastName:"田中",firstName:"太郎",lastNameKana:"たなか",firstNameKana:"たろう",number:"1",isFemale:!1},{id:2,lastName:"鈴木",firstName:"次郎",lastNameKana:"すずき",firstNameKana:"じろう",number:"2",isFemale:!1}]}),await localForage.setItem("initialized",!0),console.log("✅ 初期チームデータを登録しました。"))})()},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$==="menu"&&jsxRuntimeExports.jsx(Menu,{onNavigate:_e}),$==="teamRegister"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("menu"),children:"← メニューに戻る"}),jsxRuntimeExports.jsx(TeamRegister,{})]}),$==="matchCreate"&&jsxRuntimeExports.jsx(MatchCreate,{onBack:()=>_e("menu"),onGoToLineup:()=>_e("startingLineup")}),$==="startingLineup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("matchCreate"),children:"← 試合情報に戻る"}),jsxRuntimeExports.jsx(StartingLineupWrapped,{})]}),$==="startGame"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("menu"),children:"← メニューに戻る"}),jsxRuntimeExports.jsx(StartGame,{onStart:async()=>{const ut=await localForage.getItem("matchInfo");if(ut&&typeof ut=="object"&&"isHome"in ut){const{isHome:ct}=ut;_e(ct===!1?"offense":"defense")}else alert("試合情報が見つかりません。試合作成画面で設定してください。")},onShowAnnouncement:()=>_e("announcement")})]}),$==="announcement"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("startGame"),children:"← 試合開始画面に戻る"}),jsxRuntimeExports.jsx(PreGameAnnouncement,{onNavigate:_e,onBack:()=>_e("startGame")})]}),$==="warmup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("announcement"),children:"← 試合前アナウンスメニューに戻る"}),$==="warmup"&&jsxRuntimeExports.jsx(Warmup,{onBack:()=>_e("announcement")})]}),$==="sheetKnock"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("announcement"),children:"← 試合前アナウンスメニューに戻る"}),jsxRuntimeExports.jsx(SheetKnock,{onBack:()=>_e("announcement")})]}),$==="announceStartingLineup"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("announcement"),children:"← 試合前アナウンスメニューに戻る"}),jsxRuntimeExports.jsx(AnnounceStartingLineup,{onNavigate:_e})]}),$==="gather"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("announcement"),children:"← 試合前アナウンスメニューに戻る"}),jsxRuntimeExports.jsx(Gather,{onNavigate:_e})]}),$==="startGreeting"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("announcement"),children:"← 試合前アナウンスメニューに戻る"}),jsxRuntimeExports.jsx(StartGreeting,{onBack:()=>_e("announcement")})]}),$==="seatIntroduction"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e(et.current?"defense":"announcement"),children:["← ",et.current?"試合に戻る":"試合前アナウンスメニューに戻る"]}),jsxRuntimeExports.jsx(SeatIntroduction,{onNavigate:_e,onBack:()=>_e(et.current?tt.current?"offense":"defense":"announcement"),fromGame:et.current})]}),$==="templateEdit"&&jsxRuntimeExports.jsx(NotImplemented,{onBack:()=>_e("menu")}),$==="offense"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"m-4 flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("menu"),children:"← メニューに戻る"}),jsxRuntimeExports.jsxs("select",{className:"px-4 py-2 rounded-full bg-gray-100 text-gray-800 shadow-sm border border-gray-300",value:gt,onChange:async ut=>{const ct=ut.target.value;if(ct==="end"){const xt=new Date,yt=`${xt.getHours()}時${xt.getMinutes()}分`;ot(yt);const ht=await localForage.getItem("team"),bt=await localForage.getItem("matchInfo"),Tt=await localForage.getItem("scores"),Pt=(bt==null?void 0:bt.isHome)??!0,wt=Object.values(Tt).reduce((Nt,Vt)=>{const qt=Pt?Vt.bottom??0:Vt.top??0;return Nt+Number(qt)},0),kt=Object.values(Tt).reduce((Nt,Vt)=>{const qt=Pt?Vt.top??0:Vt.bottom??0;return Nt+Number(qt)},0),Mt=(ht==null?void 0:ht.name)||"自チーム",Dt=((bt==null?void 0:bt.matchNumber)??1)+1,Ht=(bt==null?void 0:bt.matchNumber)??1;wt>kt?(lt(`ただいまの試合は、ご覧のように${wt}対${kt}で${Mt}が勝ちました。
審判員の皆様、ありがとうございました。
健闘しました両チームの選手に、盛大な拍手をお願いいたします。
尚、この試合の終了時刻は ${yt} です。
これより、ピッチングレコードの確認を行います。
両チームの監督、キャプテンはピッチングレコードを記載の上、バックネット前にお集まりください。
球審、EasyScore担当、公式記録員、球場役員もお集まりください。
第${Dt}試合のグランド整備は、第${Dt}試合のシートノック終了後に行います。
第${Ht}試合の選手は、グランド整備ご協力をよろしくお願いいたします。`),rt(!0)):alert("試合終了しました")}else ct==="tiebreak"?alert("タイブレークを選択しました"):ct==="continue"?alert("継続試合を選択しました"):ct==="heat"?mt(!0):ct==="manual"&&pt(!0)},defaultValue:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,hidden:!0,children:"その他"}),jsxRuntimeExports.jsx("option",{value:"end",children:"試合終了"}),jsxRuntimeExports.jsx("option",{value:"tiebreak",children:"タイブレーク"}),jsxRuntimeExports.jsx("option",{value:"continue",children:"継続試合"}),jsxRuntimeExports.jsx("option",{value:"heat",children:"熱中症"}),jsxRuntimeExports.jsx("option",{value:"manual",children:"連盟🎤マニュアル"})]})]}),jsxRuntimeExports.jsx(OffenseScreen,{onSwitchToDefense:()=>_e("defense"),onGoToSeatIntroduction:()=>{et.current=!0,tt.current=!0,_e("seatIntroduction")}})]}),$==="defense"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"m-4 flex justify-between items-center",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("menu"),children:"← メニューに戻る"}),jsxRuntimeExports.jsxs("select",{className:"px-4 py-2 rounded-full bg-gray-100 text-gray-800 shadow-sm border border-gray-300",value:gt,onChange:async ut=>{const ct=ut.target.value;if(ct==="end"){const xt=new Date,yt=`${xt.getHours()}時${xt.getMinutes()}分`;ot(yt);const ht=await localForage.getItem("team"),bt=await localForage.getItem("matchInfo"),Tt=await localForage.getItem("scores"),Pt=(bt==null?void 0:bt.isHome)??!0,wt=Object.values(Tt).reduce((Nt,Vt)=>{const qt=Pt?Vt.bottom??0:Vt.top??0;return Nt+Number(qt)},0),kt=Object.values(Tt).reduce((Nt,Vt)=>{const qt=Pt?Vt.top??0:Vt.bottom??0;return Nt+Number(qt)},0),Mt=(ht==null?void 0:ht.name)||"自チーム",Dt=((bt==null?void 0:bt.matchNumber)??1)+1,Ht=(bt==null?void 0:bt.matchNumber)??1;wt>kt?(lt(`ただいまの試合は、ご覧のように${wt}対${kt}で${Mt}が勝ちました。
審判員の皆様、ありがとうございました。
健闘しました両チームの選手に、盛大な拍手をお願いいたします。
尚、この試合の終了時刻は ${yt} です。
これより、ピッチングレコードの確認を行います。
両チームの監督、キャプテンはピッチングレコードを記載の上、バックネット前にお集まりください。
球審、EasyScore担当、公式記録員、球場役員もお集まりください。
第${Dt}試合のグランド整備は、第${Dt}試合のシートノック終了後に行います。
第${Ht}試合の選手は、グランド整備ご協力をよろしくお願いいたします。`),rt(!0)):alert("試合終了しました")}else ct==="tiebreak"?alert("タイブレークを選択しました"):ct==="continue"?alert("継続試合を選択しました"):ct==="heat"?mt(!0):ct==="manual"&&pt(!0)},defaultValue:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,hidden:!0,children:"その他"}),jsxRuntimeExports.jsx("option",{value:"end",children:"試合終了"}),jsxRuntimeExports.jsx("option",{value:"tiebreak",children:"タイブレーク"}),jsxRuntimeExports.jsx("option",{value:"continue",children:"継続試合"}),jsxRuntimeExports.jsx("option",{value:"heat",children:"熱中症"}),jsxRuntimeExports.jsx("option",{value:"manual",children:"連盟🎤マニュアル"})]})]}),jsxRuntimeExports.jsx(DefenseScreen,{onChangeDefense:()=>_e("defenseChange"),onSwitchToOffense:()=>_e("offense")},"defense")]}),$==="defenseChange"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"m-4 px-4 py-2 bg-gray-200 rounded-full shadow-sm hover:bg-gray-300 transition",onClick:()=>_e("defense"),children:"← 守備画面に戻る"}),jsxRuntimeExports.jsx(DefenseChangeWrapped,{onConfirmed:()=>{console.log("✅ setScreen to defense"),_e("defense")}})]}),nt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-pink-100 p-6 rounded-xl shadow-xl text-center space-y-4 max-w-2xl w-full",children:[jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-red-600 flex items-center justify-center gap-2 leading-relaxed",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"Mic",className:"w-10 h-10 mr-4"}),jsxRuntimeExports.jsx("div",{className:"text-left whitespace-pre-line",children:st})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{const ut=new SpeechSynthesisUtterance(st);speechSynthesis.speak(ut)},children:"読み上げ"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>speechSynthesis.cancel(),children:"停止"}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>rt(!1),children:"OK"})]})]})}),at&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"border border-red-500 bg-red-200 p-6 rounded-lg shadow text-center text-xl text-red-600 font-bold space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-xl font-bold text-red-600 flex items-center justify-center gap-2 leading-relaxed",children:[jsxRuntimeExports.jsx("img",{src:"/icons/mic-red.png",alt:"Mic",className:"w-10 h-10 mr-4"}),jsxRuntimeExports.jsx("div",{className:"text-left whitespace-pre-line",children:ft})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{const ut=new SpeechSynthesisUtterance(ft);speechSynthesis.speak(ut)},children:"読み上げ"}),jsxRuntimeExports.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>speechSynthesis.cancel(),children:"停止"}),jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>mt(!1),children:"OK"})]})]})}),dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-xl shadow-lg flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-800 text-white px-4 py-2 text-center font-bold",children:"連盟🎤マニュアル"}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsx(ManualViewer,{})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 border-t px-4 py-3 flex justify-center",children:jsxRuntimeExports.jsx("button",{className:"bg-green-600 text-white px-6 py-2 rounded-full shadow-md",onClick:()=>pt(!1),children:"OK"})})]})})]})},isTouchDevice=()=>typeof window<"u"&&"ontouchstart"in window,AppWrapped=()=>jsxRuntimeExports.jsx(DndProvider,{backend:isTouchDevice()?TouchBackend:HTML5Backend,options:isTouchDevice()?{enableMouseEvents:!0}:void 0,children:jsxRuntimeExports.jsx(App,{})}),index="";function registerSW($={}){const{immediate:_e=!1,onNeedRefresh:et,onOfflineReady:tt,onRegistered:nt,onRegisteredSW:rt,onRegisterError:it}=$;let ot,st;const lt=async(mt=!0)=>{await st};async function at(){if("serviceWorker"in navigator){if(ot=await __vitePreload(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]).then(({Workbox:mt})=>new mt("/sw.js",{scope:"/",type:"classic"})).catch(mt=>{it==null||it(mt)}),!ot)return;ot.addEventListener("activated",mt=>{(mt.isUpdate||mt.isExternal)&&window.location.reload()}),ot.addEventListener("installed",mt=>{mt.isUpdate||tt==null||tt()}),ot.register({immediate:_e}).then(mt=>{rt?rt("/sw.js",mt):nt==null||nt(mt)}).catch(mt=>{it==null||it(mt)})}}return st=at(),lt}registerSW();createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AppWrapped,{})})}));
